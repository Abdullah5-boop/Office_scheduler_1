/**
@license
DayPilot Pro for JavaScript 2025.4.6765 (trial)
Copyright (c) 2005 - 2025 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
var DayPilot={Global:{}};!function(DayPilot){"use strict";function e(e,t){return DayPilot.isArray(t)||(t=e.areas,t||(e.cache?t=e.cache.areas:e.data&&(t=e.data.areas))),t}function t(e){var t=DayPilot.Date.Cache.Ticks;if(t[e])return DayPilot.Stats.cacheHitsTicks+=1,t[e];var n,i=new Date(e),a=i.getUTCMilliseconds();n=0===a?"":a<10?".00"+a:a<100?".0"+a:"."+a;var r=i.getUTCSeconds();r<10&&(r="0"+r);var o=i.getUTCMinutes();o<10&&(o="0"+o);var l=i.getUTCHours();l<10&&(l="0"+l);var s=i.getUTCDate();s<10&&(s="0"+s);var d=i.getUTCMonth()+1;d<10&&(d="0"+d);var c=i.getUTCFullYear();if(c<=0)throw"The minimum year supported is 1.";c<10?c="000"+c:c<100?c="00"+c:c<1e3&&(c="0"+c);var u=c+"-"+d+"-"+s+"T"+l+":"+o+":"+r+n;return t[e]=u,u}function n(e,t){"string"==typeof t&&(t=DayPilot.Locale.find(t)),t=t||DayPilot.Locale.US;var n=[{"seq":"yyyy","expr":"[0-9]{4,4}","str":function(e){return e.getYear()}},{"seq":"yy","expr":"[0-9]{2,2}","str":function(e){return e.getYear()%100},"transform":function(e){return parseInt(e)+2e3}},{"seq":"mm","expr":"[0-9]{2,2}","str":function(e){var t=e.getMinutes();return t<10?"0"+t:t}},{"seq":"m","expr":"[0-9]{1,2}","str":function(e){return e.getMinutes()}},{"seq":"HH","expr":"[0-9]{2,2}","str":function(e){var t=e.getHours();return t<10?"0"+t:t}},{"seq":"H","expr":"[0-9]{1,2}","str":function(e){return e.getHours()}},{"seq":"hh","expr":"[0-9]{2,2}","str":function(e){var t=e.getHours();t%=12,0===t&&(t=12);var n=t;return n<10?"0"+n:n}},{"seq":"h","expr":"[0-9]{1,2}","str":function(e){var t=e.getHours();return t%=12,0===t&&(t=12),t}},{"seq":"ss","expr":"[0-9]{2,2}","str":function(e){var t=e.getSeconds();return t<10?"0"+t:t}},{"seq":"s","expr":"[0-9]{1,2}","str":function(e){return e.getSeconds()}},{"seq":"MMMM","expr":"[^\\s0-9]*","str":function(e){return t.monthNames[e.getMonth()]},"transform":function(e){var n=DayPilot.indexOf(t.monthNames,e,i);return n<0?null:n+1}},{"seq":"MMM","expr":"[^\\s0-9]*","str":function(e){return t.monthNamesShort[e.getMonth()]},"transform":function(e){var n=DayPilot.indexOf(t.monthNamesShort,e,i);return n<0?null:n+1}},{"seq":"MM","expr":"[0-9]{2,2}","str":function(e){var t=e.getMonth()+1;return t<10?"0"+t:t}},{"seq":"M","expr":"[0-9]{1,2}","str":function(e){return e.getMonth()+1}},{"seq":"dddd","expr":"[^\\s0-9]*","str":function(e){return t.dayNames[e.getDayOfWeek()]}},{"seq":"ddd","expr":"[^\\s0-9]*","str":function(e){return t.dayNamesShort[e.getDayOfWeek()]}},{"seq":"dd","expr":"[0-9]{2,2}","str":function(e){var t=e.getDay();return t<10?"0"+t:t}},{"seq":"%d","expr":"[0-9]{1,2}","str":function(e){return e.getDay()}},{"seq":"d","expr":"[0-9]{1,2}","str":function(e){return e.getDay()}},{"seq":"tt","expr":"(AM|PM|am|pm)","str":function(e){return e.getHours()<12?"AM":"PM"},"transform":function(e){return e.toUpperCase()}}],a=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy")||this.findSequence("yy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h")},this.findSequence=function(t){function i(e){return parseInt(e)}return e.indexOf(t)===-1?null:{"findValue":function(r){for(var o=a(e),l=null,s=0;s<n.length;s++){var d=t===n[s].seq,c=n[s].expr;d&&(c="("+c+")",l=n[s].transform),o=o.replace(n[s].seq,c)}o="^"+o+"$";try{var u=new RegExp(o),h=u.exec(r);return h?(l=l||i)(h[1]):null}catch(e){throw"unable to create regex from: "+o}}}},this.print=function(t){for(var i=function(e){for(var t=0;t<n.length;t++)if(n[t]&&n[t].seq===e)return n[t];return null},a=e.length<=0,r=0,o=[];!a;){var l=e.substring(r),s=/%?(.)\1*/.exec(l);if(s&&s.length>0){var d=s[0],c=i(d);c?o.push(c):o.push(d),r+=d.length,a=e.length<=r}else a=!0}for(var u=0;u<o.length;u++){var h=o[u];"string"!=typeof h&&(o[u]=h.str(t))}return o.join("")},this.parse=function(e){var t=this.year.findValue(e);if(!t)return null;var n=this.month.findValue(e);if(DayPilot.Util.isNullOrUndefined(n))return null;if(n>12||n<1)return null;var i=this.day.findValue(e),a=DayPilot.Date.fromYearMonthDay(t,n).daysInMonth();if(i<1||i>a)return null;var r=this.hours?this.hours.findValue(e):0,o=this.minutes?this.minutes.findValue(e):0,l=this.seconds?this.seconds.findValue(e):0,s=this.ampm?this.ampm.findValue(e):null;if(this.ampm&&this.hours12){var d=this.hours12.findValue(e);if(d<1||d>12)return null;r="PM"===s?12===d?12:d+12:12===d?0:d}if(r<0||r>23)return null;if(o<0||o>59)return null;if(l<0||l>59)return null;var c=new Date;return c.setUTCFullYear(t,n-1,i),c.setUTCHours(r),c.setUTCMinutes(o),c.setUTCSeconds(l),c.setUTCMilliseconds(0),new DayPilot.Date(c)},this.init()}function i(e,t){return!DayPilot.Util.isNullOrUndefined(e)&&(!DayPilot.Util.isNullOrUndefined(t)&&e.toLocaleLowerCase()===t.toLocaleLowerCase())}function a(e){e=Math.min(e,255),e=Math.max(e,0);var t=e.toString(16);return e<16?"0"+t:t}function r(e){function t(){var t=new URL(e,location.href);return t.origin+t.pathname!==location.origin+location.pathname}var n=this;this.l=function(){return t()?fetch(e).then(function(e){return e.text()}).then(function(e){var t=document.createElement("div");return t.innerHTML=e,new Promise(function(e){e(t.querySelector(n.P()))})}):new Promise(function(e){e(document.querySelector(n.P()))})},this.P=function(){return new URL(e,location.href).hash}}if("undefined"==typeof DayPilot.browser){DayPilot.browser={get ios(){var e,t;return"undefined"!=typeof navigator&&((null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("iPad"))||(null===(t=navigator.userAgent)||void 0===t?void 0:t.includes("iPhone")))},get hover(){return!window.matchMedia("(any-hover: none)").matches}},DayPilot.touch={start:"touchstart",move:"touchmove",end:"touchend"},DayPilot.mo3=function(e,t){var n=t.touches&&t.touches[0]?t.touches[0]:t;if(!e){return{x:void 0!==n.pageX?n.pageX:n.clientX+window.pageXOffset,y:void 0!==n.pageY?n.pageY:n.clientY+window.pageYOffset,shift:!!t.shiftKey,meta:!!t.metaKey,ctrl:!!t.ctrlKey,alt:!!t.altKey}}var i=e.getBoundingClientRect(),a=n.clientX-i.left,r=n.clientY-i.top;return a=Math.round(a),r=Math.round(r),{x:a,y:r,shift:!!t.shiftKey,meta:!!t.metaKey,ctrl:!!t.ctrlKey,alt:!!t.altKey}},DayPilot.mc=function(e){if(e.touches){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.list=function(e,t){if(e&&e.isDayPilotList&&!t)return e;var n=DayPilot.isArray(e)||"[object NodeList]"===Object.prototype.toString.call(e),i=!n&&!DayPilot.Util.isNullOrUndefined(e),a=[];if(a.isDayPilotList=!0,a.clone=function(){for(var e=DayPilot.list(),t=0;t<a.length;t++)e.push(a[t]);return e},a.each=function(e){if(e){if(a.forEach)return void a.forEach(e);for(var t=0;t<this.length;t++)e(a[t],t,a)}},a.addProps=function(e){var t=a.clone();if(e)for(var n in e)t[n]=e[n];return t},a.last=function(){return 0===a.length?null:a[a.length-1]},a.first=function(){return 0===a.length?null:a[0]},a.add=function(e){var t=a.clone();return t.push(e),t},a.map=function(e){if("function"!=typeof e)throw"DayPilot.list().map(f): Function expected";var t=DayPilot.list();return a.forEach(function(n,i,a){t.push(e(n,i,a))}),t},a.filter=function(e){var t=DayPilot.list();if("function"!=typeof e)throw"DayPilot.list().filter(f): Function expected";return a.forEach(function(n,i,a){e(n,i,a)&&t.push(n)}),t},a.concat=function(e){if(!e)return a;for(var t=a.clone(),n=0;n<e.length;n++)t.push(e[n]);return t},a.find||(a.find=function(e){if("function"!=typeof e)throw"DayPilot.list().find(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return a[t]}),a.findIndex||(a.findIndex=function(e){if("function"!=typeof e)throw"DayPilot.list().findIndex(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return t;return-1}),a.some||(a.some=function(e){if("function"!=typeof e)throw"DayPilot.list().some(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return!0;return!1}),a.reduce||(a.reduce=function(e,t){if("function"!=typeof e)throw"DayPilot.list().reduce(f): Function expected";var n,i=0;if("undefined"!=typeof t)n=t;else{if(i=1,0===a.length)throw"DayPilot.list().reduce(f): No initial value and empty list";n=a[0]}for(var r=i;r<this.length;r++)n=e(n,a[r],r,this);return n}),a.isEmpty=function(){return 0===a.length},n)for(var r=0;r<e.length;r++)a[r]=e[r];else i&&(a[0]=e);return a},DayPilot.list.for=function(e,t){for(var n=DayPilot.list(),i=0;i<e;i++)"function"==typeof t?n.push(t(i)):n.push(i);return n},DayPilot.line=function(e,t,n,i,a){var r,o;void 0===a&&(a={});var l={x:n,y:i,deg:DayPilot.deg(e,t,n,i)},s=e,d=t,c=n,u=i;d<u&&(r=[c,s],s=r[0],c=r[1],o=[u,d],d=o[0],u=o[1]);var h=DayPilot.deg(s,d,c,u),f={x:s,y:d},v={x:c,y:u},p=Math.abs(s-c),m=Math.abs(d-u),g=(s+c)/2,b=(d+u)/2,y=Math.sqrt(p*p+m*m),w=g-y/2,x=b,k=DayPilot.distance(f,v),C=document.createElement("div");C.style.width="".concat(k,"px"),C.style.height="0px",C.style.transform="rotate(".concat(h,"deg)"),C.style.position="absolute",C.style.top="".concat(x,"px"),C.style.left="".concat(w,"px"),a.cssClass&&(C.className=a.cssClass);var _=document.createElement("div");_.appendChild(C);var T=Boolean(a.arrow);if(T){var D=10,S=document.createElement("div");S.style.position="absolute",S.style.left="".concat(l.x-5,"px"),S.style.top="".concat(l.y-5,"px"),S.style.width="".concat(D,"px"),S.style.height="".concat(D,"px"),S.style.borderRadius="".concat(D,"px"),a.cssClass?S.className="".concat(a.cssClass,"_circle"):S.style.backgroundColor="black",_.appendChild(S)}return _},DayPilot.deg=function(e,t,n,i){var a=Math.abs(e-n),r=Math.abs(t-i),o=(e+n)/2,l=(t+i)/2,s=Math.sqrt(a*a+r*r),d=o-s/2,c=l;a=s/2;var u=Math.abs(o-d);r=Math.sqrt(Math.abs(e-d)*Math.abs(e-d)+Math.abs(t-c)*Math.abs(t-c));var h=(r*r-a*a-u*u)/(2*a*u);return 180*Math.acos(h)/Math.PI},DayPilot.complete=function(e){return"complete"===document.readyState?void e():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var e=0;e<DayPilot.complete.list.length;e++){(0,DayPilot.complete.list[e])()}DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(e))},DayPilot.debounce=function(e,t){var n;return function(){var i=this,a=arguments,r=function(){n=null,e.apply(i,a)};clearTimeout(n),n=setTimeout(r,t)}},DayPilot.page=function(e){var t=e.changedTouches&&e.changedTouches[0]?e.changedTouches[0]:e;return"undefined"!=typeof t.pageX?{x:t.pageX,y:t.pageY}:"undefined"!=typeof e.clientX&&document.body&&document.documentElement?{x:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:e.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},DayPilot.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},DayPilot.abs=function(e,t){if(!e)return null;if(e.getBoundingClientRect){var n=DayPilot.absBoundingClientBased(e);if(t){var i=DayPilot.absOffsetBased(e,!1),a=DayPilot.absOffsetBased(e,!0);n.x+=a.x-i.x,n.y+=a.y-i.y,n.w=a.w,n.h=a.h}return n}return DayPilot.absOffsetBased(e,t)},DayPilot.absBoundingClientBased=function(e){var t=e.getBoundingClientRect();return{x:t.left+window.pageXOffset,y:t.top+window.pageYOffset,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}}},DayPilot.absOffsetBased=function(e,t){for(var n={x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(e);)e=DayPilot.op(e),n.x-=e.scrollLeft,n.y-=e.scrollTop,t&&(n.x<0&&(n.w+=n.x,n.x=0),n.y<0&&(n.h+=n.y,n.y=0),e.scrollLeft>0&&n.x+n.w>e.clientWidth&&(n.w-=n.x+n.w-e.clientWidth),e.scrollTop&&n.y+n.h>e.clientHeight&&(n.h-=n.y+n.h-e.clientHeight)),n.x+=e.offsetLeft,n.y+=e.offsetTop;var i=DayPilot.pageOffset();return n.x+=i.x,n.y+=i.y,n},DayPilot.wd=function(){var e=document.documentElement.clientHeight,t=document.documentElement.clientWidth,n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,a={};return a.width=t,a.height=e,a.scrollTop=n,a.scrollLeft=i,a},DayPilot.op=function(e){try{return e.offsetParent}catch(e){return document.body}},DayPilot.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},DayPilot.doc=function(){var e=document.documentElement;return e&&e.clientHeight?e:document.body},DayPilot.pageOffset=function(){if("undefined"!=typeof window.pageXOffset)return{x:window.pageXOffset,y:window.pageYOffset};var e=DayPilot.doc();return{x:e.scrollLeft,y:e.scrollTop}},DayPilot.ac=function(e,t){t||(t=[]);for(var n=0;e.children&&n<e.children.length;n++)t.push(e.children[n]),DayPilot.ac(e.children[n],t);return t},DayPilot.indexOf=function(e,t,n){if(!e||!e.length)return-1;for(var i=0;i<e.length;i++)if(n){if(n(e[i],t))return i}else if(e[i]===t)return i;return-1},DayPilot.contains=function(e,t){if(2!==arguments.length)throw new DayPilot.Exception("DayPilot.contains() requires two arguments.");return!!e&&(e===t&&!DayPilot.isArray(e)||DayPilot.indexOf(e,t)!==-1)},DayPilot.rfa=function(e,t){var n=DayPilot.indexOf(e,t);n!==-1&&e.splice(n,1)},DayPilot.sheet=function(e){function t(){for(var e=document.querySelectorAll("style[nonce]"),t=0;t<e.length;t++){var n=e[t];if(n.nonce)return n.nonce}if(document.currentScript&&document.currentScript.nonce)return document.currentScript.nonce;for(var i=document.querySelectorAll("script[nonce]"),a=0;a<i.length;a++){var r=i[a];if(r.nonce)return r.nonce}return""}if("undefined"==typeof window)return{add:function(){},commit:function(){},print:function(){return""}};e=e||window.document;var n=e.createElement("style");!(!document.querySelector("head > script[data-rendered-by-lwc]")&&!document.querySelector("body > div#auraLoadingBox"))||(n.nonce=t()),(e.head||e.getElementsByTagName("head")[0]).appendChild(n);var i=[];return{add:function(e,t,a){return a="undefined"==typeof a?n.sheet.cssRules.length:a,n.sheet.insertRule(e+"{"+t+"}",a),i.push(e+"{"+t+"}"),this},commit:function(){},print:function(e,t){function n(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}for(var a=[],r=0;r<i.length;r++){var o=i[r].split(/\s*{\s*/),l=o[0].trim(),s=o[1].replace(/\s*}\s*$/,"");if(!e||0===l.indexOf(e)){if(e&&t){var d=new RegExp(n(e),"g");l=l.replace(d,t)}for(var c=s.split(/;(?![^(]*\))/).map(function(e){return e.trim()}).filter(Boolean),u=l+" {\n",h=0;h<c.length;h++)u+="  "+c[h]+";\n";u+="}",a.push(u)}}return a.join("\n\n")}}},DayPilot.Args=function(e){var t=this;this.isArgs=!0,this.preventDefault=function(){e&&e.preventDefault(),t.preventDefault.value=!0}},DayPilot.Debug=function(e){var t=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.target=null,this.c=null,this.clear=function(){this.messages=[],t.c&&(t.c.innerHTML="")},this.hide=function(){DayPilot.de(t.c),t.c=null},this.show=function(){t.c&&t.hide();var n=e.nav.top,i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.style.backgroundColor="black",i.style.color="#ccc",i.style.overflow="auto",i.style.webkitUserSelect="auto",i.style.userSelect="all",i.onclick=function(){t.hide()};for(var a=0;a<this.messages.length;a++){var r=t.messages[a],o=r.j();i.appendChild(o)}this.c=i,n.appendChild(i)},this.log=function(){if(t.target){for(var e=[],n=0;n<arguments.length;n++){var i=arguments[n];e.push(i)}var a=e.join(" ");t.target.style.whiteSpace="pre",t.target.innerText+=a+"\n"}},this.message=function(e,t){if(this.enabled){var n={};n.time=new DayPilot.Date,n.level=t||"debug",n.text=DayPilot.Util.escapeHtml(e),n.j=function(){var e=document.createElement("div");switch(e.innerHTML=n.time+" ("+n.level+"): "+n.text,n.level){case"error":e.style.color="red";break;case"warning":e.style.color="orange";break;case"info":e.style.color="white";break;case"debug":}return e},this.messages.push(n),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(n)}}},DayPilot.re=function(e,t,n){n&&e&&e.addEventListener(t,n,!1)},DayPilot.rePassive=function(e,t,n){n&&e&&e.addEventListener(t,n,{"passive":!0})},DayPilot.reNonPassive=function(e,t,n){n&&e&&e.addEventListener(t,n,{"passive":!1})},DayPilot.ue=function(e,t,n){e.removeEventListener(t,n,!1)},DayPilot.gs=function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)||""},DayPilot.StyleReader=function(e){this.get=function(t){return e?DayPilot.gs(e,t):null},this.getColorHex=function(e){var t=this.get(e);return t?DayPilot.Util.normalizeColor(t):null},this.getPx=function(e){var t=this.get(e);if(t)return t.indexOf("px")===-1?void 0:parseInt(t,10)},this.getFont=function(){var e=this.get("font-weight"),t="italic"===this.get("font-style")?"italic":"";return{"family":this.get("font-family"),"size":this.get("font-size"),"style":t+" "+e,"asString":function(){return DayPilot.Util.fontString(this)}}},this.getBackColor=function(e){"undefined"==typeof e&&(e="white");var t=this.get("background-color");return DayPilot.Util.isTransparentColor(t)?e:t}},DayPilot.he=function(e){var t=e.replace(/&/g,"&amp;");return t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")},DayPilot.he2=function(e){var t=document.createTextNode(e),n=document.createElement("div");return n.appendChild(t),n.innerHTML},DayPilot.us=function(e){e&&(e.style.userSelect="none",e.style.webkitUserSelect="none")},DayPilot.pu=function(e){var t,n,i,a=e.attributes;if(a)for(n=a.length,t=0;t<n;t+=1)a[t]&&(i=a[t].name,"function"==typeof e[i]&&(e[i]=null));if(a=e.childNodes)for(n=a.length,t=0;t<n;t+=1)DayPilot.pu(e.childNodes[t])},DayPilot.puc=function(e){var t=e.childNodes;if(t)for(var n=t.length,i=0;i<n;i+=1)DayPilot.pu(e.childNodes[i])},DayPilot.de=function(e){if(e)if(DayPilot.isArray(e))for(var t=0;t<e.length;t++)DayPilot.de(e[t]);else e.remove()},DayPilot.fade=function(e,t,n){if(e){clearTimeout(e.messageTimeout);var i="none"!==e.style.display,a=t>0,r=t<0;if(0!==t){if(a?e.status="in":r&&(e.status="out"),a&&!i)e.target=parseFloat(e.style.opacity),e.opacity=0,e.style.opacity=0,e.style.display="";else if(r&&!e.target)e.target=e.style.opacity;else{var o=e.opacity,l=Math.floor(10*(o+t))/10;a&&l>e.target&&(l=e.target),r&&l<0&&(l=0),e.opacity=l,e.style.opacity=l}a&&(e.opacity>=e.target||e.opacity>=1)||r&&e.opacity<=0?(e.target=null,r&&(e.style.opacity=e.target,e.opacity=e.target,e.style.display="none"),n&&"function"==typeof n&&(e.status=null,n())):e.messageTimeout=setTimeout(function(){DayPilot.fade(e,t,n)},50)}}},DayPilot.sw=function(e){return e?e.offsetWidth-e.clientWidth:0},DayPilot.swa=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.width="200px",e.style.height="100px",e.style.overflow="auto";var t=document.createElement("div");t.style.width="300px",t.style.height="300px",e.appendChild(t),document.body.appendChild(e);var n=DayPilot.sw(e);return document.body.removeChild(e),n},DayPilot.sh=function(e){return e?e.offsetHeight-e.clientHeight:0},DayPilot.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},DayPilot.ua=function(e){if(!DayPilot.isArray(e))throw new DayPilot.Exception("DayPilot.ua() - array required");var t=[];return e.forEach(function(e){DayPilot.contains(t,e)||t.push(e)}),t},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function e(e,i){var a={w:e.offsetWidth,h:e.offsetHeight,x:parseInt(e.style.left),y:parseInt(e.style.top)};a.height=e.style.height,a.width=e.style.width,a.top=e.style.top,a.left=e.style.left,a.toString=function(){return"w: "+this.w+" h:"+this.h};var r={};if(r.finished=null,r.vertical="center",r.horizontal="center",i)for(var o in i)r[o]=i[o];e.style.visibility="hidden",e.style.display="";var l=i.animation||"fast",s=t(l);s.div=e,s.i=0,s.target=a,s.config=r,n(s)}function t(e){var t=function(){var e=[];e.time=10;var t,n=.08;t=.1;for(var i=t;i<1.2;i+=n)e.push(i),t=i;n=.03;for(var i=t;i>.8;i-=n)e.push(i),t=i;for(var i=t;i<=1;i+=n)e.push(i),t=i;return e},n=function(){var e=[];e.time=10;var t,n=.04;t=.1;for(var i=t;i<=1;i+=n)e.push(i),t=i;return e},i=function(){var e=[];e.time=10;var t,n=.08;t=.1;for(var i=t;i<=1;i+=n)e.push(i),t=i;return e},a={"fast":i,"slow":n,"jump":t};return a[e]||(e="fast"),a[e]()}function n(e){var t,i=e.div,a=e[e.i],r=a*e.target.h;switch(e.config.vertical){case"center":t=e.target.y-(r-e.target.h)/2;break;case"top":t=e.target.y;break;case"bottom":t=e.target.y-(r-e.target.h);break;default:throw"Unexpected 'vertical' value."}var o,l=a*e.target.w;switch(e.config.horizontal){case"left":o=e.target.x;break;case"center":o=e.target.x-(l-e.target.w)/2;break;case"right":o=e.target.x-(l-e.target.w);break;default:throw"Unexpected 'horizontal' value."}i.style.height=r+"px",i.style.top=t+"px",i.style.width=l+"px",i.style.left=o+"px",i.style.visibility="visible",e.i++,e.i<e.length-1?setTimeout(function(e){return function(){n(e)}}(e),e.time):(i.style.width=e.target.width,i.style.height=e.target.height,i.style.top=e.target.top,i.style.left=e.target.left,"function"==typeof e.config.finished&&e.config.finished())}DayPilot.pop=e}(),DayPilot.Util={},DayPilot.Util.addClass=function(e,t){if(e&&t)if(DayPilot.isArray(e))for(var n=0;n<e.length;n++)DayPilot.Util.addClass(e[n],t);else{var i=t.split(/\s+/);if(e.classList)i.forEach(function(t){t&&e.classList.add(t)});else for(var n=0;n<i.length;n++){var a=i[n];if(a)if(e.className){var r=new RegExp("(^|\\s)"+a+"($|\\s)");r.test(e.className)||(e.className+=" "+a)}else e.className=a}}},DayPilot.Util.normalizeColor=function(e){function t(e){return e=e.replace(/[^\d,]/g,"").split(","),"#"+((1<<24)+(+e[0]<<16)+(+e[1]<<8)+ +e[2]).toString(16).slice(1)}return 0===e.indexOf("rgb")?t(e):e},DayPilot.Util.addClassToString=function(e,t){return e?new RegExp("(^|\\s)"+t+"($|\\s)").test(e)?e:e+" "+t:t},DayPilot.Util.removeClassFromString=function(e,t){if(!e)return"";var n=new RegExp("(^|\\s)"+t+"($|\\s)");return e.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(e,t){if(e)if(DayPilot.isArray(e))for(var n=0;n<e.length;n++)DayPilot.Util.removeClass(e[n],t);else if(e.className){var i=new RegExp("(^|\\s)"+t+"($|\\s)");e.className=e.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t.join("-")},DayPilot.Util.propArray=function(e,t,n){return DayPilot.list(e).map(function(e){return e[t]?e[t]:n})},DayPilot.Util.updatePropsFromArray=function(e,t,n){for(var i=0;i<n.length;i++)e[i][t]=n[i]},DayPilot.Util.copyProps=function(e,t,n){if(void 0===t&&(t={}),!e)return t;if("undefined"==typeof n)for(var i=0,a=Object.entries(e);i<a.length;i++){var r=a[i],o=r[0],l=r[1];"undefined"!=typeof l&&(t[o]=l)}else for(var s=0,d=n;s<d.length;s++){var c=d[s],l=e[c];"undefined"!=typeof l&&(t[c]=l)}return t},DayPilot.Util.ownPropsAsArray=function(e){return e?Object.entries(e).map(function(e){return{key:e[0],val:e[1]}}):[]},DayPilot.Util.firstPropValue=function(e){for(var t in e)return e[t]},DayPilot.Util.isOnlyProperty=function(e,t){return!!e&&(1===Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,t))},DayPilot.Util.createArrayCopy=function(e,t){if(!DayPilot.isArray(e))return[];for(var n=[],i=0;i<e.length;i++){var a={};DayPilot.Util.copyProps(e[i],a,t),n.push(a)}return n},DayPilot.Util.atLeast=function(e,t){return Math.max(e,t)},DayPilot.Util.atMost=function(e,t){return Math.min(e,t)},DayPilot.Util.avg=function(e,t){return(e+t)/2},DayPilot.Util.div=function(e,t,n,i,a){var r=document.createElement("div");return(t||n||i||a)&&(i<0&&(t+=i,i*=-1),a<0&&(n+=a,a*=-1),r.style.position="absolute","number"==typeof t?r.style.left=t+"px":"string"==typeof t&&(r.style.left=t),"number"==typeof n?r.style.top=n+"px":"string"==typeof n&&(r.style.top=n),"number"==typeof i?r.style.width=i+"px":"string"==typeof i&&(r.style.width=i),"number"==typeof a?r.style.height=a+"px":"string"==typeof a&&(r.style.height=a)),e&&e.appendChild(r),r},DayPilot.Util.overlaps=function(e,t,n,i){return!(t<=n||e>=i)},DayPilot.Util.isMouseEvent=function(e){return!!e&&("mouse"===e.pointerType||e instanceof MouseEvent)},DayPilot.Util.mouseButton=function(e){var t={};switch(e.button){case 0:t.left=!0;break;case 1:t.middle=!0;break;case 2:t.right=!0}return t},DayPilot.Util.shouldApply=function(e){if(!e)return!1;var t=e.toLowerCase();return!(t.indexOf("before")>=0)&&(!(t.indexOf("after")>=0)&&("onrowfilter"!==t&&"oneventfilter"!==t))},DayPilot.Util.safeApply=function(e,t){var n=e["$root"]["$$phase"];"$apply"===n||"$digest"===n?e["$eval"](t):e["$apply"](t)},DayPilot.Util.replaceCharAt=function(e,t,n){return e.substr(0,t)+n+e.substr(t+n.length)},DayPilot.Util.evalVariable=function(e,t){if(t=t||["object"],null===e||"undefined"==typeof e)return null;if(DayPilot.indexOf(t,typeof e)!==-1)return e;if("string"!=typeof e)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))throw"Invalid variable name: "+e;return void(e)},DayPilot.Util.evalFunction=function(e){if(null===e)return null;if("function"==typeof e)return e;if("string"!=typeof e)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(e))throw"Invalid function string";return e="("+e+")",void(e)},DayPilot.Util.isNullOrUndefined=function(e){return null===e||"undefined"==typeof e},DayPilot.Util.log=function(e){var t,n;null===(n=null===(t=window.console)||void 0===t?void 0:t.log)||void 0===n?void 0:n.call(t,e)},DayPilot.Util.workerFrom=function(e){var t=e.toString(),n=t.slice(t.indexOf("{")+1,t.lastIndexOf("}")),i=new Blob([n]),a=window.URL.createObjectURL(i);return new Worker(a)},DayPilot.Util.dataUriToBlob=function(e){if("string"!=typeof e)throw"DayPilot.Util.dataUriToBlob(): dataURI string expected";for(var t=e.split(","),n=t[0],i=t[1],a=n.indexOf("base64")!==-1,r=a?atob:decodeURI,o=n.split(":")[1].split(";")[0],l=r(i),s=new window.Uint8Array(l.length),d=0;d<l.length;d++)s[d]=l.charCodeAt(d);return new Blob([s],{"type":o})},DayPilot.Util.downloadDataUri=function(e,t){var n=DayPilot.Util.dataUriToBlob(e);DayPilot.Util.downloadBlob(n,t)},DayPilot.Util.downloadBlob=function(e,t){if(t=t||"download",window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,t);else{var n=window.URL.createObjectURL(e),i=document.createElement("a");i.download=t,i.href=n,i.style.display="none",document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(n)})}},DayPilot.Util.monitor=function(e,t,n){var i=e[t];e[t]=function(){n.apply(e,arguments),i.apply(e,arguments)}},DayPilot.Util.isTransparentColor=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},DayPilot.Util.stripTags=function(e){if(DayPilot.Util.isNullOrUndefined(e))return e;if("string"==typeof e)return e.replace(/<(?:.|\n)*?>/gm,"");throw new DayPilot.Exception("Unable to strip tags from a non-string")},DayPilot.Util.escapeHtml=function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML},DayPilot.Util.escapeTextHtml=function(e,t){return DayPilot.Util.isNullOrUndefined(t)?DayPilot.Util.isNullOrUndefined(e)?"":DayPilot.Util.escapeHtml(e):t},DayPilot.Util.isSameEvent=function(e,t){return!(!e||!t)&&(e=e instanceof DayPilot.Event||e.isEvent?e.data:e,t=t instanceof DayPilot.Event||t.isEvent?t.data:t,e===t||(!DayPilot.Util.isNullOrUndefined(e.id)&&e.id===t.id||!(!DayPilot.Util.isNullOrUndefined(e.id)||DayPilot.Util.isNullOrUndefined(e.recurrentMasterId))&&(e.recurrentMasterId===t.recurrentMasterId&&new DayPilot.Date(e.start)===new DayPilot.Date(t.start))))},DayPilot.Util.isReactComponent=function(e){if(!e)return!1;var t="function"==typeof Symbol&&Symbol.for,n=t&&Symbol.for("react.element")||60103,i=t&&Symbol.for("react.transitional.element")||null,a=e.$$typeof;return a===n||a===i||60103===a},DayPilot.Util.isVueComponent=function(e){return e&&"function"==typeof e.render},DayPilot.Util.isVueVNode=function(e){return!!e&&(DayPilot.isArray(e)?DayPilot.Util.isVueVNode(e[0]):e["__v_isVNode"])},DayPilot.Util.fontString=function(e){return(e.style+" "+e.size+" "+e.family).trim()},DayPilot.Util.fontHeight=function(e){var t=DayPilot.Util.fontString(e);if("number"!=typeof DayPilot.Util.fontHeight.cache[t]){var n=document.createElement("div");n.style.position="fixed",n.style.left="-2000px;",n.style.top="-2000px",n.style.padding="0px",n.style.font=t,n.innerText="X",document.body.appendChild(n),DayPilot.Util.fontHeight.cache[t]=new DayPilot.StyleReader(n).getPx("height"),document.body.removeChild(n)}return DayPilot.Util.fontHeight.cache[t]},DayPilot.Util.fontHeight.cache={},DayPilot.Areas={},DayPilot.Areas.attach=function(t,n,i){i=i||{};var a=i.areas,r=i.allowed||function(){return!0},o=i.offsetX||0;a=e(n,a),a&&DayPilot.isArray(a)&&0!==a.length&&(DayPilot.re(t,"mousemove",function(e){t.active||t.areasDisabled||!r()||DayPilot.Areas.showAreas(t,n,e,a,{"offsetX":o,"eventDiv":i.eventDiv})}),DayPilot.re(t,"mouseleave",function(e){DayPilot.Areas.hideAreas(t,e)}),DayPilot.list(a).forEach(function(e){if(DayPilot.Areas.isVisible(e)){var a=DayPilot.Areas.createArea(t,n,e,{"offsetX":o,"eventDiv":i.eventDiv});t.appendChild(a)}}))},DayPilot.Areas.disable=function(e){e.areasDisabled=!0,DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea&&!e.area.start}).forEach(function(e){e.k=e.style.display,e.style.display="none"})},DayPilot.Areas.enable=function(e){e.areasDisabled=!1,DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea&&!e.area.start}).forEach(function(e){e.k?e.style.display=e.k:e.style.display=""})},DayPilot.Areas.remove=function(e){var t=DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea});DayPilot.de(t)},DayPilot.Areas.isVisible=function(e){var t=e.visibility||e.v||"Visible";return"Visible"===t||"TouchVisible"===t&&!DayPilot.browser.hover},DayPilot.Areas.copy=function(e){return DayPilot.isArray(e)?e.map(function(e){return DayPilot.Util.copyProps(e,{})}):[]},DayPilot.Areas.resolvePosition=function(e,t,n,i){var a=DayPilot.Areas.copy(e),r=t;return a.forEach(function(e){e.start&&(e.left=r.getPixels(new DayPilot.Date(e.start)).left-n),"number"==typeof e.offsetX&&(e.left+=e.offsetX),e.end&&(e.right=n+i-r.getPixels(new DayPilot.Date(e.end)).left)}),a},DayPilot.Areas.showAreas=function(e,t,n,i,a){if(!(DayPilot.Global.resizing||DayPilot.Global.moving||DayPilot.Global.selecting||e.active)){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var r=0;r<DayPilot.Areas.all.length;r++){var o=DayPilot.Areas.all[r];o!==e&&DayPilot.Areas.hideAreas(o,n)}if(e.active={},DayPilot.isArray(i)||(i=t.areas,i||(t.cache?i=t.cache.areas:t.data&&(i=t.data.areas))),i&&0!==i.length&&!(e.areas&&e.areas.length>0)){e.areas=[];for(var r=0;r<i.length;r++){var l=i[r];if(!DayPilot.Areas.isVisible(l)){var s=DayPilot.Areas.createArea(e,t,l,a);e.areas.push(s),e.appendChild(s),DayPilot.Areas.all.push(e)}}e.active.children=DayPilot.ac(e)}}},DayPilot.Areas.createArea=function(e,t,n,i){function a(e,t,n){var i={};return i.area=e,i.source=t,i.originalEvent=n,i.preventDefault=function(){i.preventDefault.value=!0},"function"==typeof e.onClick&&e.onClick(i),i}function r(e,t,n){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(n),e.calendar.bubble&&e.calendar.bubble.showEvent(e,!0);
}function o(e,t,n,i){DayPilot.Menu&&DayPilot.Menu.touchPosition(i);var a=n.contextMenu||n.menu;if(a instanceof DayPilot.Menu||("string"==typeof a?a=DayPilot.Util.evalVariable(a):t.isEvent&&t.client.contextMenu()?a=t.client.contextMenu():t.isEvent&&t.calendar.contextMenu?a=DayPilot.Util.evalVariable(t.calendar.contextMenu):t.isRow&&t.calendar.contextMenuResource&&(a=DayPilot.Util.evalVariable(t.calendar.contextMenuResource))),a&&a.show){var r={"type":"area","div":e,"e":t,"area":n,"a":d};a.show(t,{"initiator":r})}}function l(e){return"string"==typeof e?e:"number"==typeof e?e+"px":void 0}i=i||{};var s=i.eventDiv||e,d=document.createElement("div");d.isActiveArea=!0,d.area=n;var c=n.w||n.width,u=n.h||n.height,h=n.cssClass||n.css||n.className;"undefined"!=typeof n.style&&d.setAttribute("style",n.style),d.style.position="absolute",d.style.overflow="hidden",d.style.width=l(c),d.style.height=l(u),d.style.right=l(n.right),d.style.top=l(n.top),d.style.left=l(n.left),d.style.bottom=l(n.bottom),d.style.borderRadius=l(n.borderRadius),n.id&&(d.id=n.id);var f=!DayPilot.Util.isNullOrUndefined(n.html),v=!DayPilot.Util.isNullOrUndefined(n.text);if(f||v)d.innerHTML=DayPilot.Util.escapeTextHtml(n.text,n.html);else if(n.icon){var p=document.createElement("i");p.className=n.icon,d.appendChild(p)}else if(n.image){var m=document.createElement("img");m.src=n.image,d.appendChild(m)}else if(n.symbol){var g="http://www.w3.org/2000/svg",b=document.createElementNS(g,"svg");b.setAttribute("width","100%"),b.setAttribute("height","100%");var y=document.createElementNS(g,"use");y.setAttribute("href",n.symbol),b.appendChild(y),d.appendChild(b)}if(h&&(d.className=h),n.toolTip&&d.setAttribute("title",n.toolTip),n.backColor&&(d.style.background=n.backColor),n.background&&(d.style.background=n.background),n.fontColor&&(d.style.color=n.fontColor),n.padding&&(d.style.padding=n.padding+"px",d.style.boxSizing="border-box"),n.borderColor){var w=n.borders;w?(w.top&&(d.style.borderTop="1px solid "+n.borderColor),w.right&&(d.style.borderRight="1px solid "+n.borderColor),w.bottom&&(d.style.borderBottom="1px solid "+n.borderColor),w.left&&(d.style.borderLeft="1px solid "+n.borderColor)):d.style.border="1px solid "+n.borderColor,d.style.boxSizing="border-box"}if(n.verticalAlignment)switch(d.style.display="flex",n.verticalAlignment){case"center":d.style.alignItems="center";break;case"top":d.style.alignItems="flex-start";break;case"bottom":d.style.alignItems="flex-end"}if(n.horizontalAlignment)switch(d.style.display="flex",n.horizontalAlignment){case"right":d.style.justifyContent="flex-end";break;case"left":d.style.justifyContent="flex-start";break;case"center":d.style.justifyContent="center"}if("ResizeEnd"===n.action||"ResizeStart"===n.action||"Move"===n.action){if(t.calendar.isCalendar)switch(n.action){case"ResizeEnd":n.cursor="s-resize",n.dpBorder="bottom";break;case"ResizeStart":n.cursor="n-resize",n.dpBorder="top";break;case"Move":n.cursor="move"}if(t.calendar.isScheduler||t.calendar.isMonth)switch(n.action){case"ResizeEnd":n.cursor="e-resize",n.dpBorder="right";break;case"ResizeStart":n.cursor="w-resize",n.dpBorder="left";break;case"Move":n.cursor="move"}d.onmousemove=function(e,t,n){return function(i){t.calendar.internal&&t.calendar.internal.dragInProgress&&t.calendar.internal.dragInProgress()||(i.cancelBubble=!0,e.style.cursor=n.cursor,n.dpBorder&&(e.dpBorder=n.dpBorder))}}(s,t,n),d.onmouseout=function(e,t,n){return function(){e.style.cursor=""}}(s,t,n)}if(("ResizeEnd"===n.action||"ResizeStart"===n.action)&&t.isEvent&&t.calendar.internal.touch){var x=function(e,t,n){return function(i){i.cancelBubble=!0;var a=t.calendar.internal.touch,r=i.touches?i.touches[0]:i,o={x:r.pageX,y:r.pageY};t.calendar.coords=a.relativeCoords(i),a.preventEventTap=!0,t.calendar.isScheduler?a.startResizing(e,"ResizeEnd"===n.action?"right":"left"):t.calendar.isCalendar&&a.startResizing(e,"ResizeEnd"===n.action?"bottom":"top",o)}}(s,t,n);DayPilot.rePassive(d,DayPilot.touch.start,x)}if("ContextMenu"===n.action&&t.isEvent&&t.calendar.internal.touch){var x=function(e,t,n){return function(i){i.cancelBubble=!0,i.preventDefault(),o(e,t,n,i),t.calendar.internal.touch.preventEventTap=!0}}(s,t,n),k=function(e,t,n){return function(e){e.cancelBubble=!0,e.preventDefault()}}(s,t,n);DayPilot.reNonPassive(d,DayPilot.touch.start,x),DayPilot.reNonPassive(d,DayPilot.touch.end,k)}if("Bubble"===n.action&&t.isEvent&&t.calendar.internal.touch){var x=function(e,t,n){return function(e){e.cancelBubble=!0,e.preventDefault();var i=a(n,t,e);if(!i.preventDefault.value){r(t,n,e);t.calendar.internal.touch.preventEventTap=!0,"function"==typeof n.onClicked&&n.onClicked(i)}}}(s,t,n),k=function(e,t,n){return function(e){e.cancelBubble=!0,e.preventDefault()}}(s,t,n);DayPilot.reNonPassive(d,DayPilot.touch.start,x),DayPilot.reNonPassive(d,DayPilot.touch.end,k)}if("Move"===n.action&&t.isEvent&&t.calendar.internal.touch){var x=function(e,t,n){return function(n){n.cancelBubble=!0;var i=t.calendar.internal.touch,a=n.touches?n.touches[0]:n,r={x:a.pageX,y:a.pageY};t.calendar.coords=i.relativeCoords(n),DayPilot.Global&&DayPilot.Global.touch&&(DayPilot.Global.touch.active=!0),i.preventEventTap=!0,i.startMoving(e,r)}}(s,t,n);DayPilot.rePassive(d,DayPilot.touch.start,x)}if("Move"===n.action&&t.isRow&&t.calendar.internal.touch,(n.bubble||"Bubble"===n.action)&&t.isEvent?(d.onmousemove=function(e,t,n){return function(e){e.preventBubbleActivation=!0,DayPilot.Bubble&&DayPilot.Bubble.cancelShowing(),n.bubble?n.bubble.showEvent(t,!0):t.calendar.bubble&&t.calendar.bubble.showEvent(t,!0)}}(e,t,n),d.onmouseout=function(e,t,n){return function(){"undefined"!=typeof DayPilot.Bubble&&(n.bubble?n.bubble.hideOnMouseOut():t.calendar.bubble&&t.calendar.bubble.hideOnMouseOut())}}(e,t,n)):(n.bubble||"Bubble"===n.action)&&t.isRow?(d.onmousemove=function(e,t,n){return function(e){"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.mousePosition(e),"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.mousePosition(e),e.stopPropagation(),n.bubble?n.bubble.showResource(t,!1,d):t.calendar.resourceBubble&&t.calendar.resourceBubble.showResource(t,!1,d)}}(e,t,n),d.onmouseout=function(e,t,n){return function(){"undefined"!=typeof DayPilot.Bubble&&(n.bubble?n.bubble.hideOnMouseOut():t.calendar.resourceBubble&&t.calendar.resourceBubble.hideOnMouseOut())}}(e,t,n)):"undefined"!=typeof DayPilot.Bubble&&n.bubble instanceof DayPilot.Bubble&&(d.onmousemove=function(e,t,n){return function(){n.bubble.showHtml(null,d)}}(e,t,n),d.onmouseout=function(e,t,n){return function(){"undefined"!=typeof DayPilot.Bubble&&n.bubble&&n.bubble.hideOnMouseOut()}}(e,t,n)),"HoverMenu"===n.action&&(d.onmousemove=function(e,t,n){return function(){var e=n.menu;"string"==typeof e&&(e=DayPilot.Util.evalVariable(e)),e&&e.show&&(e.visible?e.source&&"undefined"!=typeof e.source.id&&e.source.id!==t.id&&e.show(t):e.show(t),e.cancelHideTimeout())}}(e,t,n),d.onmouseout=function(e,t,n){return function(){var e=n.menu;"string"==typeof e&&(e=DayPilot.Util.evalVariable(e)),e&&e.hideOnMouseOver&&e.delayedHide()}}(e,t,n)),"JavaScript"===n.action){var x=function(e,t,n){return function(e){DayPilot.Util.isMouseEvent(e)||(e.preventDefault(),DayPilot.Global&&DayPilot.Global.touch&&(DayPilot.Global.touch.start=!0))}}(s,t,n),k=function(e,t,n){return function(e){if(!DayPilot.Util.isMouseEvent(e)){e.cancelBubble=!0,e.preventDefault(),DayPilot.Global&&DayPilot.Global.touch&&(DayPilot.Global.touch.start=!1);var i=n.js;if("string"==typeof i&&(i=DayPilot.Util.evalFunction(n.js)),"function"==typeof i){var a=n.target||t;i.call(this,a)}}}}(s,t,n);DayPilot.reNonPassive(d,DayPilot.touch.start,x),DayPilot.reNonPassive(d,DayPilot.touch.end,k)}if("None"===n.action){var x=function(e,t,n){return function(e){var i=a(n,t,e);"function"==typeof n.onClicked&&n.onClicked(i),e.preventDefault(),e.stopPropagation()}}(s,t,n);DayPilot.reNonPassive(d,DayPilot.touch.start,x)}if(d.onmousedown=function(e,t,n){return function(i){if("function"==typeof n.onmousedown&&n.onmousedown(i),"function"==typeof n.mousedown){var a={};a.area=n,a.div=e,a.originalEvent=i,a.source=t,n.mousedown(a)}if("Move"===n.action&&t.isRow){var r=t.$.row;(0,t.calendar.internal.rowStartMoving)(r)}"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Move"===n.action&&(DayPilot.Global.movingAreaData=n.data),"ResizeEnd"!==n.action&&"ResizeStart"!==n.action||(DayPilot.Global.resizingAreaData=n.data),"Move"===n.action&&t.isEvent&&t.calendar.internal&&t.calendar.internal.startMoving&&t.calendar.internal.startMoving(e,i);"Move"!==n.action&&"ResizeEnd"!==n.action&&"ResizeStart"!==n.action&&n.action&&"Default"!==n.action&&(i.preventDefault(),i.cancelBubble=!0)}}(e,t,n),d.onclick=function(e,t,n){return function(i){var r=a(n,t,i);if(!r.preventDefault.value){switch(n.action){case"JavaScript":var l=n.js;if("string"==typeof l&&(l=DayPilot.Util.evalFunction(n.js)),"function"==typeof l){var s=n.target||t;l.call(this,s)}i.cancelBubble=!0;break;case"ContextMenu":o(e,t,n,i),i.cancelBubble=!0;break;case"CallBack":alert("callback not implemented yet, id: "+n.id),i.cancelBubble=!0;break;case"None":i.cancelBubble=!0}"function"==typeof n.onClicked&&n.onClicked(r)}}}(e,t,n),"function"==typeof n.onMouseEnter&&d.addEventListener("mouseenter",function(e,t,n){return function(e){var i={};i.area=n,i.source=t,i.originalEvent=e,n.onMouseEnter(i)}}(e,t,n)),"function"==typeof n.onMouseLeave&&d.addEventListener("mouseleave",function(e,t,n){return function(e){var i={};i.area=n,i.source=t,i.originalEvent=e,n.onMouseLeave(i)}}(e,t,n)),"function"==typeof n.onAfterRender){var C={};C.div=d,C.area=n,n.onAfterRender(C)}return d},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(e,t){if(e&&e&&e.active){var n=e.active,i=e.areas;if(n&&n.children&&t){var a=t.toElement||t.relatedTarget;if(~DayPilot.indexOf(n.children,a))return}if(!i||0===i.length)return void(e.active=null);DayPilot.de(i),e.active=null,e.areas=[],DayPilot.rfa(DayPilot.Areas.all,e),n.children=null}},DayPilot.Areas.hideAll=function(e){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var t=0;t<DayPilot.Areas.all.length;t++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[t],e)},DayPilot.Action=function(e,t,n,i){var a=this;this.calendar=e,this.isAction=!0,this.action=t,this.params=n,this.data=i,this.notify=function(){a.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){a.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){a.calendar.queue.add(this)},this.toJSON=function(){var e={};return e.name=this.action,e.params=this.params,e.data=this.data,e}},DayPilot.Selection=function(e,t,n,i){this.menuType="selection",this.start=new DayPilot.Date(e),this.end=new DayPilot.Date(t),this.resource=n,this.root=i,this.calendar=i,this.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e}},DayPilot.Link=function(e,t){this.isLink=!0,this.data=e,this.calendar=t,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var e={};return e.from=this.data.from,e.to=this.data.to,e.id=this.data.id,e.type=this.data.type,e}},DayPilot.Event=function(e,t,n){var i=this;e=e||{},this.calendar=t,this.data=e,this.part=n?n:{},this.orig={start:new DayPilot.Date(e.start),end:new DayPilot.Date(e.end),resource:e.resource,allday:e.allday},"undefined"==typeof this.data.id&&(this.data.id=this.data.value);var a={},r=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(a.dirty)return a;for(var e=0;e<r.length;e++)a[r[e]]=i.data[r[e]];return a.dirty=!0,a},this.copy=function(){var e={};return DayPilot.Util.copyProps(i.data,e),e},this.commit=function(){if(a.dirty){for(var e=0;e<r.length;e++)i.data[r[e]]=a[r[e]];"function"==typeof i.data.commitCallback&&i.data.commitCallback(),a.dirty=!1}},this.dirty=function(){return a.dirty},this.id=function(e){return"undefined"==typeof e?i.data.id:void(this.temp().id=e)},this.value=function(e){return"undefined"==typeof e?i.id():void i.id(e)},this.text=function(e){if("undefined"==typeof e)return i.data.text;this.temp().text=e;var t=DayPilot.Util.escapeHtml(e);this.client.innerHTML(t)},this.start=function(e){return"undefined"==typeof e?new DayPilot.Date(i.data.start):void(this.temp().start=new DayPilot.Date(e))},this.end=function(e){return"undefined"==typeof e?t&&t.internal.adjustEndNormalize?t.internal.adjustEndNormalize(new DayPilot.Date(i.data.end)):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(e))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.rawend=function(e){if("undefined"==typeof e)return t&&t.internal.adjustEndIn?t.internal.adjustEndIn(new DayPilot.Date(i.data.end)):new DayPilot.Date(i.data.end);throw new DayPilot.Exception("DayPilot.Event.rawend() is readonly")},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(e){return"undefined"==typeof e?i.data.allday:void(this.temp().allday=e)},this.isAllDay=this.allday,this.resource=function(e){return"undefined"==typeof e?i.data.resource:void(this.temp().resource=e)},this.recurrent=function(){return i.data.recurrent},this.recurrentMasterId=function(){return i.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return i.cache?i.cache.bubbleHtml||i.data.bubbleHtml:i.data.bubbleHtml},this.tag=function(e){if(i.data.tags)return i.data.tags[e];var t=i.data.tag;if(!t)return null;if("undefined"==typeof e)return i.data.tag;for(var n=i.calendar.tagFields,a=-1,r=0;r<n.length;r++)e===n[r]&&(a=r);if(a===-1)throw"Field name not found.";return t[a]},this.client={},this.client.innerHTML=function(e){if("undefined"==typeof e){var t=i.cache||i.data,n=i.calendar&&i.calendar.internal&&i.calendar.internal.xssTextHtml;return n?n(t.text,t.html):DayPilot.Util.escapeTextHtml(t.text,t.html)}i.data.html=e,i.cache&&(i.cache.html=e)},this.client.html=this.client.innerHTML,this.client.header=function(e){return"undefined"==typeof e?i.data.header:void(i.data.header=e)},this.client.cssClass=function(e){return"undefined"==typeof e?i.data.cssClass:void(i.data.cssClass=e)},this.client.toolTip=function(e){if("undefined"==typeof e){var t=null;return t=i.cache&&"undefined"!=typeof i.cache.toolTip?i.cache.toolTip:"undefined"!=typeof i.data.toolTip?i.data.toolTip:i.data.text}i.data.toolTip=e},this.client.backColor=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.backColor?i.cache.backColor:"undefined"!=typeof i.data.backColor?i.data.backColor:i.calendar.eventBackColor:void(i.data.backColor=e)},this.client.borderColor=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.borderColor?i.cache.borderColor:"undefined"!=typeof i.data.borderColor?i.data.borderColor:i.calendar.eventBorderColor:void(i.data.borderColor=e)},this.client.barColor=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.barColor?i.cache.barColor:"undefined"!=typeof i.data.barColor?i.data.barColor:i.calendar.durationBarColor:void(i.data.barColor=e)},this.client.barVisible=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.barHidden?!i.cache.barHidden:i.calendar.durationBarVisible&&!i.data.barHidden:void(i.data.barHidden=!e)},this.client.contextMenu=function(e){if("undefined"==typeof e){if(i.oContextMenu)return i.oContextMenu;var t=i.cache?i.cache.contextMenu:i.data.contextMenu;return t?DayPilot.Util.evalVariable(t):null}i.oContextMenu=e},this.client.moveEnabled=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.moveDisabled?!i.cache.moveDisabled:"Disabled"!==i.calendar.eventMoveHandling&&!i.data.moveDisabled:void(i.data.moveDisabled=!e)},this.client.resizeEnabled=function(e){return"undefined"==typeof e?"Milestone"!==i.data.type&&(i.cache&&"undefined"!=typeof i.cache.resizeDisabled?!i.cache.resizeDisabled:"Disabled"!==i.calendar.eventResizeHandling&&!i.data.resizeDisabled):void(i.data.resizeDisabled=!e)},this.client.rightClickEnabled=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.rightClickDisabled?!i.cache.rightClickDisabled:"Disabled"!==i.calendar.eventRightClickHandling&&!i.data.rightClickDisabled:void(i.data.rightClickDisabled=!e)},this.client.clickEnabled=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.clickDisabled?!i.cache.clickDisabled:"Disabled"!==i.calendar.eventClickHandling&&!i.data.clickDisabled:void(i.data.clickDisabled=!e)},this.client.deleteEnabled=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.deleteDisabled?!i.cache.deleteDisabled:"Disabled"!==i.calendar.eventDeleteHandling&&!i.data.deleteDisabled:void(i.data.deleteDisabled=!e)},this.client.doubleClickEnabled=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.doubleClickDisabled?!i.cache.doubleClickDisabled:"Disabled"!==i.calendar.eventDoubleClickHandling&&!i.data.doubleClickDisabled:void(i.data.doubleClickDisabled=!e)},this.client.deleteClickEnabled=function(e){return"undefined"==typeof e?i.cache&&"undefined"!=typeof i.cache.deleteDisabled?!i.cache.deleteDisabled:"Disabled"!==i.calendar.eventDeleteHandling&&!i.data.deleteDisabled:void(i.data.deleteDisabled=!e)},this.toJSON=function(){var e={};if(e.value=this.id(),e.id=this.id(),e.text=this.text(),e.start=this.start().toJSON(),e.end=this.end().toJSON(),e.resource=this.resource(),e.isAllDay=!1,e.recurrentMasterId=this.recurrentMasterId(),e.join=this.data.join,e.tag={},i.data.tags)for(var t=0,n=Object.entries(i.data.tags||{});t<n.length;t++){var a=n[t],r=a[0],o=a[1];e.tag[r]=String(o)}else if(i.calendar&&i.calendar.tagFields)for(var l=i.calendar.tagFields,s=0;s<l.length;s++)e.tag[l[s]]=this.tag(l[s]);return e}},DayPilot.Task=function(e,t){if(!e)throw"Trying to initialize DayPilot.Task with null data parameter";var n=this,i=null;if(e instanceof DayPilot.Event)i=e,this.data=e.data.task;else{if(e instanceof DayPilot.Task)return e;e.isTaskWrapper?this.data=e.data:this.data=e}var a={},r=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=t,this.temp=function(){if(a.dirty)return a;for(var e=0;e<r.length;e++)a[r[e]]=n.data[r[e]];return a.dirty=!0,a},this.copy=function(){var e={};return DayPilot.Util.copyProps(n.data,e),e},this.commit=function(){if(a.dirty){for(var e=0;e<r.length;e++)n.data[r[e]]=a[r[e]];a.dirty=!1}},this.dirty=function(){return a.dirty},this.id=function(e){return"undefined"==typeof e?n.data.id:void(this.temp().id=e)},this.text=function(e){if("undefined"==typeof e)return n.data.text;this.temp().text=e;var t=DayPilot.Util.escapeHtml(e);this.client.innerHTML(t)},this.start=function(e){return"undefined"==typeof e?new DayPilot.Date(n.data.start):void(this.temp().start=new DayPilot.Date(e))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(e){return"undefined"==typeof e?t&&"Date"===t.taskEndSpec&&"Milestone"!==n.type()?new DayPilot.Date(n.data.end).getDatePart().addDays(1):new DayPilot.Date(n.data.end):void(this.temp().end=new DayPilot.Date(e))},this.type=function(e){return"undefined"==typeof e?i?i.data.type||"Task":n.data.type:void(this.temp().type=e)},this.complete=function(e){return"undefined"==typeof e?n.data.complete?n.data.complete:0:void(this.temp().complete=e)},this.children=function(){var e=[];e.add=function(e){var t=new DayPilot.Task(e);this.data.children||(this.data.children=[]),this.children.push(t.data)};for(var n=0;this.data.children&&n<this.data.children.length;n++)e.push(new DayPilot.Task(this.data.children[n],t));return e},this.toJSON=function(){var e={};return e.id=this.id(),e.text=this.text(),e.start=this.start().toJSON(),e.end=this.end().toJSON(),e.type=this.type(),e.tags={},DayPilot.Util.copyProps(this.data.tags,e.tags),e},this.row={};var o=this.row;o.expanded=function(e){return"undefined"==typeof e?!n.data.row||!n.data.row.collapsed:(n.data.row||(n.data.row={}),!!n.data.row.collapsed!=!e&&t.internal.rowObjectForTaskData(n.data).toggle(),n.data.row.collapsed=!e,void 0)},o.expand=function(){o.expanded(!0)},o.collapse=function(){o.expanded(!1)},o.toggle=function(){o.expanded(!o.expanded())}},DayPilot.request=function(e,t,n,i){var a=DayPilot.createXmlHttp();a&&(a.open("POST",e,!0),a.setRequestHeader("Content-type","text/plain"),a.onreadystatechange=function(){if(4===a.readyState)return 200!==a.status&&304!==a.status?void(i?i(a):window.console&&console.log("HTTP error "+a.status)):void t(a)},4!==a.readyState&&("object"==typeof n&&(n=JSON.stringify(n)),a.send(n)))},DayPilot.ajax=function(e){if(!e)throw new DayPilot.Exception("Parameter object required.");if("string"!=typeof e.url)throw new DayPilot.Exception("The parameter object must have 'url' property.");var t=DayPilot.createXmlHttp();if(!t)throw new DayPilot.Exception("Unable to create XMLHttpRequest object");var n="object"==typeof e.data,i=e.data,a=e.method||(e.data?"POST":"GET"),r=e.success||function(){},o=e.error||function(){},l=e.url,s=e.contentType||(n?"application/json":"text/plain"),d=e.headers||{};t.open(a,l,!0),t.setRequestHeader("Content-type",s),DayPilot.Util.ownPropsAsArray(d).forEach(function(e){t.setRequestHeader(e.key,e.val)}),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||201===t.status||204===t.status||304===t.status){var e={};e.request=t,t.responseText&&(e.data=JSON.parse(t.responseText)),r(e)}else if(o){var n={};n.request=t,o(n)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&(n&&(i=JSON.stringify(i)),t.send(i))},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Http={},DayPilot.Http.ajax=function(e){DayPilot.ajax(e)},DayPilot.Http.get=function(e,t){return t=t||{},new Promise(function(n,i){var a={};a.url=e,a.method="GET",a.success=function(e){n(e)},a.error=function(e){i(e)},a.contentType=t.contentType,a.headers=t.headers,DayPilot.ajax(a)})},DayPilot.Http.post=function(e,t,n){return n=n||{},new Promise(function(i,a){var r={};r.url=e,r.method="POST",r.data=t,r.success=function(e){i(e)},r.error=function(e){a(e)},r.contentType=n.contentType,r.headers=n.headers,DayPilot.ajax(r)})},DayPilot.Http.put=function(e,t,n){return n=n||{},new Promise(function(i,a){var r={};r.url=e,r.method="PUT",r.data=t,r.success=function(e){i(e)},r.error=function(e){a(e)},r.contentType=n.contentType,r.headers=n.headers,DayPilot.ajax(r)})},DayPilot.Http.delete=function(e,t){return t=t||{},new Promise(function(n,i){var a={};a.url=e,a.method="DELETE",a.success=function(e){n(e)},a.error=function(e){i(e)},a.contentType=t.contentType,a.headers=t.headers,DayPilot.ajax(a)})},DayPilot.Http.patch=function(e,t,n){return n=n||{},new Promise(function(i,a){var r={};r.url=e,r.method="PATCH",r.data=t,r.success=function(e){i(e)},r.error=function(e){a(e)},r.contentType=n.contentType,r.headers=n.headers,DayPilot.ajax(r)})},DayPilot.Duration=function(e){var t=this,n=864e5,i=36e5,a=6e4,r=1e3;if(2===arguments.length){var o=arguments[0],l=arguments[1];if(!(o instanceof DayPilot.Date)&&"string"!=typeof o)throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(l instanceof DayPilot.Date)&&"string"!=typeof l)throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";"string"==typeof o&&(o=new DayPilot.Date(o)),"string"==typeof l&&(l=new DayPilot.Date(l)),e=l.getTime()-o.getTime()}return this.ticks=e||0,DayPilot.Date.Cache.DurationCtor[""+e]?DayPilot.Date.Cache.DurationCtor[""+e]:(DayPilot.Date.Cache.DurationCtor[""+e]=this,this.toString=function(e){if(!e)return t.days()+"."+t.hours()+":"+t.minutes()+":"+t.seconds()+"."+t.milliseconds();var n=t.minutes();n=(n<10?"0":"")+n;var i=e;return i=i.replace("mm",n),i=i.replace("m",t.minutes()),i=i.replace("H",t.hours()),i=i.replace("h",t.hours()),i=i.replace("d",t.days()),i=i.replace("s",t.seconds())},this.totalHours=function(){return t.ticks/i},this.totalDays=function(){return t.ticks/n},this.totalMinutes=function(){return t.ticks/a},this.totalSeconds=function(){return t.ticks/r},this.totalMilliseconds=function(){return t.ticks},this.days=function(){return Math.floor(t.totalDays())},this.hours=function(){var e=t.ticks-t.days()*n;return Math.floor(e/i)},this.minutes=function(){var e=t.ticks-Math.floor(t.totalHours())*i;return Math.floor(e/a)},this.seconds=function(){var e=t.ticks-Math.floor(t.totalMinutes())*a;return Math.floor(e/r)},this.milliseconds=function(){return t.ticks%r},void(this.add=function(e){return new DayPilot.Duration(t.ticks+e.ticks)}))},DayPilot.Duration.ofWeeks=function(e){return new DayPilot.Duration(1e3*e*60*60*24*7)},DayPilot.Duration.ofDays=function(e){return new DayPilot.Duration(1e3*e*60*60*24)},DayPilot.Duration.ofHours=function(e){return new DayPilot.Duration(1e3*e*60*60)},DayPilot.Duration.ofMinutes=function(e){return new DayPilot.Duration(1e3*e*60)},DayPilot.Duration.ofSeconds=function(e){return new DayPilot.Duration(1e3*e)},DayPilot.Duration.weeks=function(e){return DayPilot.Duration.ofWeeks(e)},DayPilot.Duration.days=function(e){return DayPilot.Duration.ofDays(e)},DayPilot.Duration.hours=function(e){return DayPilot.Duration.ofHours(e)},DayPilot.Duration.minutes=function(e){return DayPilot.Duration.ofMinutes(e)},DayPilot.Duration.seconds=function(e){return DayPilot.Duration.ofSeconds(e)},DayPilot.TimeSpan=function(){throw"Please use DayPilot.Duration class instead of DayPilot.TimeSpan."};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(e){}DayPilot.Date=function(e,n){if(e instanceof DayPilot.Date)return e;var i;DayPilot.Util.isNullOrUndefined(e)&&(i=DayPilot.DateUtil.fromLocal().getTime(),e=i);var a=DayPilot.Date.Cache.Ctor;if(a[e])return DayPilot.Stats.cacheHitsCtor+=1,a[e];var r=!1;if("string"==typeof e||e instanceof String){try{i=DayPilot.DateUtil.fromStringSortable(e,n).getTime()}catch(t){throw new DayPilot.Exception("DayPilot.Date - Unable to parse ISO8601 date/time string: "+e)}r=!0}else if("number"==typeof e||e instanceof Number){if(isNaN(e))throw"Cannot create DayPilot.Date from NaN";i=e}else{if(!(e instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";i=n?DayPilot.DateUtil.fromLocal(e).getTime():e.getTime()}var o=t(i);return a[o]?a[o]:(a[o]=this,a[i]=this,r&&o!==e&&DayPilot.DateUtil.hasTzSpec(e)&&(a[e]=this),Object.defineProperty?(Object.defineProperty(this,"ticks",{get:function(){return i}}),Object.defineProperty(this,"value",{"value":o,"writable":!1,"enumerable":!0})):(this.ticks=i,this.value=o),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(i)),void(DayPilot.Stats.dateObjects+=1))},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={}},DayPilot.Date.prototype.addDays=function(e){return e?new DayPilot.Date(this.ticks+24*e*60*60*1e3):this},DayPilot.Date.prototype.addHours=function(e){return e?this.addTime(60*e*60*1e3):this},DayPilot.Date.prototype.addMilliseconds=function(e){return e?this.addTime(e):this},DayPilot.Date.prototype.addMinutes=function(e){return e?this.addTime(60*e*1e3):this},DayPilot.Date.prototype.addMonths=function(e){if(!e)return this;var t=new Date(this.ticks),n=t.getUTCFullYear(),i=t.getUTCMonth()+1;if(e>0){for(;e>=12;)e-=12,n++;e>12-i?(n++,i=e-(12-i)):i+=e}else{for(;e<=-12;)e+=12,n--;i+e<=0?(n--,i=12+i+e):i+=e}var a=new Date(t.getTime());a.setUTCDate(1),a.setUTCFullYear(n),a.setUTCMonth(i-1);var r=new DayPilot.Date(a).daysInMonth();return a.setUTCDate(Math.min(r,t.getUTCDate())),new DayPilot.Date(a)},DayPilot.Date.prototype.addSeconds=function(e){return e?this.addTime(1e3*e):this},DayPilot.Date.prototype.addTime=function(e){return e?(e instanceof DayPilot.Duration&&(e=e.ticks),new DayPilot.Date(this.ticks+e)):this},DayPilot.Date.prototype.addYears=function(e){var t=new Date(this.ticks),n=new Date(this.ticks),i=this.getYear()+e,a=this.getMonth();n.setUTCDate(1),n.setUTCFullYear(i),n.setUTCMonth(a);var r=new DayPilot.Date(n).daysInMonth();return n.setUTCDate(Math.min(r,t.getUTCDate())),new DayPilot.Date(n)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.dayOfWeekISO=function(){return new Date(this.ticks).getUTCDay()||7},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfYear=function(){var e=this.firstDayOfYear();return DayPilot.DateUtil.daysDiff(e,this)+1},DayPilot.Date.prototype.daysInMonth=function(){var e=new Date(this.ticks),t=e.getUTCMonth()+1,n=e.getUTCFullYear(),i=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==t?i[t-1]:n%4!==0?i[1]:n%100===0&&n%400!==0?i[1]:i[1]+1},DayPilot.Date.prototype.daysInYear=function(){var e=this.getYear();return e%4!==0?365:e%100===0&&e%400!==0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(e){if(null===e)return!1;if(e instanceof DayPilot.Date)return this===e;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var e=new Date;return e.setUTCFullYear(this.getYear(),this.getMonth(),1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.firstDayOfYear=function(){var e=this.getYear(),t=new Date;return t.setUTCFullYear(e,0,1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.firstDayOfWeek=function(e){var t=this;if(e instanceof DayPilot.Locale)e=e.weekStarts;else if("string"==typeof e&&DayPilot.Locale.find(e)){var n=DayPilot.Locale.find(e);e=n.weekStarts}else e=e||0;for(var i=t.dayOfWeek();i!==e;)t=t.addDays(-1),i=t.dayOfWeek();return new DayPilot.Date(t)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var e=new Date(this.ticks);return e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var e=this.getDatePart();return DayPilot.DateUtil.diff(this,e)},DayPilot.Date.prototype.lastDayOfMonth=function(){var e=new Date(this.firstDayOfMonth().getTime()),t=this.daysInMonth();return e.setUTCDate(t),new DayPilot.Date(e)},DayPilot.Date.prototype.weekNumber=function(){var e=this.firstDayOfYear(),t=(this.getTime()-e.getTime())/864e5;return Math.ceil((t+e.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var e=!1,t=this.dayOfYear(),n=this.firstDayOfYear().dayOfWeek(),i=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===n&&(n=7),0===i&&(i=7);var a=8-n;4!==n&&4!==i||(e=!0);var r=Math.ceil((t-a)/7),o=r;return a>=4&&(o+=1),
o>52&&!e&&(o=1),0===o&&(o=this.firstDayOfYear().addDays(-1).weekNumberISO()),o},DayPilot.Date.prototype.toDateLocal=function(){var e=new Date(this.ticks),t=new Date;return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours()),t.setMinutes(e.getUTCMinutes()),t.setSeconds(e.getUTCSeconds()),t.setMilliseconds(e.getUTCMilliseconds()),t},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(e,t){return e?new n(e,t).print(this):this.toStringSortable()},DayPilot.Date.prototype.toStringSortable=function(){return t(this.ticks)},DayPilot.Date.parse=function(e,t,i){return new n(t,i).parse(e)},DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday(),!0)},DayPilot.Date.now=function(){return new DayPilot.Date},DayPilot.Date.fromYearMonthDay=function(e,t,n){t=t||1,n=n||1;var i=new Date(0);return i.setUTCFullYear(e),i.setUTCMonth(t-1),i.setUTCDate(n),new DayPilot.Date(i)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(e,t){var n=function(){return new DayPilot.Exception("Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): '"+e+"'")};if(!e)throw new DayPilot.Exception("Can't create DayPilot.Date from an empty string");var i=e.length,a=10===i,r=19===i,o=i>19;if(!a&&!r&&!o)throw n();if(DayPilot.Date.Cache.Parsing[e]&&!t)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[e];var l=e.substring(0,4);if(isNaN(l))throw n();var s=e.substring(5,7);if(isNaN(s))throw n();var d=e.substring(8,10);if(isNaN(d))throw n();var c=new Date(0);if(c.setUTCFullYear(l,s-1,d),a)return DayPilot.Date.Cache.Parsing[e]=c,c;var u=e.substring(11,13);if(isNaN(u))throw n();var h=e.substring(14,16);if(isNaN(h))throw n();var f=e.substring(17,19);if(isNaN(f))throw n();if(c.setUTCHours(u),c.setUTCMinutes(h),c.setUTCSeconds(f),r)return DayPilot.Date.Cache.Parsing[e]=c,c;var v=e[19],p=0;if("."===v){var m=parseInt(e.substring(20,23));if(isNaN(m))throw n();c.setUTCMilliseconds(m),p=DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23))}else p=DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));var g=new DayPilot.Date(c);return t||(g=g.addMinutes(-p)),c=g.toDate(),DayPilot.Date.Cache.Parsing[e]=c,c},DayPilot.DateUtil.getTzOffsetMinutes=function(e){if(DayPilot.Util.isNullOrUndefined(e)||""===e)return 0;if("Z"===e)return 0;var t=e[0],n=parseInt(e.substring(1,3)),i=parseInt(e.substring(4)),a=60*n+i;if("-"===t)return-a;if("+"===t)return a;throw"Invalid timezone spec: "+e},DayPilot.DateUtil.hasTzSpec=function(e){return!!e.indexOf("+")||!!e.indexOf("-")},DayPilot.DateUtil.daysDiff=function(e,t){if(!e||!t)throw new Error("two parameters required");if(e=new DayPilot.Date(e),t=new DayPilot.Date(t),e.getTime()>t.getTime())return null;for(var n=0,i=e.getDatePart(),a=t.getDatePart();i.getTime()<a.getTime();)i=i.addDays(1),n++;return n},DayPilot.DateUtil.daysSpan=function(e,t){if(!e||!t)throw new Error("two parameters required");if(e=new DayPilot.Date(e),t=new DayPilot.Date(t),e.getTime()===t.getTime())return 0;var n=DayPilot.DateUtil.daysDiff(e,t);return t.getTime()===t.getDatePart().getTime()&&n--,n},DayPilot.DateUtil.diff=function(e,t){if(!(e&&t&&e.getTime&&t.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return e.getTime()-t.getTime()},DayPilot.DateUtil.fromLocal=function(e){e||(e=new Date);var t=new Date;return t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours()),t.setUTCMinutes(e.getMinutes()),t.setUTCSeconds(e.getSeconds()),t.setUTCMilliseconds(e.getMilliseconds()),t},DayPilot.DateUtil.localToday=function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},DayPilot.DateUtil.hours=function(e,t){var n=e.getUTCMinutes();n<10&&(n="0"+n);var i=e.getUTCHours();if(t){var a=i<12;i%=12,0===i&&(i=12);return i+":"+n+" "+(a?"AM":"PM")}return i+":"+n},DayPilot.DateUtil.max=function(e,t){return e.getTime()>t.getTime()?e:t},DayPilot.DateUtil.min=function(e,t){return e.getTime()<t.getTime()?e:t},DayPilot.ColorUtil={},DayPilot.ColorUtil.hexToRgb=function(e){if(!/^#[0-9a-f]{6}$/i.test(e))throw new DayPilot.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");return e=e.replace("#",""),{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},DayPilot.ColorUtil.rgbToHex=function(e){return"#"+a(e.r)+a(e.g)+a(e.b)},DayPilot.ColorUtil.adjustLuminance=function(e,t){return{r:e.r+t,g:e.g+t,b:e.b+t}},DayPilot.ColorUtil.darker=function(e,t){var n="";9===e.length&&(n=e.slice(7,9),e=e.slice(0,7));var i=DayPilot.ColorUtil.hexToRgb(e);"number"!=typeof t&&(t=1);var a=17,r=Math.round(t*a),o=DayPilot.ColorUtil.adjustLuminance(i,-r);return DayPilot.ColorUtil.rgbToHex(o)+n},DayPilot.ColorUtil.lighter=function(e,t){return"number"!=typeof t&&(t=1),DayPilot.ColorUtil.darker(e,-t)},DayPilot.ColorUtil.pl=function(e){var t=DayPilot.ColorUtil.hexToRgb(e),n=t.r/255,i=t.g/255,a=t.b/255;return Math.sqrt(.299*n*n+.587*i*i+.114*a*a)},DayPilot.ColorUtil.contrasting=function(e,t,n){var i=DayPilot.ColorUtil.pl(e);return t=t||"#ffffff",n=n||"#000000",i>.5?n:t},DayPilot.Canvas=function(e,t,n,i,a){function o(){return"rtl"===m}function l(e){v.save(),o()&&(v.translate(p,0),v.scale(-1,1)),e(),v.restore()}function s(e){return o()?{x:p-(e.x+e.w),y:e.y,w:e.w,h:e.h}:e}function d(e){switch(e){case"left":return o()?"right":"left";case"right":return o()?"left":"right";default:return e||"left"}}function c(e,t,n){for(var i=t.split(" "),a=[],r=i[0]||"",o=1;o<i.length;o++){var l=i[o],s=r?r+" "+l:l;e.measureText(s).width<n?r=s:(a.push(r),r=l)}return a.push(r),a}i=i||1;var u=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),h=/Firefox/.test(navigator.userAgent),f=document.createElement("canvas");f.width=e*i,f.height=t*i;var v=f.getContext("2d");v.scale(i,i);var p=e,m="ltr";this.defaultFileName="image.png","image/jpeg"===n&&(this.defaultFileName="image.jpg",a=a||.92),this.groupStart=function(){},this.groupEnd=function(){},this.setDirection=function(e){m="rtl"===e?"rtl":"ltr",v.direction=m},this.fillRect=function(e,t){l(function(){v.save(),v.strokeStyle="rgb(0,0,0,0)",v.fillStyle=t,v.fillRect(e.x,e.y,e.w,e.h),v.restore()})},this.rect=function(e,t,n){l(function(){v.save(),v.strokeStyle=t,n?(v.beginPath(),n.top&&(v.moveTo(e.x+.5,e.y+.5),v.lineTo(e.x+e.w-.5,e.y+.5)),n.right&&(v.moveTo(e.x+e.w-.5,e.y+.5),v.lineTo(e.x+e.w-.5,e.y+e.h-.5)),n.bottom&&(v.moveTo(e.x+e.w-.5,e.y+e.h-.5),v.lineTo(e.x+.5,e.y+e.h-.5)),n.left&&(v.moveTo(e.x+.5,e.y+e.h-.5),v.lineTo(e.x+.5,e.y+.5)),v.stroke()):(v.beginPath(),v.rect(e.x+.5,e.y+.5,e.w-1,e.h-1),v.stroke()),v.restore()})},this.diamond=function(e,t){l(function(){v.save(),v.strokeStyle="rgb(0,0,0,0)",v.fillStyle=t,v.beginPath(),v.moveTo(e.x+e.w/2,e.y+.5),v.lineTo(e.x+e.w-.5,e.y+e.h/2),v.lineTo(e.x+e.w/2,e.y+e.h-.5),v.lineTo(e.x+.5,e.y+e.h/2),v.closePath(),v.fill(),v.restore()})},this.triangle=function(e,t,n){for(n=n||0;n<0;)n+=360;for(;n>=360;)n-=360;l(function(){switch(v.save(),v.strokeStyle="rgb(0,0,0,0)",v.fillStyle=t,v.beginPath(),n){case 0:v.moveTo(e.x+e.w/3,e.y+.5),v.lineTo(e.x+e.w+.5,e.y+e.h/2),v.lineTo(e.x+e.w/3,e.y+e.h-.5);break;case 90:v.moveTo(e.x-.5,e.y+e.h/3),v.lineTo(e.x+e.w+.5,e.y+e.h/3),v.lineTo(e.x+e.w/2,e.y+e.h+.5);break;case 180:v.moveTo(e.x+2*e.w/3,e.y+.5),v.lineTo(e.x+2*e.w/3,e.y+e.h),v.lineTo(e.x,e.y+e.h/2);break;case 270:v.moveTo(e.x+e.w/2,e.y+e.w/2+.5),v.lineTo(e.x+e.w-.5,e.y+2*e.h/3),v.lineTo(e.x,e.y+2*e.h/3);break;default:throw new DayPilot.Exception("Unsupported rotation angle")}v.closePath(),v.fill(),v.restore()})},this.upperLeftCorner=function(e,t){l(function(){v.save(),v.strokeStyle="rgb(0,0,0,0)",v.fillStyle=t,v.beginPath(),v.moveTo(e.x,e.y),v.lineTo(e.x+e.w,e.y),v.lineTo(e.x,e.y+e.h),v.closePath(),v.fill(),v.restore()})},this.upperRightCorner=function(e,t){l(function(){v.save(),v.strokeStyle="rgb(0,0,0,0)",v.fillStyle=t,v.beginPath(),v.moveTo(e.x,e.y),v.lineTo(e.x+e.w,e.y),v.lineTo(e.x+e.w,e.y+e.h),v.closePath(),v.fill(),v.restore()})},this.textWidth=function(e,t){v.save(),v.font=t.style+" "+t.size+" "+t.family;var n=v.measureText(e).width+1;return v.restore(),n},this.text=function(e,t,n,i,a,r,o,l){if(t){if("number"==typeof t&&(t=""+t),"string"!=typeof t)throw new DayPilot.Exception("String expected, supplied: "+typeof t);a=d(a||"left"),r=r||0,i=i||"#000",o=o||"top";var f=s(e);v.save();var p=DayPilot.Util.fontHeight(n),g=h?3:0;g+=.2*p,g+=u?1:0,v.beginPath(),v.rect(f.x+.5+r,f.y+.5+r,f.w-1-r,f.h-1-r),v.clip(),v.fillStyle=i,v.font=n.style+" "+n.size+" "+n.family,v.textBaseline="top",v.textAlign=a,v.direction=m;var b=f.x;switch(a){case"left":b+=r;break;case"center":b+=f.w/2;break;case"right":b+=f.w-r}var y=1.2*p,w=t.split("\n"),x=[];w.forEach(function(e){if(l){c(v,e,f.w-2*r).forEach(function(e){x.push(e)})}else x.push(e)});var k=y-p,C=y*x.length-k,_=f.h-2*r,T=f.y+r;switch(o){case"top":T+=g;break;case"center":T+=(_-C)/2+.1*p;break;case"bottom":T+=_-C}for(var D=0;D<x.length;D++){var S=x[D];v.fillText(S,b,T),T+=y}v.restore()}},this.line=function(e,t,n,i,a){l(function(){v.save(),v.lineWidth=1,v.strokeStyle=a,v.beginPath(),v.moveTo(e+.5,t+.5),v.lineTo(n+.5,i+.5),v.stroke(),v.restore()})},this.image=function(e,t){if(t){var n,i=s(e);if("string"==typeof t){var a=document.createElement("img");if(0!==t.indexOf("data:"),!0)return a.onload=function(){v.save(),v.drawImage(a,i.x,i.y),v.restore()},void(a.src=t);a.src=t,n=a}else{if(!(t instanceof HTMLImageElement))throw new DayPilot.Exception("Invalid image type: "+typeof t+", expected string or HTMLImageElement.");n=t}v.save(),v.drawImage(n,i.x,i.y),v.restore()}},this.symbol=function(e,t,n){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),o=this;n=n||{};var l=n.color;new r(t).l().then(function(t){if(l){var n=document.createElementNS(i,"style");n.innerHTML="svg { color: "+l+"; }",a.appendChild(n)}a.setAttribute("viewBox",t.getAttribute("viewBox")),a.setAttribute("width",e.w),a.setAttribute("height",e.h);var r=document.createElementNS(i,"g");r.innerHTML=t.innerHTML,a.appendChild(r);var s=(new XMLSerializer).serializeToString(a),d="data:image/svg+xml;base64,"+btoa(s);o.image(e,d)})},this.getWidth=function(){return f.width},this.getHeight=function(){return f.height},this.getElement=function(){return f},this.getSource=function(){return"<img src='"+f.toDataURL(n,a)+"' />"},this.getDataUri=function(){return f.toDataURL(n,a)},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return f.msToBlob?f.msToBlob():DayPilot.Util.dataUriToBlob(this.getDataUri())}},DayPilot.Svg=function(e,t){function n(e,t){var n=document.createElementNS(d,"clipPath");n.id="clip"+DayPilot.guid();var i=document.createElementNS(d,"rect");i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("width",e),i.setAttribute("height",t),n.appendChild(i),u.defs.appendChild(n);var a=document.createElementNS(d,"g");a.setAttribute("clip-path","url(#"+n.id+")"),c.appendChild(a),h=document.createElementNS(d,"g"),f=document.createElementNS(d,"g"),a.appendChild(h),a.appendChild(f),v=h,p=f,l()}function i(){return"rtl"===g}function a(e){return i()?{x:m-(e.x+e.w),y:e.y,w:e.w,h:e.h}:e}function o(e){switch(e){case"left":return i()?"right":"left";case"right":return i()?"left":"right";default:return e||"left"}}function l(){i()?h.setAttribute("transform","translate("+m+",0) scale(-1,1)"):h.removeAttribute("transform")}function s(e,t){var n=null;if(e){if("string"==typeof e){if(0===e.indexOf("data:")){var i={};return i.dataUri=e,void t(i)}n=e}else n=e.src;var a=document.createElement("img");a.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0);var n={};n.dataUri=e.toDataURL("image/png"),t(n)},a.src=n}}var d="http://www.w3.org/2000/svg",c=document.createElementNS(d,"svg"),u=this;this.m=c,this.groups=[];var h,f,v,p,m=e,g="ltr",b=[];c.outerHTML&&c.setAttribute("xmlns",d),c.setAttribute("viewBox","0 0 "+e+" "+t);var y=document.createElementNS(d,"defs");c.appendChild(y),u.defs=y,n(e,t),this.defaultFileName="image.svg",this.groupStart=function(e){var t=document.createElementNS(d,"g"),n=document.createElementNS(d,"g");if(e)for(var i in e)t.setAttribute("data-"+i,e[i]),n.setAttribute("data-"+i,e[i]);b.push({geomParent:v,uiParent:p}),v=t,p=n},this.groupEnd=function(){if(0===b.length)throw new DayPilot.Exception("SVG export = group not open");var e=b.pop();(e.geomParent||h).appendChild(v),(e.uiParent||f).appendChild(p),v=e.geomParent||h,p=e.uiParent||f},this.setDirection=function(e){g="rtl"===e?"rtl":"ltr",l()},this.fillRect=function(e,t){var n=document.createElementNS(d,"rect");n.setAttribute("x",e.x),n.setAttribute("y",e.y),n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("fill",t),v.appendChild(n)},this.diamond=function(e,t){var n=document.createElementNS(d,"path"),i="";i+="M "+(e.x+e.w/2)+" "+e.y,i+=" L "+(e.x+e.w)+" "+(e.y+e.h/2),i+=" L "+(e.x+e.w/2)+" "+(e.y+e.h),i+=" L "+e.x+" "+(e.y+e.h/2)+" Z",n.setAttribute("d",i),n.setAttribute("fill",t),v.appendChild(n)},this.triangle=function(e,t,n){var i=document.createElementNS(d,"path"),a="";a+="M "+(e.x+e.w/3)+" "+e.y,a+=" L "+(e.x+e.w)+" "+(e.y+e.h/2),a+=" L "+(e.x+e.w/3)+" "+(e.y+e.h)+" Z",i.setAttribute("d",a),i.setAttribute("fill",t),"number"==typeof n&&i.setAttribute("transform","rotate("+n+","+(e.x+e.w/2)+","+(e.y+e.h/2)+")"),v.appendChild(i)},this.upperLeftCorner=function(e,t){var n=document.createElementNS(d,"path"),i="";i+="M "+e.x+" "+e.y,i+=" L "+(e.x+e.w)+" "+e.y,i+=" L "+e.x+" "+(e.y+e.h)+" Z",n.setAttribute("d",i),n.setAttribute("fill",t),v.appendChild(n)},this.upperRightCorner=function(e,t){var n=document.createElementNS(d,"path"),i="";i+="M "+e.x+" "+e.y,i+=" L "+(e.x+e.w)+" "+e.y,i+=" L "+(e.x+e.w)+" "+(e.y+e.h)+" Z",n.setAttribute("d",i),n.setAttribute("fill",t),v.appendChild(n)},this.rect=function(e,t,n){if(!(e.w<=0||e.h<=0))if(n){if(n.top){var i=document.createElementNS(d,"line");i.setAttribute("x1",e.x+.5),i.setAttribute("y1",e.y+.5),i.setAttribute("x2",e.x+e.w-.5),i.setAttribute("y2",e.y+.5),i.setAttribute("stroke",t),i.setAttribute("stroke-width","1"),i.setAttribute("fill","transparent"),v.appendChild(i)}if(n.right){var a=document.createElementNS(d,"line");a.setAttribute("x1",e.x+e.w-.5),a.setAttribute("y1",e.y+.5),a.setAttribute("x2",e.x+e.w-.5),a.setAttribute("y2",e.y+e.h-.5),a.setAttribute("stroke",t),a.setAttribute("stroke-width","1"),a.setAttribute("fill","transparent"),v.appendChild(a)}if(n.bottom){var r=document.createElementNS(d,"line");r.setAttribute("x1",e.x+e.w-.5),r.setAttribute("y1",e.y+e.h-.5),r.setAttribute("x2",e.x+.5),r.setAttribute("y2",e.y+e.h-.5),r.setAttribute("stroke",t),r.setAttribute("stroke-width","1"),r.setAttribute("fill","transparent"),v.appendChild(r)}if(n.left){var o=document.createElementNS(d,"line");o.setAttribute("x1",e.x+.5),o.setAttribute("y1",e.y+e.h-.5),o.setAttribute("x2",e.x+.5),o.setAttribute("y2",e.y+.5),o.setAttribute("stroke",t),o.setAttribute("stroke-width","1"),o.setAttribute("fill","transparent"),v.appendChild(o)}}else{var l=document.createElementNS(d,"rect");l.setAttribute("x",e.x+.5),l.setAttribute("y",e.y+.5),l.setAttribute("width",e.w-1),l.setAttribute("height",e.h-1),l.setAttribute("stroke",t),l.setAttribute("stroke-width","1"),l.setAttribute("fill","transparent"),v.appendChild(l)}},this.line=function(e,t,n,i,a){var r=document.createElementNS(d,"line");r.setAttribute("x1",e+.5),r.setAttribute("y1",t+.5),r.setAttribute("x2",n+.5),r.setAttribute("y2",i+.5),r.setAttribute("stroke",a),v.appendChild(r)},this.text=function(e,t,n,r,l,s,c,h){function f(e,t,a){var o=document.createElementNS(d,"text");o.setAttribute("fill",r),o.setAttribute("font-family",n.family),o.setAttribute("font-size",n.size),o.setAttribute("font-style",g),o.setAttribute("font-weight",b),o.setAttribute("x",t),o.setAttribute("y",a),o.setAttribute("dy","0.8em"),o.setAttribute("text-anchor",w),o.setAttribute("clip-path","url(#"+x.id+")"),o.setAttribute("direction",i()?"rtl":"ltr"),o.setAttribute("unicode-bidi","plaintext");var l=document.createTextNode(e);return o.appendChild(l),p.appendChild(o),o}function v(e,t){var n=e.textContent,i=n.split("\n"),a=[],r=document.createElementNS(d,"svg"),o=e.cloneNode(!0);r.appendChild(o),r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",document.body.appendChild(r);for(var l=0;l<i.length;l++){for(var s=i[l],c=s.split(/\s+/),u=[],h=0,f=c;h<f.length;h++){var v=f[h];u.push(v),o.textContent=u.join(" "),o.getComputedTextLength()>t&&(u.pop(),a.push(u.join(" ")),u=[v])}a.push(u.join(" "))}e.textContent="",document.body.removeChild(r);for(var p=e.getAttribute("x")||0,m=0;m<a.length;m++){var g=document.createElementNS(d,"tspan");g.textContent=a[m],g.setAttribute("x",p),m>0&&g.setAttribute("dy",C),e.appendChild(g)}return a}if(t){if("number"==typeof t&&(t=""+t),"string"!=typeof t)throw new DayPilot.Exception("String expected, supplied: "+typeof t);if(!(e.w<0)){l=o(l||"left"),s=s||0,c=c||"top",r=r||"#000";var m=a(e),g=n.style;g.indexOf("italic")!==-1&&(g="bold");var b=n.style,y=m.x,w="start";switch(l){case"center":y+=m.w/2,w="middle";break;case"right":y+=m.w,w="end";break;case"left":}var x=document.createElementNS(d,"clipPath");x.id="clip"+DayPilot.guid();var k=document.createElementNS(d,"rect");k.setAttribute("x",m.x),k.setAttribute("y",m.y),k.setAttribute("width",m.w),k.setAttribute("height",m.h),x.appendChild(k),u.defs.appendChild(x);var C=DayPilot.Util.fontHeight(n),_=1.1*C,T=m.y+s,D=_-C,S=f(t,y+s,T),E=t.split("\n");h&&m.w>0&&(E=v(S,m.w-2*s));var H=_*E.length-D,M=m.h-2*s;switch(c){case"top":T+=3;break;case"center":T+=(M-H)/2+.1*C;break;case"bottom":T+=M-H}S.setAttribute("y",T)}}},this.image=function(e,t){function n(e){var t=document.createElementNS(d,"image");t.setAttribute("href",e.dataUri),t.setAttribute("x",i.x),t.setAttribute("y",i.y),t.setAttribute("width",i.w),t.setAttribute("height",i.h),r.appendChild(t)}var i=a(e),r=document.createElementNS(d,"g");p.appendChild(r),s(t,n)},this.symbol=function(e,t,n){var i=document.createElementNS(d,"symbol");n=n||{};var o=n.color;new r(t).l().then(function(t){if(o){var n=document.createElementNS(d,"style");n.innerHTML="svg { color: "+o+"; }",i.appendChild(n)}var r=DayPilot.guid();i.setAttribute("viewBox",t.getAttribute("viewBox")),i.setAttribute("width",e.w),i.setAttribute("height",e.h),i.setAttribute("id",r);var l=document.createElementNS(d,"g");l.innerHTML=t.innerHTML,i.appendChild(l),u.m.appendChild(i);var s=document.createElementNS(d,"use");s.setAttribute("href","#"+r);var c=a(e);s.setAttribute("x",c.x),s.setAttribute("y",c.y),p.appendChild(s)})},this.n={},this.textWidth=function(e,t){var n="#"+e+"#"+JSON.stringify(t)+"#"+g,a=this.n[n];if("number"==typeof a)return a;var r=document.createElementNS(d,"svg");r.style.position="absolute",r.style.left="-10000px",r.style.width="100px",r.outerHTML&&r.setAttribute("xmlns",d),r.setAttribute("viewBox","0 0 100 100");var o=document.createElementNS(d,"text");o.setAttribute("font-family",t.family),o.setAttribute("font-size",t.size),o.setAttribute("font-style",t.style),o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("dy","1em"),o.setAttribute("direction",i()?"rtl":"ltr"),o.setAttribute("unicode-bidi","plaintext"),o.textContent=e,r.appendChild(o),document.body.appendChild(r);var l=o.getComputedTextLength();return this.n[n]=l,document.body.removeChild(r),l},this.getWidth=function(){return e},this.getHeight=function(){return t},this.getElement=function(){return this.m},this.getSource=function(){if(this.m.outerHTML)return this.m.outerHTML;var e=document.createElement("div"),t=this.m.cloneNode(!0);return e.appendChild(t),e.innerHTML},this.getDataUri=function(){return"data:application/octet-stream,"+encodeURIComponent(this.getSource())},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return new Blob([this.getSource()])}},DayPilot.Excel=function(e,t){function n(e){function t(e,t,r){this.setText=function(t){return t&&(e.value=t),this},this.setBorderColor=function(t,n){if(!t)return this;t.startsWith("#")&&(t=t.substring(1));var i=!0,a=!0,r=!0,o=!0;return n&&(i=n.top,a=n.right,r=n.bottom,o=n.left),e.border={top:i?{style:"thin",color:{argb:t}}:null,left:o?{style:"thin",color:{argb:t}}:null,bottom:r?{style:"thin",color:{argb:t}}:null,right:a?{style:"thin",color:{argb:t}}:null},this},this.setBackColor=function(t){return t?(t.startsWith("#")&&(t=t.substring(1)),e.fill={type:"pattern",pattern:"solid",fgColor:{argb:t}},this):this},this.setFontColor=function(t){return t?(t.startsWith("#")&&(t=t.substring(1)),e.font||(e.font={}),e.font.name||(e.font.name=o),e.font.color={argb:t},this):this},this.setHeight=function(e){var t=a(e);return n.getRow(r+1).height=t,this},this.setMinHeight=function(e){var t=a(e),i=n.getRow(r+1);return i.height<t&&(i.height=t),this},this.setWidth=function(e){var a=i(e);return n.getColumn(t+1).width=a,this},this.setIndent=function(t){return e.alignment||(e.alignment={}),t&&(e.alignment.indent=t),this},this.setWordWrap=function(t){return e.alignment||(e.alignment={}),e.alignment.wrapText=t,this},this.setColspan=function(e){return e>1&&n.mergeCells(r+1,t+1,r+1,t+e),this},this.setRowspan=function(e){return e>1&&n.mergeCells(r+1,t+1,r+e,t+1),this},this.setSpan=function(e,i){return 1===e&&1===i?this:(n.mergeCells(r+1,t+1,r+i,t+e),this)},this.setHorizontalAlignment=function(t){return t?(t=t.toLowerCase(),e.alignment?e.alignment.horizontal=t:e.alignment={horizontal:t},this):this},this.setVerticalAlignment=function(t){return t?(t=t.toLowerCase(),"center"===t&&(t="middle"),e.alignment?e.alignment.vertical=t:e.alignment={vertical:t},this):this},this.makeTopLeft=function(){var t=e.address;return"frozen"===n.views[0].state&&(n.views[0].topLeftCell=t),this},this.focus=function(){var t=e.address;return n.views[0].activeCell=t,this}}var n=r.addWorksheet(e);n.views=[{showGridLines:!1}],this.cell=function(e,i){return new t(n.getCell(i+1,e+1),e,i)},this.freeze=function(e,t){return n.views[0].state="frozen",n.views[0].xSplit=e,n.views[0].ySplit=t,this}}t=t||{};var i=t.transformWidth||function(e){return(e-5)/7},a=t.transformHeight||function(e){return.75*e},r=new e.Workbook,o="Calibri";this.worksheets=[],this.worksheets.create=function(e){return new n(e)},this.writeBuffer=function(){return r.xlsx.writeBuffer()}},DayPilot.Export=function(e){this.toElement=function(){return e.getElement()},this.dimensions=function(){return{"width":e.getWidth(),"height":e.getHeight()}},this.toHtml=function(){return e.getSource()},this.toDataUri=function(){return e.getDataUri()},this.toBlob=function(){return e.getBlob()},this.print=function(t){t=t||{},t.orientation=t.orientation||"portrait";var n=document.createElement("iframe");n.setAttribute("width",0),n.setAttribute("height",0),n.setAttribute("frameborder",0),n.setAttribute("src","about:blank"),n.onload=function(){var i=n.contentWindow.document;if(i.body.appendChild(e.getElement()),"landscape"===t.orientation){var a=DayPilot.sheet(i);a.add("@page","size: landscape;"),a.commit()}n.contentWindow.document.execCommand("print",!1,null)||(n.contentWindow.focus(),n.contentWindow.print()),setTimeout(function(){document.body.removeChild(n)},10)},document.body.appendChild(n)},this.download=function(t){if("function"==typeof e.download)return void e.download(t);t=t||e.getDefaultFileName();var n=e.getBlob();DayPilot.Util.downloadBlob(n,t)}},DayPilot.Exception=function(e){return new Error(e)},DayPilot.Locale=function(e,t){if(this.id=e,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,t)for(var n in t)this[n]=t[n]},DayPilot.Locale.all={},DayPilot.Locale.find=function(e){if(!e)return null;var t=e.toLowerCase();return t.length>2&&(t=DayPilot.Util.replaceCharAt(t,2,"-")),DayPilot.Locale.all[t]},DayPilot.Locale.register=function(e){DayPilot.Locale.all[e.id]=e},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{"dayNames":["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],"dayNamesShort":["dg","dl","dt","dc","dj","dv","ds"],"monthNames":["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],"monthNamesShort":["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],"timePattern":"H:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{"dayNames":["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],"dayNamesShort":["ne","po","út","st","čt","pá","so"],"monthNames":["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec",""],"monthNamesShort":["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],"timePattern":"H:mm","datePattern":"d. M. yyyy","dateTimePattern":"d. M. yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{"dayNames":["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],"dayNamesShort":["sø","ma","ti","on","to","fr","lø"],"monthNames":["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],"monthNamesShort":["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],"timePattern":"HH:mm","datePattern":"dd-MM-yyyy","dateTimePattern":"dd-MM-yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{"dayNames":["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],"dayNamesShort":["So","Mo","Di","Mi","Do","Fr","Sa"],"monthNames":["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],"monthNamesShort":["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{"dayNames":["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],"dayNamesShort":["So","Mo","Di","Mi","Do","Fr","Sa"],"monthNames":["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],"monthNamesShort":["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{"dayNames":["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],"dayNamesShort":["So","Mo","Di","Mi","Do","Fr","Sa"],"monthNames":["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],"monthNamesShort":["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{"dayNames":["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],"dayNamesShort":["So","Mo","Di","Mi","Do","Fr","Sa"],"monthNames":["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],"monthNamesShort":["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"timePattern":"h:mm tt","datePattern":"d/MM/yyyy","dateTimePattern":"d/MM/yyyy h:mm tt","timeFormat":"Clock12Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"timePattern":"h:mm tt","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd h:mm tt","timeFormat":"Clock12Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"timePattern":"h:mm tt","datePattern":"M/d/yyyy","dateTimePattern":"M/d/yyyy h:mm tt","timeFormat":"Clock12Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{"dayNames":["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],"dayNamesShort":["D","L","M","X","J","V","S"],"monthNames":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],"monthNamesShort":["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],"timePattern":"H:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{"dayNames":["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],"dayNamesShort":["do.","lu.","ma.","mi.","ju.","vi.","sá."],"monthNames":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],"monthNamesShort":["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],"timePattern":"hh:mm tt","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy hh:mm tt","timeFormat":"Clock12Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{"dayNames":["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],"dayNamesShort":["ig","al","as","az","og","or","lr"],"monthNames":["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],"monthNamesShort":["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],"timePattern":"H:mm",
"datePattern":"yyyy/MM/dd","dateTimePattern":"yyyy/MM/dd H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{"dayNames":["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],"dayNamesShort":["su","ma","ti","ke","to","pe","la"],"monthNames":["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],"monthNamesShort":["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""],"timePattern":"H:mm","datePattern":"d.M.yyyy","dateTimePattern":"d.M.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"dd-MM-yy","dateTimePattern":"dd-MM-yy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd HH:mm","timeFormat":"Clock24Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{"dayNames":["domingo","luns","martes","mércores","xoves","venres","sábado"],"dayNamesShort":["do","lu","ma","mé","xo","ve","sá"],"monthNames":["xaneiro","febreiro","marzo","abril","maio","xuño","xullo","agosto","setembro","outubro","novembro","decembro",""],"monthNamesShort":["xan","feb","mar","abr","maio","xuño","xul","ago","set","out","nov","dec",""],"timePattern":"H:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{"dayNames":["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],"dayNamesShort":["do","lu","ma","me","gi","ve","sa"],"monthNames":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],"monthNamesShort":["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{"dayNames":["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],"dayNamesShort":["do","lu","ma","me","gi","ve","sa"],"monthNames":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],"monthNamesShort":["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{"dayNames":["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],"dayNamesShort":["日","月","火","水","木","金","土"],"monthNames":["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],"monthNamesShort":["1","2","3","4","5","6","7","8","9","10","11","12",""],"timePattern":"H:mm","datePattern":"yyyy/MM/dd","dateTimePattern":"yyyy/MM/dd H:mm","timeFormat":"Clock24Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("ko-kr",{"dayNames":["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],"dayNamesShort":["일","월","화","수","목","금","토"],"monthNames":["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월",""],"monthNamesShort":["1","2","3","4","5","6","7","8","9","10","11","12",""],"timePattern":"tt h:mm","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd tt h:mm","timeFormat":"Clock12Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{"dayNames":["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],"dayNamesShort":["sø","ma","ti","on","to","fr","lø"],"monthNames":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],"monthNamesShort":["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{"dayNames":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dayNamesShort":["zo","ma","di","wo","do","vr","za"],"monthNames":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],"monthNamesShort":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],"timePattern":"HH:mm","datePattern":"d-M-yyyy","dateTimePattern":"d-M-yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{"dayNames":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dayNamesShort":["zo","ma","di","wo","do","vr","za"],"monthNames":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],"monthNamesShort":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],"timePattern":"H:mm","datePattern":"d/MM/yyyy","dateTimePattern":"d/MM/yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{"dayNames":["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],"dayNamesShort":["sø","må","ty","on","to","fr","la"],"monthNames":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],"monthNamesShort":["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{"dayNames":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"dayNamesShort":["D","S","T","Q","Q","S","S"],"monthNames":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],"monthNamesShort":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{"dayNames":["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],"dayNamesShort":["N","Pn","Wt","Śr","Cz","Pt","So"],"monthNames":["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień",""],"monthNamesShort":["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru",""],"timePattern":"HH:mm","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{"dayNames":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"dayNamesShort":["D","S","T","Q","Q","S","S"],"monthNames":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],"monthNamesShort":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{"dayNames":["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],"dayNamesShort":["D","L","Ma","Mi","J","V","S"],"monthNames":["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],"monthNamesShort":["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],"timePattern":"H:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{"dayNames":["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],"dayNamesShort":["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],"monthNames":["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь",""],"monthNamesShort":["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек",""],"timePattern":"H:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{"dayNames":["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],"dayNamesShort":["ne","po","ut","st","št","pi","so"],"monthNames":["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december",""],"monthNamesShort":["1","2","3","4","5","6","7","8","9","10","11","12",""],"timePattern":"H:mm","datePattern":"d.M.yyyy","dateTimePattern":"d.M.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{"dayNames":["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],"dayNamesShort":["sö","må","ti","on","to","fr","lö"],"monthNames":["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],"monthNamesShort":["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],"timePattern":"HH:mm","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{"dayNames":["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],"dayNamesShort":["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],"monthNames":["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık",""],"monthNamesShort":["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara",""],"timePattern":"HH:mm","datePattern":"d.M.yyyy","dateTimePattern":"d.M.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("uk-ua",{"dayNames":["неділя","понеділок","вівторок","середа","четвер","п'ятниця","субота"],"dayNamesShort":["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],"monthNames":["січень","лютий","березень","квітень","травень","червень","липень","серпень","вересень","жовтень","листопад","грудень",""],"monthNamesShort":["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру",""],"timePattern":"H:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{"dayNames":["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],"dayNamesShort":["日","一","二","三","四","五","六"],"monthNames":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],"monthNamesShort":["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],"timePattern":"H:mm","datePattern":"yyyy/M/d","dateTimePattern":"yyyy/M/d H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("zh-tw",{"dayNames":["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],"dayNamesShort":["日","一","二","三","四","五","六"],"monthNames":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],"monthNamesShort":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],"timePattern":"tt hh:mm","datePattern":"yyyy/M/d","dateTimePattern":"yyyy/M/d tt hh:mm","timeFormat":"Clock12Hours","weekStarts":0})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(e){function t(e,t,i){var a={};a.start=e,a.end=t,a.day=i,a.target=n.s.control,a.preventDefault=function(){this.preventDefault.value=!0};var r=n.N;r&&r.start===a.start&&r.end===a.end&&r.day===a.day&&r.target===a.target||(n.N=a,"function"==typeof n.onChange&&(n.onChange(a),a.preventDefault.value)||"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(a),a.preventDefault.value)||(n.s.C(n.t),"function"==typeof n.onChanged&&n.onChanged(a),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(a)))}var n=this;this.o=[],this.p=[],this.q={},this.selectedClass=null,this.s=null,this.t=DayPilot.Date.today(),this.onChange=null,this.onChanged=null,this.onSelect=null,this.q.updateMode=function(e){var t=n.q.control;t&&(t.selectMode=e,t.select(n.t))},this.addView=function(e,t){var i;if("string"==typeof e){if(i=document.getElementById(e),!i)throw"Element not found: "+e}else i=e;var a=i,r={};return r.u=!0,r.z=a.id,r.control=a,r.A=t||{},r.B=function(){a.hide?a.hide():a.nav&&a.nav.top?a.nav.top.style.display="none":a.style.display="none"},r.C=function(e){(function(){return!!a.backendUrl||!("function"!=typeof WebForm_DoCallback||!a.uniqueID)})()?a.commandCallBack&&a.commandCallBack("navigate",{"day":e}):(a.startDate=e,a.update())},r.D=function(){n.E(),a.show?a.show():a.nav&&a.nav.top?a.nav.top.style.display="":a.style.display=""},r.F=function(){if(r.A.navigatorSelectMode)return r.A.navigatorSelectMode;if(a.isCalendar)switch(a.viewType){case"Day":return"day";case"Week":return"week";case"WorkWeek":return"week";default:return"day"}else if(a.isMonth)switch(a.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.o.push(r),r},this.addTrigger=function(e,t){var i;if("string"==typeof e){if(i=document.getElementById(e),!i)throw"Element not found: "+e}else i=e;var a=this.G(t);a||(a=this.addView(t));var r={};return r.H=!0,r.I=i,r.z=i.id,r.J=a,r.K=function(e){n.show(r),n.L(r),e&&e.preventDefault()},DayPilot.re(i,"click",r.K),this.p.push(r),r},this.addButton=this.addTrigger,this.select=function(e){var t=this.M(e);t?t.K():this.p.length>0&&this.p[0].K()},this.M=function(e){for(var t=0;t<this.p.length;t++){var n=this.p[t];if(n.z===e)return n}return null},this.L=function(e){if(this.selectedClass){for(var t=0;t<this.p.length;t++){var n=this.p[t];DayPilot.Util.removeClass(n.I,this.selectedClass)}DayPilot.Util.addClass(e.I,this.selectedClass)}},this.addNavigator=function(e){n.q.control=e,e.timeRangeSelectedHandling="JavaScript",e.onTimeRangeSelected=function(){var i,a,r;if(1===e.api)i=arguments[0],a=arguments[1],r=arguments[2];else{var o=arguments[0];i=o.start,a=o.end,r=o.day}n.t=r,t(i,a,r)}},this.show=function(e){var i,a;if(e.H)a=e,i=a.J;else if(i=e.u?e:this.G(e),this.s===i)return;if(n.onSelect){var r={};r.source=a?a.I:null,r.target=i.control,n.onSelect(r)}this.s=i,i.D();var o=i.F();n.q.updateMode(o),t(n.q.control.selectionStart,n.q.control.selectionEnd.addDays(1),n.q.control.selectionDay)},this.G=function(e){for(var t=0;t<this.o.length;t++)if(this.o[t].control===e)return this.o[t];return null},this.E=function(){for(var e=0;e<this.o.length;e++)this.o[e].B()},Object.defineProperty(this,"active",{get:function(){return n.s}}),this.events={},this.events.load=function(e,t,i){if(!n.s||!n.s.control)throw"DayPilot.Switcher.events.load(): Active view not found";n.s.control.events.load(e,t,i)},this.N=null,this.O=function(){if(e)for(var t in e)if("triggers"===t){var i=e.triggers||[];i.forEach(function(e){n.addTrigger(e.id,e.view)})}else"navigator"===t?n.addNavigator(e.navigator):n[t]=e[t]},this.O()},function(){if(!DayPilot.Global.defaultCss){var e=DayPilot.sheet();e.add(".bubble_default_main","cursor: default; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),e.add(".bubble_default_main_inner",'border-radius: 5px; padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),e.add(".bubble_default_arrow_top","fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),e.add(".bubble_default_arrow_bottom","fill: #eeeeee; stroke: #cccccc; stroke-width: 2;"),e.add(".bubble_default_arrow_left","fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),e.add(".bubble_default_arrow_right","fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),e.add(".menu_default_main","user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),e.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),e.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),e.add(".menu_default_main.menu_default_withchildren a","padding: 2px 35px 2px 35px;"),e.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),e.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"),e.add(".menu_default_main a:hover","background-color: #f3f3f3;"),e.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),e.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active","background-color: #f3f3f3;"),e.add(".menu_default_item_haschildren a:before","content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"),e.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),e.add(".menu_default_item a i","height: 20px;line-height: 20px;"),e.add(".menu_default_item .menu_default_item_symbol","width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"),e.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"),e.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),e.add(".menubar_default_item:hover","background-color: #f2f2f2;"),e.add(".menubar_default_item_active","background-color: #f2f2f2;"),e.add(".queue_default_main","min-width: 100px; border: 1px solid #ccc; padding: 5px; min-height: 200px; overflow-y: auto; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),e.add(".queue_default_event_bar","left: 0px; top: 0px; bottom: 0px; width: 5px; background-color: #1066a8;"),e.add(".queue_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 10px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),e.add(".queue_default_event_inner","background:#fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);"),e.add(".queue_default_selected .queue_default_event_inner","background: #ddd;"),e.add(".queue_default_shadow","background-color: #ccc;"),e.add(".calendar_default_main","--dp-calendar-border-color: #c0c0c0;--dp-calendar-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;--dp-calendar-font-size: 13px;--dp-calendar-header-bg-color: #f3f3f3;--dp-calendar-header-color: #333;--dp-calendar-colheader-padding: 0px;--dp-calendar-rowheader-font-size: 16pt;--dp-calendar-rowheader-padding: 3px;--dp-calendar-cell-bg-color: #f9f9f9;--dp-calendar-cell-business-bg-color: #ffffff;--dp-calendar-cell-border-color: #ddd;--dp-calendar-colheader-horizontal-align: center;--dp-calendar-colheader-vertical-align: center;--dp-calendar-allday-event-color: #333;--dp-calendar-allday-event-border-color: #999;--dp-calendar-allday-event-border: 1px solid var(--dp-calendar-allday-event-border-color);--dp-calendar-allday-event-border-radius: 0px;--dp-calendar-allday-event-bg-top-color: #ffffff;--dp-calendar-allday-event-bg-bottom-color: #eeeeee;--dp-calendar-allday-event-background: linear-gradient(to bottom, var(--dp-calendar-allday-event-bg-top-color) 0%, var(--dp-calendar-allday-event-bg-bottom-color) 100%);--dp-calendar-allday-event-box-shadow: none;--dp-calendar-allday-event-padding: 4px;--dp-calendar-allday-event-horizontal-align: flex-start;--dp-calendar-event-color: #333;--dp-calendar-event-border-color: #999;--dp-calendar-event-border: 1px solid var(--dp-calendar-event-border-color);--dp-calendar-event-border-radius: 0px;--dp-calendar-event-box-shadow: none;--dp-calendar-event-bg-top-color: #ffffff;--dp-calendar-event-bg-bottom-color: #eeeeee;--dp-calendar-event-background: linear-gradient(to bottom, var(--dp-calendar-event-bg-top-color) 0%, var(--dp-calendar-event-bg-bottom-color) 100%);--dp-calendar-event-bar-bg-color: #9dc8e8;--dp-calendar-event-bar-color: #1066a8;--dp-calendar-event-bar-width: 6px;--dp-calendar-event-bar-left: 0px;--dp-calendar-event-bar-bottom: 0px;--dp-calendar-event-bar-top: 0px;--dp-calendar-event-bar-display: block;--dp-calendar-event-padding: 2px;--dp-calendar-event-padding-left: 8px;--dp-calendar-message-bg-color: #ffa216;--dp-calendar-message-color: #ffffff;--dp-calendar-message-padding: 10px;--dp-calendar-message-opacity: 0.9;--dp-calendar-selected-event-bg-color: #ddd;--dp-calendar-shadow-color: #bbbbbb;--dp-calendar-shadow-border-color: #888888;--dp-calendar-forbidden-shadow-border-color: #cc0000;--dp-calendar-forbidden-shadow-bg-color: #cc4125;--dp-calendar-now-indicator-color: red;--dp-calendar-scroll-bg-color: #f3f3f3;"),e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),e.add(".calendar_default_main","border:1px solid var(--dp-calendar-border-color); font-family:var(--dp-calendar-font-family); font-size:var(--dp-calendar-font-size);"),e.add(".calendar_default_rowheader_inner, .calendar_default_cornerright_inner, .calendar_default_corner_inner, .calendar_default_colheader_inner, .calendar_default_alldayheader_inner","color: var(--dp-calendar-header-color); background: var(--dp-calendar-header-bg-color);"),e.add(".calendar_default_colheader_back","background: var(--dp-calendar-header-bg-color); border-bottom: 1px solid red;"),e.add(".calendar_default_colheader_back_inner","position: absolute; inset: 0; border-bottom: 1px solid var(--dp-calendar-border-color);"),e.add(".calendar_default_cornerright_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-bottom: 1px solid var(--dp-calendar-border-color);"),e.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner","border-right: 1px solid var(--dp-calendar-border-color);"),e.add(".calendar_default_rowheader_inner","font-size: var(--dp-calendar-rowheader-font-size); text-align: right; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); padding: var(--dp-calendar-rowheader-padding);"),e.add(".calendar_default_rowheader_simple .calendar_default_rowheader_inner","font-size: inherit; display: flex; align-items: center; justify-content: center; white-space: nowrap;"),e.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner","border-right: none;"),e.add(".calendar_default_corner_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"),e.add(".calendar_default_direction_rtl .calendar_default_corner_inner","border-right: none;"),e.add(".calendar_default_rowheader_minutes","font-size: 10px; vertical-align: super; padding-left: 2px; padding-right: 2px;"),e.add(".calendar_default_colheader_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; padding: var(--dp-calendar-colheader-padding);border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); display: flex; align-items: var(--dp-calendar-colheader-vertical-align); justify-content: var(--dp-calendar-colheader-horizontal-align);"),e.add(".calendar_default_cell_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-cell-border-color); border-bottom: 1px solid var(--dp-calendar-cell-border-color); background: var(--dp-calendar-cell-bg-color);"),e.add(".calendar_default_cell_business .calendar_default_cell_inner","background: var(--dp-calendar-cell-business-bg-color);"),e.add(".calendar_default_alldayheader_inner","text-align: center; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"),e.add(".calendar_default_message","opacity: var(--dp-calendar-message-opacity); padding: var(--dp-calendar-message-padding); color: var(--dp-calendar-message-color); background: var(--dp-calendar-message-bg-color);"),e.add(".calendar_default_event_inner","color: var(--dp-calendar-event-color); border: var(--dp-calendar-event-border); border-radius: var(--dp-calendar-event-border-radius); background: var(--dp-calendar-event-background);"),e.add(".calendar_default_alldayevent","box-shadow: var(--dp-calendar-allday-event-box-shadow); border-radius: var(--dp-calendar-allday-event-border-radius);"),e.add(".calendar_default_alldayevent_inner","color: var(--dp-calendar-allday-event-color); border: var(--dp-calendar-allday-event-border); border-radius: var(--dp-calendar-allday-event-border-radius); background: var(--dp-calendar-allday-event-background);"),e.add(".calendar_default_event_bar","display: var(--dp-calendar-event-bar-display); top: var(--dp-calendar-event-bar-top); bottom: var(--dp-calendar-event-bar-bottom); left: var(--dp-calendar-event-bar-left); width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"),e.add(".calendar_default_direction_rtl .calendar_default_event_bar","top: 0px; bottom: 0px; right: 0px; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"),e.add(".calendar_default_event_bar_inner","position: absolute; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-color);"),e.add(".calendar_default_selected .calendar_default_event_inner","background: var(--dp-calendar-selected-event-bg-color);"),e.add(".calendar_default_alldayevent_inner","position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; overflow: hidden; padding: var(--dp-calendar-allday-event-padding); margin-right: 0px; display: flex; align-items: center; justify-content: var(--dp-calendar-allday-event-horizontal-align);"),e.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),e.add(".calendar_default_event","box-shadow: var(--dp-calendar-event-box-shadow); border-radius: var(--dp-calendar-event-border-radius); cursor: default;"),e.add(".calendar_default_event_inner","position: absolute; overflow: hidden; top: 0px; bottom: 0px; left: 0px; right: 0px; padding: var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding-left);"),e.add(".calendar_default_direction_rtl .calendar_default_event_inner","padding: 2px 8px 2px 2px;"),e.add(".calendar_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-calendar-shadow-color); border: 1px solid var(--dp-calendar-shadow-border-color); opacity: 0.5; height: 100%;"),e.add(".calendar_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,0.2);"),e.add(".calendar_default_shadow_forbidden:after","content: ''; position: absolute; top: 5px; left: calc(50% - 10px); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),
e.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner","border: 1px solid var(--dp-calendar-forbidden-shadow-border-color); background: var(--dp-calendar-forbidden-shadow-bg-color);"),e.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),e.add(".calendar_default_event_delete:hover","opacity: 1; -ms-filter: none;"),e.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),e.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),e.add(".calendar_default_now","background-color: var(--dp-calendar-now-indicator-color);"),e.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent var(--dp-calendar-now-indicator-color); border-style: solid; width: 0px; height: 0px; position: absolute; -moz-transform: scale(.9999);"),e.add(".calendar_default_shadow_top","box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"),e.add(".calendar_default_shadow_bottom","box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"),e.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top","background-color: gray; opacity: 0.2;"),e.add(".calendar_default_loading","background-color: orange; color: white; padding: 2px;"),e.add(".calendar_default_scroll","background-color: var(--dp-calendar-header-bg-color);"),e.add(".calendar_default_event_moving_source","opacity: 0.5;"),e.add(".calendar_default_colmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".calendar_default_colheader:hover .calendar_default_colheader_splitter","background-color: #c0c0c0;"),e.add(".calendar_default_colmove_source","background-color: black; opacity: 0.5;"),e.add(".calendar_default_colmove_position_before","box-sizing: border-box; border-left: 2px solid #999999;"),e.add(".calendar_default_colmove_position_before:before","content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"),e.add(".calendar_default_colmove_position_after","box-sizing: border-box; border-right: 2px solid #999999;"),e.add(".calendar_default_colmove_position_after:before","content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height: 0px; position: absolute;"),e.add(".calendar_default_colmove_position_child","box-sizing: border-box; border-bottom: 2px solid #999999;"),e.add(".calendar_default_colmove_position_child:before","content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"),e.add(".calendar_default_colmove_position_forbidden","border-top: 2px solid red;"),e.add(".calendar_default_colheader .calendar_default_colheader_splitter:hover","background-color: #999999;"),e.add(".calendar_default_block","background-color: #808080; opacity: 0.5;"),e.add(".month_default_main","--dp-month-border-color: #c0c0c0;--dp-month-font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;--dp-month-font-size: 13px;--dp-month-cell-border-color: #ddd;--dp-month-cell-bg-color: #f9f9f9;--dp-month-cell-business-bg-color: #ffffff;--dp-month-event-color: #333;--dp-month-event-border-color: #999;--dp-month-event-border: 1px solid var(--dp-month-event-border-color);--dp-month-event-bg-top-color: #ffffff;--dp-month-event-bg-bottom-color: #eeeeee;--dp-month-event-background: linear-gradient(to bottom, var(--dp-month-event-bg-top-color) 0%, var(--dp-month-event-bg-bottom-color) 100%);--dp-month-event-horizontal-align: flex-start;--dp-month-event-vertical-align: center;--dp-month-event-padding: 2px;--dp-month-event-padding-left: 10px;--dp-month-event-padding-rtl: 2px 10px 2px 1px;--dp-month-event-border-radius: 0px;--dp-month-event-box-shadow: none;--dp-month-event-bar-top: 1px;--dp-month-event-bar-left: 2px;--dp-month-event-bar-bottom: 1px;--dp-month-event-bar-width: 6px;--dp-month-event-bar-color: #1066a8;--dp-month-event-bar-display: block;--dp-month-header-bg-color: #f3f3f3;--dp-month-header-color: #333;--dp-month-header-horizontal-align: center;--dp-month-header-vertical-align: center;--dp-month-header-padding: 0px;--dp-month-message-bg-color: #ffa216;--dp-month-message-color: #ffffff;--dp-month-message-padding: 10px;--dp-month-selected-event-bg-color: #ddd;--dp-month-shadow-color: #bbbbbb;--dp-month-shadow-border-color: #888888;"),e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box; "),e.add(".month_default_main","border: 1px solid var(--dp-month-border-color); font-family: var(--dp-month-font-family); font-size: var(--dp-month-font-size); color: #333; "),e.add(".month_default_cell_inner","border-right: 1px solid var(--dp-month-cell-border-color); border-bottom: 1px solid var(--dp-month-cell-border-color); position: absolute; top: 0; left: 0; bottom: 0; right: 0; background-color: var(--dp-month-cell-bg-color); "),e.add(".month_default_cell_business .month_default_cell_inner","background-color: var(--dp-month-cell-business-bg-color); "),e.add(".month_default_cell_header","text-align: right; padding: 4px; box-sizing: border-box; "),e.add(".month_default_header_inner","position: absolute; inset: 0; border-right: 1px solid var(--dp-month-border-color); border-bottom: 1px solid var(--dp-month-border-color); cursor: default; color: var(--dp-month-header-color); background: var(--dp-month-header-bg-color); overflow: hidden; display: flex; align-items: var(--dp-month-header-vertical-align); justify-content: var(--dp-month-header-horizontal-align); padding: var(--dp-month-header-padding);"),e.add(".month_default_message","opacity: 0.9; color: var(--dp-month-message-color); background: var(--dp-month-message-bg-color); padding: var(--dp-month-message-padding); "),e.add(".month_default_event","border-radius: var(--dp-month-event-border-radius); box-shadow: var(--dp-month-event-box-shadow); "),e.add(".month_default_event_inner","position: absolute; top: 0; bottom: 0; left: 1px; right: 1px; overflow: hidden; padding: var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding-left); color: var(--dp-month-event-color); background: var(--dp-month-event-background); border: var(--dp-month-event-border); border-radius: var(--dp-month-event-border-radius); display: flex; align-items: var(--dp-month-event-vertical-align); justify-content: var(--dp-month-event-horizontal-align); "),e.add(".month_default_direction_rtl .month_default_event_inner","right: 2px; padding: var(--dp-month-event-padding-rtl); "),e.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0; border-bottom-right-radius: 0; border-right-style: dotted; "),e.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0; border-bottom-left-radius: 0; border-left-style: dotted; "),e.add(".month_default_event_bar","display: var(--dp-month-event-bar-display); top: var(--dp-month-event-bar-top); bottom: var(--dp-month-event-bar-bottom); left: var(--dp-month-event-bar-left); width: var(--dp-month-event-bar-width); "),e.add(".month_default_direction_rtl .month_default_event_bar","top: 1px; bottom: 1px; right: 3px; width: var(--dp-month-event-bar-width); "),e.add(".month_default_event_bar_inner","position: absolute; width: var(--dp-month-event-bar-width); background-color: var(--dp-month-event-bar-color); "),e.add(".month_default_event_continueleft .month_default_event_bar","display: none; "),e.add(".month_default_selected .month_default_event_inner","background: var(--dp-month-selected-event-bg-color); "),e.add(".month_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-month-shadow-color); border: 1px solid var(--dp-month-shadow-border-color); opacity: 0.5; height: 100%; "),e.add(".month_default_shadow","box-shadow: 0 2px 5px rgba(0, 0, 0, .2); "),e.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer; "),e.add(".month_default_event_delete:hover","opacity: 1; "),e.add(".month_default_event_timeleft","color: #ccc; font-size: 11px; display: flex; align-items: center; "),e.add(".month_default_event_timeright","color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end; "),e.add(".month_default_loading","background-color: orange; color: white; padding: 2px; "),e.add(".month_default_shadow_forbidden:after","content: ''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain; "),e.add(".month_default_shadow_forbidden .month_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125; "),e.add(".navigator_default_main","--dp-nav-border-color: #c0c0c0;--dp-nav-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;--dp-nav-font-size: 12px;--dp-nav-title-color: #333;--dp-nav-title-bg-color: #f3f3f3;--dp-nav-dayheader-color: #333;--dp-nav-dayheader-bg-color: #ffffff;--dp-nav-weeknumber-color: #999;--dp-nav-weeknumber-bg-color: #ffffff;--dp-nav-day-color: #000;--dp-nav-day-bg-color: #ffffff;--dp-nav-dayother-color: gray;--dp-nav-dayother-bg-color: #ffffff;--dp-nav-weekend-bg-color: #f0f0f0;--dp-nav-select-bg-color: #FFE794;--dp-nav-text-align: center;"),e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),e.add(".navigator_default_main","border-left: 1px solid var(--dp-nav-border-color);border-right: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);background-color: white;color: var(--dp-nav-day-color);box-sizing: content-box;"),e.add(".navigator_default_month","font-family: var(--dp-nav-font-family);font-size: var(--dp-nav-font-size);"),e.add(".navigator_default_day","color: var(--dp-nav-day-color); background-color: var(--dp-nav-day-bg-color);"),e.add(".navigator_default_weekend","background-color: var(--dp-nav-weekend-bg-color);"),e.add(".navigator_default_dayheader","color: var(--dp-nav-dayheader-color);background-color: var(--dp-nav-dayheader-bg-color);text-align: var(--dp-nav-text-align);padding: 0px;"),e.add(".navigator_default_line","border-bottom: 1px solid var(--dp-nav-border-color);"),e.add(".navigator_default_dayother","color: var(--dp-nav-dayother-color); background-color: var(--dp-nav-dayother-bg-color);"),e.add(".navigator_default_todaybox","border: 1px solid red;"),e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","box-sizing: border-box; border-top: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);color: var(--dp-nav-title-color);background: var(--dp-nav-title-bg-color);text-align: var(--dp-nav-text-align);"),e.add(".navigator_default_busy","font-weight: bold;"),e.add(".navigator_default_cell","text-align: var(--dp-nav-text-align);"),e.add(".navigator_default_select .navigator_default_cell_box","background-color: var(--dp-nav-select-bg-color);opacity: 0.5;"),e.add(".navigator_default_weeknumber","text-align: var(--dp-nav-text-align);color: var(--dp-nav-weeknumber-color);background: var(--dp-nav-weeknumber-bg-color);"),e.add(".navigator_default_cell_text","cursor: pointer;"),e.add(".navigator_default_todaysection","box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"),e.add(".navigator_default_todaysection_button","cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "),e.add(".scheduler_default_main",'--dp-scheduler-border-color: #c0c0c0;--dp-scheduler-border-inner-color: #e0e0e0;--dp-scheduler-cell-bg-color: #f9f9f9;--dp-scheduler-cell-business-bg-color: #ffffff;--dp-scheduler-event-background: linear-gradient(to bottom, var(--dp-scheduler-event-bg-top-color) 0%, var(--dp-scheduler-event-bg-bottom-color) 100%);--dp-scheduler-event-bg-bottom-color: #eeeeee;--dp-scheduler-event-bg-top-color: #ffffff;--dp-scheduler-event-bar-bg-color: #9dc8e8;--dp-scheduler-event-bar-color: #1066a8;--dp-scheduler-event-bar-display: block;--dp-scheduler-event-bar-height: 4px;--dp-scheduler-event-bar-left: 0px;--dp-scheduler-event-bar-right: 0px;--dp-scheduler-event-bar-top: 0px;--dp-scheduler-event-border: 1px solid var(--dp-scheduler-event-border-color);--dp-scheduler-event-border-color: #ccc;--dp-scheduler-event-border-radius: 0px;--dp-scheduler-event-box-shadow: none;--dp-scheduler-event-color: #333;--dp-scheduler-event-horizontal-align: flex-start;--dp-scheduler-event-milestone-color: #38761d;--dp-scheduler-event-padding: 2px;--dp-scheduler-event-selected-bg-color: #ddd;--dp-scheduler-event-vertical-align: center;--dp-scheduler-focus-outline-color: red;--dp-scheduler-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--dp-scheduler-font-size: 13px;--dp-scheduler-grid-line-break-color: #999;--dp-scheduler-grid-line-color: #eee;--dp-scheduler-header-bg-color: #f3f3f3;--dp-scheduler-header-color: #333;--dp-scheduler-link-color: #cc0000;--dp-scheduler-message-bg-color: #ffa216;--dp-scheduler-message-color: #ffffff;--dp-scheduler-message-padding: 10px;--dp-scheduler-rowheader-padding: 7px;--dp-scheduler-rowheader-vertical-align: center;--dp-scheduler-selectionrectangle-color: #1066a8;--dp-scheduler-shadow-border-color: #888888;--dp-scheduler-shadow-color: #bbbbbb;--dp-scheduler-timeheader-horizontal-align: center;--dp-scheduler-timeheader-padding: 0px;--dp-scheduler-timeheader-vertical-align: center;'),e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),e.add(".scheduler_default_main, .scheduler_default_main svg text","box-sizing: content-box; border: 1px solid var(--dp-scheduler-border-color); font-family: var(--dp-scheduler-font-family); font-size: var(--dp-scheduler-font-size);"),e.add(".scheduler_default_selected .scheduler_default_event_inner","background: var(--dp-scheduler-event-selected-bg-color);"),e.add(".scheduler_default_timeheader_scroll","background: var(--dp-scheduler-header-bg-color);"),e.add(".scheduler_default_message","opacity: 0.9; padding: var(--dp-scheduler-message-padding); color: var(--dp-scheduler-message-color); background: var(--dp-scheduler-message-bg-color);"),e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"),e.add(".scheduler_default_rowheader,.scheduler_default_corner","color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"),e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".scheduler_default_rowheader_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-scheduler-border-inner-color); padding: var(--dp-scheduler-rowheader-padding); display: flex; align-items: var(--dp-scheduler-rowheader-vertical-align);"),e.add(".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner","position: absolute; left: 0; right: 0; top: 0; bottom: 0;  border-right: 1px solid var(--dp-scheduler-border-color);"),e.add(".scheduler_default_timeheadergroup_inner","border-bottom: 1px solid var(--dp-scheduler-border-color);"),e.add(".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner, .scheduler_default_timeheader_float","display: flex; align-items: var(--dp-scheduler-timeheader-vertical-align); justify-content: var(--dp-scheduler-timeheader-horizontal-align); padding: var(--dp-scheduler-timeheader-padding);"),e.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: var(--dp-scheduler-border-color);"),e.add(".scheduler_default_divider_horizontal","background-color: var(--dp-scheduler-border-color);"),e.add(".scheduler_default_matrix_vertical_line","background-color: var(--dp-scheduler-grid-line-color);"),e.add(".scheduler_default_matrix_vertical_break","background-color: var(--dp-scheduler-grid-line-break-color);"),e.add(".scheduler_default_matrix_horizontal_line","background-color: var(--dp-scheduler-grid-line-color);"),e.add(".scheduler_default_resourcedivider","background-color: var(--dp-scheduler-border-color);"),e.add(".scheduler_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-scheduler-shadow-color); border: 1px solid var(--dp-scheduler-shadow-border-color); border-radius: var(--dp-scheduler-event-border-radius); opacity: 0.5; height: 100%;"),e.add(".scheduler_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,.2); border-radius: var(--dp-scheduler-event-border-radius);"),e.add(".scheduler_default_event","font-size: var(--dp-scheduler-font-size); color: var(--dp-scheduler-event-color); border-radius: var(--dp-scheduler-event-border-radius); box-shadow: var(--dp-scheduler-event-box-shadow);"),e.add(".scheduler_default_event_inner","position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; border-radius: var(--dp-scheduler-event-border-radius); padding: var(--dp-scheduler-event-padding); overflow: hidden; border: var(--dp-scheduler-event-border); display: flex; align-items: var(--dp-scheduler-event-vertical-align); justify-content: var(--dp-scheduler-event-horizontal-align); background: var(--dp-scheduler-event-background);"),e.add(".scheduler_default_event_bar","display: var(--dp-scheduler-event-bar-display);top: var(--dp-scheduler-event-bar-top); left: var(--dp-scheduler-event-bar-left); right: var(--dp-scheduler-event-bar-right); height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-bg-color);"),e.add(".scheduler_default_event_bar_inner","position:absolute; height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-color);"),e.add(".scheduler_default_event_float","display: flex; align-items: center;"),e.add(".scheduler_default_event_float_inner","padding: var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) 8px; position: relative;"),e.add(".scheduler_default_event_float_inner:after",'content:""; border-color: transparent #666 transparent transparent; border-style:solid; border-width:5px; width:0; height:0; position:absolute; top: calc(50% - 5px); left:-4px;'),e.add(".scheduler_default_event_focus","outline: var(--dp-scheduler-focus-outline-color) 2px solid; z-index: 100; opacity: 0.5;"),e.add(".scheduler_default_columnheader_inner","font-weight: bold;"),e.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid var(--dp-scheduler-border-color);"),e.add(".scheduler_default_columnheader_splitter:hover","background-color: var(--dp-scheduler-border-color);"),e.add(".scheduler_default_columnheader_cell_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),e.add(".scheduler_default_cell","background-color: var(--dp-scheduler-cell-bg-color);"),e.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: var(--dp-scheduler-cell-business-bg-color);"),e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected, .scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".scheduler_default_tree_image_no_children",""),e.add(".scheduler_default_tree_image_expand","background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),e.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),e.add(".scheduler_default_event_delete","background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"),e.add(".scheduler_default_event_delete:hover","opacity: 1;"),e.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child","margin-left: 20px; background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_forbidden","background-color: #cc0000; height: 2px; margin-left: 20px;"),e.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: var(--dp-scheduler-link-color);"),e.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: var(--dp-scheduler-link-color);"),e.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-scheduler-link-color); border-style: solid; width: 0; height:0; position: absolute;"),e.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent var(--dp-scheduler-link-color) transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),e.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: var(--dp-scheduler-link-color) transparent transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),e.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent var(--dp-scheduler-link-color) transparent; border-style: solid; width: 0; height:0; position: absolute;"),e.add(".scheduler_default_link_mshadow.scheduler_default_link_horizontal","border-bottom-color: #aaaaaa;"),e.add(".scheduler_default_link_mshadow.scheduler_default_link_vertical","border-right-color: #aaaaaa;"),e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_right:before","border-color: transparent transparent transparent #aaaaaa;"),e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_left:before","border-color: transparent #aaaaaa transparent transparent;"),e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_down:before","border-color: #aaaaaa transparent transparent transparent;"),e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_up:before","border-color: transparent transparent #aaaaaa transparent;"),e.add(".scheduler_default_block","background-color: #808080; opacity: 0.5;"),e.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size: 13px; color: #666; padding: 2px; overflow:hidden; border:1px solid var(--dp-scheduler-event-border-color); background-color: #fff; display: flex; align-items: center; white-space: nowrap;"),e.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid var(--dp-scheduler-border-color); background-color: var(--dp-scheduler-header-bg-color); color: var(--dp-scheduler-header-color);"),e.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),e.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),e.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;");e.add(".scheduler_default_rowheader textarea","padding: 3px;"),e.add(".scheduler_default_rowheader_scroll","cursor: default; background: var(--dp-scheduler-header-bg-color);"),e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner, .scheduler_default_shadow_overlap .scheduler_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125;"),e.add(".scheduler_default_event_moving_source","opacity: 0.5;"),e.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),e.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","overflow:hidden; background-color: #cfdde8; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2;"),e.add(".scheduler_default_link_dot","border-radius: 10px; background-color: var(--dp-scheduler-link-color);"),e.add(".scheduler_default_task_milestone .scheduler_default_event_inner","position:absolute; top:16%; left:16%; right:16%; bottom:16%; background: var(--dp-scheduler-event-milestone-color); border: 0px none; transform: rotate(45deg); filter: none;"),e.add(".scheduler_default_event_left, .scheduler_default_event_right","white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),e.add(".scheduler_default_main:focus","outline: none;"),e.add(".scheduler_default_cell_focus","outline: var(--dp-scheduler-focus-outline-color) 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"),e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top","border-top: 4px solid var(--dp-scheduler-focus-outline-color);"),e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom","border-bottom: 4px solid var(--dp-scheduler-focus-outline-color);"),e.add(".scheduler_default_selectionrectangle","background-color: var(--dp-scheduler-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"),e.add(".scheduler_default_link_shadow","border:1px solid black;"),e.add(".scheduler_default_link_shadow_circle","background-color:black;"),e.add(".scheduler_default_event_move_left","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),e.add(".scheduler_default_event_move_right","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),e.add(".scheduler_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),e.add(".scheduler_default_sorticon","opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"),e.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"),e.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"),
e.add(".scheduler_default_sorticon.scheduler_default_sorticon_active","opacity: 1;"),e.add(".scheduler_default_loading","background-color: orange; color: white; padding: 2px;"),e.add(".scheduler_default_link_curve","stroke: var(--dp-scheduler-link-color); fill: none; stroke-width: 2;"),e.add(".scheduler_default_link_curve:hover","stroke-opacity: 0.5;"),e.add(".scheduler_default_link_curve_dot","fill: var(--dp-scheduler-link-color);"),e.add(".scheduler_default_link_curve_marker","fill: var(--dp-scheduler-link-color);"),e.add(".scheduler_default_link_curve_text","fill: var(--dp-scheduler-link-color);"),e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve","stroke: #aaaaaa;"),e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_dot","fill: #aaaaaa;"),e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_marker","fill: #aaaaaa;"),e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_text","fill: #aaaaaa;"),e.add(".gantt_default_main","--dp-gantt-border-color: #c0c0c0;--dp-gantt-border-inner-color: #e0e0e0;--dp-gantt-cell-bg-color: #f9f9f9;--dp-gantt-cell-business-bg-color: #ffffff;--dp-gantt-event-background: linear-gradient(to bottom, var(--dp-gantt-event-bg-top-color) 0%, var(--dp-gantt-event-bg-bottom-color) 100%);--dp-gantt-event-bg-bottom-color: #eeeeee;--dp-gantt-event-bg-top-color: #ffffff;--dp-gantt-event-bar-bg-color: #9dc8e8;--dp-gantt-event-bar-color: #1066a8;--dp-gantt-event-bar-display: block;--dp-gantt-event-bar-height: 4px;--dp-gantt-event-bar-left: 0px;--dp-gantt-event-bar-right: 0px;--dp-gantt-event-bar-top: 0px;--dp-gantt-event-border: 1px solid var(--dp-gantt-event-border-color);--dp-gantt-event-border-color: #ccc;--dp-gantt-event-border-radius: 0px;--dp-gantt-event-box-shadow: none;--dp-gantt-event-color: #666;--dp-gantt-event-horizontal-align: flex-start;--dp-gantt-event-milestone-color: #38761d;--dp-gantt-event-padding: 2px;--dp-gantt-event-selected-bg-color: #DAE8FC;--dp-gantt-event-selected-outline-color: #4A90E2;--dp-gantt-event-vertical-align: center;--dp-gantt-font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;--dp-gantt-font-size: 13px;--dp-gantt-grid-line-break-color: #999;--dp-gantt-grid-line-color: #eee;--dp-gantt-header-bg-color: #f3f3f3;--dp-gantt-header-color: #333;--dp-gantt-link-color: #cc0000;--dp-gantt-message-bg-color: #ffa216;--dp-gantt-message-color: #fff;--dp-gantt-message-padding: 10px;--dp-gantt-rowheader-padding: 7px;--dp-gantt-rowheader-vertical-align: center;--dp-gantt-selectionrectangle-color: #1066a8;--dp-gantt-shadow-border-color: #888888;--dp-gantt-shadow-color: #bbbbbb;--dp-gantt-timeheader-horizontal-align: center;--dp-gantt-timeheader-padding: 0px;--dp-gantt-timeheader-vertical-align: center;"),e.add(".gantt_default_selected","outline: 2px solid var(--dp-gantt-event-selected-outline-color); border-radius: 4px; box-shadow: 0 0 8px rgba(74,144,226,0.5);"),e.add(".gantt_default_selected .gantt_default_event_inner","background: var(--dp-gantt-event-selected-bg-color);"),e.add(".gantt_default_main","border: 1px solid var(--dp-gantt-border-color); font-family: var(--dp-gantt-font-family); font-size: var(--dp-gantt-font-size);"),e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),e.add(".gantt_default_timeheader","cursor: default; color: #666;"),e.add(".gantt_default_timeheader_scroll","background: var(--dp-gantt-header-bg-color);"),e.add(".gantt_default_message","opacity: 0.9; padding: var(--dp-gantt-message-padding); color: var(--dp-gantt-message-color); background: var(--dp-gantt-message-bg-color);"),e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: var(--dp-gantt-header-color); background: var(--dp-gantt-header-bg-color);"),e.add(".gantt_default_rowheader,.gantt_default_corner","color: var(--dp-gantt-header-color); background: var(--dp-gantt-header-bg-color);"),e.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".gantt_default_rowheader_inner","position: absolute; left: 0; right: 0; top: 0; bottom: 0; border-right: 1px solid var(--dp-gantt-border-inner-color); padding: var(--dp-gantt-rowheader-padding); display: flex; align-items: var(--dp-gantt-rowheader-vertical-align);"),e.add(".gantt_default_timeheadergroup_inner, .gantt_default_timeheadercol_inner","position: absolute; left: 0; right: 0; top: 0; bottom: 0;  border-right: 1px solid var(--dp-gantt-border-color);"),e.add(".gantt_default_timeheadergroup_inner","border-bottom: 1px solid var(--dp-gantt-border-color);"),e.add(".gantt_default_timeheadergroup_inner, .gantt_default_timeheadercol_inner, .gantt_default_timeheader_float","display: flex; align-items: var(--dp-gantt-timeheader-vertical-align); justify-content: var(--dp-gantt-timeheader-horizontal-align); padding: var(--dp-gantt-timeheader-padding);"),e.add(".gantt_default_divider, .gantt_default_splitter","background-color: var(--dp-gantt-border-color);"),e.add(".gantt_default_divider_horizontal","background-color: var(--dp-gantt-border-color);"),e.add(".gantt_default_matrix_vertical_line","background-color: var(--dp-gantt-grid-line-color);"),e.add(".gantt_default_matrix_vertical_break","background-color: var(--dp-gantt-grid-line-break-color);"),e.add(".gantt_default_matrix_horizontal_line","background-color: var(--dp-gantt-grid-line-color);"),e.add(".gantt_default_resourcedivider","background-color: var(--dp-gantt-border-color);"),e.add(".gantt_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-gantt-shadow-color); border: 1px solid var(--dp-gantt-shadow-border-color); opacity: 0.5; height: 100%;"),e.add(".gantt_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,.2);"),e.add(".gantt_default_event","color: var(--dp-gantt-event-color); box-shadow: var(--dp-gantt-event-box-shadow); border-radius: var(--dp-gantt-event-border-radius);"),e.add(".gantt_default_event_inner","position: absolute; top: 0; left: 0; right: 0; bottom: 0; border-radius: var(--dp-gantt-event-border-radius); padding: var(--dp-gantt-event-padding); overflow: hidden; border: var(--dp-gantt-event-border); display: flex; align-items: var(--dp-gantt-event-vertical-align); justify-content: var(--dp-gantt-event-horizontal-align); background: var(--dp-gantt-event-background);"),e.add(".gantt_default_event_bar","display: var(--dp-gantt-event-bar-display); top: var(--dp-gantt-event-bar-top); left: var(--dp-gantt-event-bar-left); right: var(--dp-gantt-event-bar-right); height: var(--dp-gantt-event-bar-height); background-color: var(--dp-gantt-event-bar-bg-color);"),e.add(".gantt_default_event_bar_inner","position:absolute; height: var(--dp-gantt-event-bar-height); background-color: var(--dp-gantt-event-bar-color);"),e.add(".gantt_default_event_float","display: flex; align-items: center;"),e.add(".gantt_default_event_float_inner","padding: 6px 2px 2px 8px;"),e.add(".gantt_default_event_float_inner:after",'content:""; border-color: transparent var(--dp-gantt-event-color) transparent transparent; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; top: calc(50% - 5px); left: -4px;'),e.add(".gantt_default_columnheader_inner","font-weight: bold;"),e.add(".gantt_default_columnheader_splitter","background-color: #666; opacity: 0.5;"),e.add(".gantt_default_columnheader_cell_inner","position: absolute; left: 0; right: 0; top: 0; bottom: 0; padding: 2px; display: flex; align-items: center;"),e.add(".gantt_default_cell","background-color: var(--dp-gantt-cell-bg-color);"),e.add(".gantt_default_cell.gantt_default_cell_business","background-color: var(--dp-gantt-cell-business-bg-color);"),e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".gantt_default_tree_image_no_children",""),e.add(".gantt_default_tree_image_expand","background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),e.add(".gantt_default_tree_image_collapse","background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),e.add(".gantt_default_event_move_left","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee)); background: linear-gradient(to bottom, #fff 0%, #eee);"),e.add(".gantt_default_event_move_right","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee)); background: linear-gradient(to bottom, #fff 0%, #eee);"),e.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),e.add(".gantt_default_event_delete:hover","opacity: 1; -ms-filter: none;"),e.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_rowmove_position_child","margin-left: 20px; background-color: #999999; height: 2px;"),e.add(".gantt_default_rowmove_position_child:before","position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23999999' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3Cline x1='12' y1='7' x2='12' y2='17' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='7' y1='12' x2='17' y2='12' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3C/g%3E%3C/svg%3E\");"),e.add(".gantt_default_rowmove_position_forbidden","background-color: #cc0000; height: 2px; margin-left: 20px;"),e.add(".gantt_default_rowmove_position_forbidden:before","position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cline x1='8' y1='8' x2='16' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='16' y1='8' x2='8' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Ccircle stroke='%23cc0000' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");"),e.add(".gantt_default_task_group .gantt_default_event_inner","position: absolute; top: 5px; left: 0; right: 0; bottom: 6px; overflow: hidden; background: #0b5394; filter: none; border: 0 none;"),e.add(".gantt_default_task_group.gantt_default_event:before","content: ''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0;"),e.add(".gantt_default_task_group.gantt_default_event:after","content: ''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0; right: 0;"),e.add(".gantt_default_task_milestone .gantt_default_event_inner","position: absolute; top: 16%; left: 16%; right: 16%; bottom: 16%; background: var(--dp-gantt-event-milestone-color); border: 0 none; transform: rotate(45deg); filter: none;"),e.add(".gantt_default_event_left","white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),e.add(".gantt_default_event_right","white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),e.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: var(--dp-gantt-link-color);"),e.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: var(--dp-gantt-link-color);"),e.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-gantt-link-color); border-style: solid; width: 0; height: 0; position: absolute;"),e.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent var(--dp-gantt-link-color) transparent transparent; border-style: solid; width: 0; height: 0; position: absolute;"),e.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: var(--dp-gantt-link-color) transparent transparent transparent; border-style: solid; width: 0; height: 0; position: absolute;"),e.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent var(--dp-gantt-link-color) transparent; border-style: solid; width: 0; height: 0; position: absolute;"),e.add(".gantt_default_link_mshadow.gantt_default_link_horizontal","border-bottom-color: #aaaaaa;"),e.add(".gantt_default_link_mshadow.gantt_default_link_vertical","border-right-color: #aaaaaa;"),e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_right:before","border-color: transparent transparent transparent #aaaaaa;"),e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_left:before","border-color: transparent #aaaaaa transparent transparent;"),e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_down:before","border-color: #aaaaaa transparent transparent transparent;"),e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_up:before","border-color: transparent transparent #aaaaaa transparent;"),e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: #cc4125;"),e.add(".gantt_default_block","background-color: #808080; opacity: 0.5;"),e.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255,0,0,0.3);"),e.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".gantt_default_header_icon:hover","background-color: #ccc;"),e.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),e.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),e.add(".gantt_default_rowheader textarea","padding: 5px;"),e.add(".gantt_default_rowheader_scroll","cursor: default; background: var(--dp-gantt-header-bg-color);"),e.add(".gantt_default_shadow_forbidden:after","content: ''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125"),e.add(".gantt_default_event_moving_source","opacity: 0.5;"),e.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8; background-image: -webkit-gradient(linear,0 100%,100% 0,color-stop(.25,rgba(255,255,255,.2)),color-stop(.25,transparent),color-stop(.5,transparent),color-stop(.5,rgba(255,255,255,.2)),color-stop(.75,rgba(255,255,255,.2)),color-stop(.75,transparent),to(transparent)); background-image: -webkit-linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); background-image: -moz-linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); background-image: -ms-linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); background-image: -o-linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); background-image: linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent); -webkit-background-size: 20px 20px; -moz-background-size: 20px 20px; background-size: 20px 20px;"),e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border: 0;"),e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:""; border-color: transparent #fff transparent transparent; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; left: -4px;'),e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:""; border-color: transparent #000 transparent transparent; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; left: -4px;'),e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border: 0;"),e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:""; border-color: transparent transparent transparent #fff; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; right: -2px;'),e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:""; border-color: transparent transparent transparent #000; border-style: solid; border-width: 5px; width: 0; height: 0; position: absolute; right: -2px;'),e.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),e.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top","background-color: gray; opacity: 0.2;"),e.add(".gantt_default_selectionrectangle","background-color: var(--dp-gantt-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"),e.add(".gantt_default_link_shadow","border: 1px solid black;"),e.add(".gantt_default_link_shadow_circle","background-color: black;"),e.add(".gantt_default_link_curve","stroke: var(--dp-gantt-link-color); fill: none; stroke-width: 2;"),e.add(".gantt_default_link_curve:hover","stroke-opacity: 0.5;"),e.add(".gantt_default_link_curve_dot","fill: var(--dp-gantt-link-color);"),e.add(".gantt_default_link_curve_marker","fill: var(--dp-gantt-link-color);"),e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve","stroke: #aaaaaa;"),e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_dot","fill: #aaaaaa;"),e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_marker","fill: #aaaaaa;"),e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_text","fill: #aaaaaa;"),e.add(".kanban_default_main",'--dp-kanban-border-color: #c0c0c0;--dp-kanban-border-inner-color: #e0e0e0;--dp-kanban-cell-bg-color: #f9f9f9;--dp-kanban-cell-business-bg-color: #ffffff;--dp-kanban-card-background: linear-gradient(to bottom, var(--dp-kanban-card-bg-top-color) 0%, var(--dp-kanban-card-bg-bottom-color) 100%);--dp-kanban-card-bg-bottom-color: #eeeeee;--dp-kanban-card-bg-top-color: #ffffff;--dp-kanban-card-bar-color: #1066a8;--dp-kanban-card-bar-display: block;--dp-kanban-card-bar-width: 5px;--dp-kanban-card-bar-left: 0px;--dp-kanban-card-bar-right: 0px;--dp-kanban-card-bar-top: 0px;--dp-kanban-card-bar-bottom: 0px;--dp-kanban-card-border: 1px solid var(--dp-kanban-card-border-color);--dp-kanban-card-border-color: #ccc;--dp-kanban-card-border-radius: 0px;--dp-kanban-card-box-shadow: none;--dp-kanban-card-color: #333;--dp-kanban-card-horizontal-align: flex-start;--dp-kanban-card-milestone-color: #38761d;--dp-kanban-card-padding: 5px;--dp-kanban-card-padding-left: 10px;--dp-kanban-card-selected-bg-color: #ddd;--dp-kanban-card-vertical-align: center;--dp-kanban-focus-outline-color: red;--dp-kanban-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--dp-kanban-font-size: 13px;--dp-kanban-grid-line-break-color: #999;--dp-kanban-grid-line-color: #eee;--dp-kanban-header-bg-color: #f3f3f3;--dp-kanban-header-color: #333;--dp-kanban-link-color: #cc0000;--dp-kanban-message-bg-color: #ffa216;--dp-kanban-message-color: #ffffff;--dp-kanban-message-padding: 10px;--dp-kanban-rowheader-padding: 7px;--dp-kanban-rowheader-vertical-align: center;--dp-kanban-selectionrectangle-color: #1066a8;--dp-kanban-shadow-border-color: #888888;--dp-kanban-shadow-color: #bbbbbb;--dp-kanban-colheader-horizontal-align: center;--dp-kanban-colheader-padding: 0px;--dp-kanban-colheader-vertical-align: center;'),e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after","box-sizing: content-box;"),e.add(".kanban_default_main, .kanban_default_main svg text","box-sizing: content-box; border: 1px solid var(--dp-kanban-border-color); font-family: var(--dp-kanban-font-family); font-size: var(--dp-kanban-font-size);"),e.add(".kanban_default_selected .kanban_default_event_inner","background: var(--dp-kanban-card-selected-bg-color);"),e.add(".kanban_default_timeheader_scroll","background: var(--dp-kanban-header-bg-color);"),e.add(".kanban_default_message","opacity: 0.9; padding: var(--dp-kanban-message-padding); color: var(--dp-kanban-message-color); background: var(--dp-kanban-message-bg-color);"),e.add(".kanban_default_timeheadergroup,.kanban_default_timeheadercol","color: var(--dp-kanban-header-color); background: var(--dp-kanban-header-bg-color);"),e.add(".kanban_default_rowheader,.kanban_default_corner","color: var(--dp-kanban-header-color); background: var(--dp-kanban-header-bg-color);"),e.add(".kanban_default_rowheader.kanban_default_rowheader_selected","background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".kanban_default_rowheader_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-kanban-border-inner-color); padding: var(--dp-kanban-rowheader-padding); display: flex; align-items: var(--dp-kanban-rowheader-vertical-align);"),e.add(".kanban_default_timeheadergroup_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-kanban-border-color); border-bottom: 1px solid var(--dp-kanban-border-color); display: flex; align-items: center; justify-content: center;"),e.add(".kanban_default_timeheadercol_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: var(--dp-kanban-colheader-padding); border-right: 1px solid var(--dp-kanban-border-color); display: flex; align-items: var(--dp-kanban-colheader-vertical-align); justify-content: var(--dp-kanban-colheader-horizontal-align);"),e.add(".kanban_default_timeheader_float","display: flex; align-items: var(--dp-kanban-colheader-vertical-align); justify-content: var(--dp-kanban-colheader-horizontal-align);"),e.add(".kanban_default_divider, .kanban_default_splitter","background-color: var(--dp-kanban-border-color);"),e.add(".kanban_default_divider_horizontal","background-color: var(--dp-kanban-border-color);"),e.add(".kanban_default_matrix_vertical_line","background-color: var(--dp-kanban-grid-line-color);"),e.add(".kanban_default_matrix_vertical_break","background-color: var(--dp-kanban-grid-line-break-color);"),e.add(".kanban_default_matrix_horizontal_line","background-color: var(--dp-kanban-grid-line-color);"),e.add(".kanban_default_resourcedivider","background-color: var(--dp-kanban-border-color);"),e.add(".kanban_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-kanban-shadow-color); border: 1px solid var(--dp-kanban-shadow-border-color); opacity: 0.5; height: 100%;"),e.add(".kanban_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,.2);"),e.add(".kanban_default_event","font-size: var(--dp-kanban-font-size); color: var(--dp-kanban-card-color); border-radius: var(--dp-kanban-card-border-radius); box-shadow: var(--dp-kanban-card-box-shadow);"),e.add(".kanban_default_event_inner","position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; border-radius: var(--dp-kanban-card-border-radius); padding: var(--dp-kanban-card-padding); overflow: hidden; border: var(--dp-kanban-card-border); display: flex; align-items: var(--dp-kanban-card-vertical-align); justify-content: var(--dp-kanban-card-horizontal-align); background: var(--dp-kanban-card-background);"),e.add(".kanban_default_event_bar","display: var(--dp-kanban-card-bar-display);top: var(--dp-kanban-card-bar-top); left: var(--dp-kanban-card-bar-left); right: var(--dp-kanban-card-bar-right); height: var(--dp-kanban-card-bar-width); background-color: var(--dp-kanban-card-bar-bg-color);"),e.add(".kanban_default_event_bar_inner","position:absolute; height: var(--dp-kanban-card-bar-width); background-color: var(--dp-kanban-card-bar-color);"),e.add(".kanban_default_event_float","display: flex; align-items: center;"),e.add(".kanban_default_event_float_inner","padding: var(--dp-kanban-card-padding) var(--dp-kanban-card-padding) var(--dp-kanban-card-padding) 8px; position: relative;"),e.add(".kanban_default_event_float_inner:after",'content:""; border-color: transparent #666 transparent transparent; border-style:solid; border-width:5px; width:0; height:0; position:absolute; top: calc(50% - 5px); left:-4px;'),e.add(".kanban_default_event_focus","outline: var(--dp-kanban-focus-outline-color) 2px solid; z-index: 100; opacity: 0.5;"),e.add(".kanban_default_columnheader_inner","font-weight: bold;"),e.add(".kanban_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid var(--dp-kanban-border-color);"),e.add(".kanban_default_columnheader_splitter:hover","background-color: var(--dp-kanban-border-color);"),e.add(".kanban_default_columnheader_cell_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),e.add(".kanban_default_cell","background-color: var(--dp-kanban-cell-bg-color);"),e.add(".kanban_default_cell.kanban_default_cell_business","background-color: var(--dp-kanban-cell-business-bg-color);"),e.add(".kanban_default_cell.kanban_default_cell_business.kanban_default_cell_selected, .kanban_default_cell.kanban_default_cell_selected","background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".kanban_default_tree_image_no_children",""),e.add(".kanban_default_tree_image_expand","background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),e.add(".kanban_default_tree_image_collapse","background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),e.add(".kanban_default_event_delete","background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"),e.add(".kanban_default_event_delete:hover","opacity: 1;"),e.add(".kanban_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".kanban_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after","background-color: #999; height: 2px;"),
e.add(".kanban_default_rowmove_position_child","margin-left: 20px; background-color: #999; height: 2px;"),e.add(".kanban_default_rowmove_position_forbidden","background-color: #cc0000; height: 2px; margin-left: 20px;"),e.add(".kanban_default_link_horizontal","border-bottom-style: solid; border-bottom-color: var(--dp-kanban-link-color);"),e.add(".kanban_default_link_vertical","border-right-style: solid; border-right-color: var(--dp-kanban-link-color);"),e.add(".kanban_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-kanban-link-color); border-style: solid; width: 0; height:0; position: absolute;"),e.add(".kanban_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent var(--dp-kanban-link-color) transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),e.add(".kanban_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: var(--dp-kanban-link-color) transparent transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),e.add(".kanban_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent var(--dp-kanban-link-color) transparent; border-style: solid; width: 0; height:0; position: absolute;"),e.add(".kanban_default_link_mshadow.kanban_default_link_horizontal","border-bottom-color: #aaaaaa;"),e.add(".kanban_default_link_mshadow.kanban_default_link_vertical","border-right-color: #aaaaaa;"),e.add(".kanban_default_link_mshadow.kanban_default_link_arrow_right:before","border-color: transparent transparent transparent #aaaaaa;"),e.add(".kanban_default_link_mshadow.kanban_default_link_arrow_left:before","border-color: transparent #aaaaaa transparent transparent;");e.add(".kanban_default_link_mshadow.kanban_default_link_arrow_down:before","border-color: #aaaaaa transparent transparent transparent;");e.add(".kanban_default_link_mshadow.kanban_default_link_arrow_up:before","border-color: transparent transparent #aaaaaa transparent;"),e.add(".kanban_default_block","background-color: #808080; opacity: 0.5;"),e.add(".kanban_default_main .kanban_default_event_group","box-sizing: border-box; font-size: 13px; color: #666; padding: 2px; overflow:hidden; border:1px solid var(--dp-kanban-card-border-color); background-color: #fff; display: flex; align-items: center; white-space: nowrap;"),e.add(".kanban_default_main .kanban_default_header_icon","box-sizing: border-box; border: 1px solid var(--dp-kanban-border-color); background-color: var(--dp-kanban-header-bg-color); color: var(--dp-kanban-header-color);"),e.add(".kanban_default_header_icon:hover","background-color: #ccc;"),e.add(".kanban_default_header_icon_hide:before","content: '\\00AB';"),e.add(".kanban_default_header_icon_show:before","content: '\\00BB';"),e.add(".kanban_default_row_new .kanban_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover","background: white; color: white;"),e.add(".kanban_default_rowheader textarea","padding: 3px;"),e.add(".kanban_default_rowheader_scroll","cursor: default; background: var(--dp-kanban-header-bg-color);"),e.add(".kanban_default_shadow_forbidden .kanban_default_shadow_inner, .kanban_default_shadow_overlap .kanban_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125;"),e.add(".kanban_default_event_moving_source","opacity: 0.5;"),e.add(".kanban_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".kanban_default_linkpoint.kanban_default_linkpoint_hover","background-color: black;"),e.add(".kanban_default_event.kanban_default_event_version .kanban_default_event_inner","overflow:hidden; background-color: #cfdde8; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top","background-color: gray; opacity: 0.2;"),e.add(".kanban_default_link_dot","border-radius: 10px; background-color: var(--dp-kanban-link-color);"),e.add(".kanban_default_task_milestone .kanban_default_event_inner","position:absolute; top:16%; left:16%; right:16%; bottom:16%; background: var(--dp-kanban-card-milestone-color); border: 0px none; transform: rotate(45deg); filter: none;"),e.add(".kanban_default_event_left, .kanban_default_event_right","white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),e.add(".kanban_default_main:focus","outline: none;"),e.add(".kanban_default_cell_focus","outline: var(--dp-kanban-focus-outline-color) 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"),e.add(".kanban_default_cell_focus.kanban_default_cell_focus_top","border-top: 4px solid var(--dp-kanban-focus-outline-color);"),e.add(".kanban_default_cell_focus.kanban_default_cell_focus_bottom","border-bottom: 4px solid var(--dp-kanban-focus-outline-color);"),e.add(".kanban_default_selectionrectangle","background-color: var(--dp-kanban-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"),e.add(".kanban_default_link_shadow","border:1px solid black;"),e.add(".kanban_default_link_shadow_circle","background-color:black;"),e.add(".kanban_default_event_move_left","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),e.add(".kanban_default_event_move_right","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),e.add(".kanban_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),e.add(".kanban_default_sorticon","opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"),e.add(".kanban_default_sorticon.kanban_default_sorticon_asc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"),e.add(".kanban_default_sorticon.kanban_default_sorticon_desc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"),e.add(".kanban_default_sorticon.kanban_default_sorticon_active","opacity: 1;"),e.add(".kanban_default_loading","background-color: orange; color: white; padding: 2px;"),e.add(".kanban_default_link_curve","stroke: var(--dp-kanban-link-color); fill: none; stroke-width: 2;"),e.add(".kanban_default_link_curve:hover","stroke-opacity: 0.5;"),e.add(".kanban_default_link_curve_dot","fill: var(--dp-kanban-link-color);"),e.add(".kanban_default_link_curve_marker","fill: var(--dp-kanban-link-color);"),e.add(".kanban_default_link_curve_text","fill: var(--dp-kanban-link-color);"),e.add(".kanban_default_link_curve_mshadow.kanban_default_link_curve","stroke: #aaaaaa;"),e.add(".kanban_default_link_curve_mshadow.kanban_default_link_curve_dot","fill: #aaaaaa;"),e.add(".kanban_default_link_curve_mshadow.kanban_default_link_curve_marker","fill: #aaaaaa;"),e.add(".kanban_default_link_curve_mshadow.kanban_default_link_curve_text","fill: #aaaaaa;"),e.add(".kanban_default_card","font-size: var(--dp-kanban-font-size); color: var(--dp-kanban-card-color); border-radius: var(--dp-kanban-card-border-radius); box-shadow: var(--dp-kanban-card-box-shadow);"),e.add(".kanban_default_card_inner","position:absolute;top:0;left:0;right:0;bottom:0; border-radius:var(--dp-kanban-card-border-radius); padding: var(--dp-kanban-card-padding) var(--dp-kanban-card-padding) var(--dp-kanban-card-padding) var(--dp-kanban-card-padding-left); overflow:hidden;border:var(--dp-kanban-card-border); background:var(--dp-kanban-card-background);"),e.add(".kanban_default_card_bar","display:var(--dp-kanban-card-bar-display); top:var(--dp-kanban-card-bar-top); bottom:var(--dp-kanban-card-bar-bottom); left:var(--dp-kanban-card-bar-left); width:var(--dp-kanban-card-bar-width); background-color:var(--dp-kanban-card-bar-color);"),e.add(".kanban_default_card_delete","background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center;opacity:.6;cursor:pointer;"),e.add(".kanban_default_card_delete:hover","opacity:1;"),e.add(".kanban_default_card_moving_source","opacity:.5;"),e.add(".kanban_default_colheadercell","color:var(--dp-kanban-header-color); background:var(--dp-kanban-header-bg-color); text-align:center;"),e.add(".kanban_default_colheadercell_inner","position:absolute;left:0;right:0;top:0;bottom:0; border-right:1px solid var(--dp-kanban-border-color); padding: var(--dp-kanban-colheader-padding); display:flex;align-items:var(--dp-kanban-colheader-vertical-align); justify-content:var(--dp-kanban-colheader-horizontal-align);"),e.add(".kanban_default_swimlane_collapse","cursor:pointer;border:1px solid #ccc;text-align:center;"),e.add(".kanban_default_swimlane_collapse:before","content:'^';"),e.add(".kanban_default_swimlane_expand","cursor:pointer;border:1px solid #ccc;text-align:center;"),e.add(".kanban_default_swimlane_expand:before","content:'>';"),e.add(".kanban_default_columnmove_handle","opacity:.5;background-repeat:no-repeat;background-position:center center; background-color:#ccc; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC);cursor:move;"),e.add(".kanban_default_columnmove_position","background:#333;height:2px;"),e.add(".kanban_default_rowheaderdivider","background-color:var(--dp-kanban-border-color);"),e.add(".kanban_default_card_header","font-size:120%;font-weight:bold;"),e.commit(),DayPilot.Global.defaultCss=e}}();var o=function(e){var t=this;this.id=e,this.widths=[],this.titles=[],this.data=[],this.nonresizable=[],this.height=null,this.bubble=null,this.splitterWidth=3,this.splitterWidthLast=null,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.enabled=!0,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.started=function(){};var n={};n.splitterWidth=function(e){var n=e===t.widths.length-1,i=n&&"number"==typeof t.splitterWidthLast?t.splitterWidthLast:t.splitterWidth,a=t.nonresizable[e];return t.enabled&&!a?i:1},this.init=function(){var i;if(!e)throw"error: id not provided";if("string"==typeof e)i=document.getElementById(e);else{if(!e.appendChild)throw"error: invalid object provided";i=e}this.div=i,this.blocks=[];for(var a=0;a<this.widths.length;a++){var r=n.splitterWidth(a),o=document.createElement("div");o.style.display="inline-block",null!==t.height?o.style.height=t.height+"px":o.style.height="100%",o.style.width=this.widths[a]-r+"px",o.style.overflow="hidden",o.style.position="relative",o.className=this.css.title,i.appendChild(o);var l=this.titles[a],s=null,d=[],c=null,u=null;"object"==typeof l&&(s=l.html,d=l.areas,c=l.cssClass,u=l.toolTip),c&&DayPilot.Util.addClass(o,c),u&&(o.title=u),function(e,n){n.onmousemove=function(){if(t.bubble){var i={};i.calendar=t.calendar,i.type="RowHeaderColumn",i.object=e.data,i.staticHTML=e.bubbleHtml,i.div=n,i.toJSON=function(){var e={};return e.uid=t.calendar.uniqueID,e.type="RowHeaderColumn",e.object=i.object,e},t.bubble.showRowHeaderColumn(i)}},n.onmouseout=function(){t.bubble&&t.bubble.hideOnMouseOut()}}(l,o);var h=document.createElement("div");h.innerHTML=s,h.className=this.css.titleInner,o.appendChild(h),DayPilot.Areas.attach(o,t.data[a],{"areas":d});var f=document.createElement("div");f.style.display="inline-block",null!==t.height?f.style.height=t.height+"px":f.style.height="100%",f.style.width=r+"px",f.style.position="relative",f.appendChild(document.createElement("div")),t.enabled&&!t.nonresizable[a]&&(f.style.cursor="col-resize"),f.className=this.css.splitter;var v={};v.index=a,v.width=this.widths[a],f.data=v,f.onmousedown=function(e){if(e.preventDefault(),t.enabled){var n=this.index;if(!t.nonresizable[n]){var i=DayPilot.page(e);i&&(t.drag.start=i,t.drag.data=this.data,t.div.style.cursor="col-resize",t.started())}}},i.appendChild(f);var p={};p.section=o,p.handle=f,this.blocks.push(p)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var e=0;e<this.blocks.length;e++){var t=this.blocks[e],n=this.widths[e];t.handle.data.width=n,this.Q(e)}},this.Q=function(e){var t=this.blocks[e],i=this.widths[e];t.section.style.width=i-n.splitterWidth(e)+"px"},this.totalWidth=function(){for(var e=0,t=0;t<this.widths.length;t++)e+=this.widths[t];return e},this.gMouseMove=function(e){if(t.drag.start){var n=t.drag.data,i=DayPilot.page(e);if(i){var a=i.x-t.drag.start.x,r=n.index;t.widths[r]=Math.max(5,n.width+a),t.Q(r);var o={};o.widths=this.widths,o.index=n.index,t.updating(o)}}},this.gMouseUp=function(){if(t.drag.start){t.drag.start=null,document.body.style.cursor="",t.div.style.cursor="";var e=t.drag.data;e.width=t.widths[e.index];var n={};n.widths=this.widths,n.index=e.index,t.updated(n)}},this.dispose=function(){DayPilot.list(this.blocks).forEach(function(e){e.handle.onmousedown=null,DayPilot.de(e.section),DayPilot.de(e.handle)}),this.unregisterGlobalHandlers()},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)},this.unregisterGlobalHandlers=function(){DayPilot.ue(document,"mousemove",this.gMouseMove),DayPilot.ue(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=o}}(DayPilot),function(){"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}(),function(DayPilot){"use strict";if("undefined"==typeof DayPilot.Bubble||!DayPilot.Bubble.def){var e={};e.mouseMove=function(t){if("undefined"!=typeof e){var n=e.mousePosition(t);if(n){e.mouse=n;var i=e.active;if(i&&i.R.showPosition){var a=i.R.showPosition,r=e.mouse;a.clientX!==r.clientX||a.clientY!==r.clientY}}}},e.wheel=function(){"undefined"!=typeof e&&e.hideActive()},e.touchPosition=function(e){if(!e||!e.touches)return null;var t=e.touches[0],n={};return n.x=t.pageX,n.y=t.pageY,n.clientX=t.clientX,n.clientY=t.clientY,n},e.mousePosition=function(e){var t=DayPilot.mo3(null,e);return e&&t&&(t.clientY=e.clientY,t.clientX=e.clientX),t},DayPilot.Bubble=function(t){this.v="2025.4.6765";var n=this,i={};if(this.arrowTopIndent=6,this.arrowLeftIndent=6,this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="Above",this.hideOnClick=!0,this.hideOnHover=!1,this.showAfter=500,this.showLoadingLabel=!0,this.showArrow=!0,this.zIndex=10,this.theme="bubble_default",this.onLoad=null,this.onBeforeDomAdd=null,this.onBeforeDomRemove=null,this.R=function(){},this.callBack=function(e){this.aspnet()?WebForm_DoCallback(this.uniqueID,JSON.stringify(e),this.updateView,this,this.callbackError,!0):e.calendar.internal.bubbleCallBack?e.calendar.internal.bubbleCallBack(e,this):e.calendar.bubbleCallBack(e,this)},this.callbackError=function(e){alert(e)},this.updateView=function(t,a){if(n!==a)throw"Callback object mismatch (internal error)";if(!t)return void n.S();var r=null,o=null,l=null;if("string"==typeof t?o=t:"object"==typeof t&&(r=t,o=t.html,l=t.element),e.active=n,n){var s=!1,d=!1;if(i.div){if(l){i.T.innerHTML="";var c=DayPilot.Util.isReactComponent(l),u=DayPilot.Util.isVueComponent(l);if(c){if(!(n.U.calendar&&n.U.calendar.internal.reactRefs().reactDOM))throw new DayPilot.Exception("Can't reach ReactDOM");n.W.V(l,i.T),d=n.W.X()}else if(u){var h=n.Y.U();if(!h)throw new DayPilot.Exception("Can't reach Vue");n.Y.Z(l,i.T,r.props)}else i.T.appendChild(l);s=!0}else o&&(i.T.innerHTML=o,s=!0);i.div.domArgs=r}s&&(d?setTimeout(function(){n._()}):n._())}},this.init=function(){},this.dispose=function(){},this.update=function(e){DayPilot.Util.copyProps(e,this)},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.showEvent=function(t,n,i){var a,r,o,l=null!==(r=null===(a=t.bubbleHtml)||void 0===a?void 0:a.call(t))&&void 0!==r?r:null===(o=t.data)||void 0===o?void 0:o.bubbleHtml,s=new e.CallBackArgs(t.calendar||t.root,"Event",t,l);s.div=i,n?this.show(s):this.showOnMouseOver(s)},this.showGroup=function(e){this.showOnMouseOver(e)},this.showCell=function(t,n){e.cancelShowing();var i=new e.CallBackArgs(t.calendar||t.root,"Cell",t,t.staticBubbleHTML?t.staticBubbleHTML():null);i.div=n,this.showOnMouseOver(i)},this.showLink=function(t){e.cancelShowing();var n=new e.CallBackArgs(t.calendar||t.root,"Cell",t,t.data&&t.data.bubbleHtml);this.showOnMouseOver(n)},this.showTime=function(t){var n=new e.CallBackArgs(t.calendar||t.root,"Time",t,t.staticBubbleHTML?t.staticBubbleHTML():null);this.showOnMouseOver(n)},this.showTimeHeader=function(t,n,i){var a=new e.CallBackArgs(t.calendar,"TimeHeader",t,t.bubbleHtml);a.div=i,n?(e.cancelHiding(),this.show(a)):this.showOnMouseOver(a)},this.showResource=function(t,n,i){var a={};a.calendar=t.calendar,a.id=t.id,a.name=t.name,a.start=t.start,t.bubbleHtml?a.bubbleHtml=function(){return t.bubbleHtml}:t.data&&t.data.bubbleHtml&&(a.bubbleHtml=function(){return t.data.bubbleHtml}),a.toJSON=function(){var e={};return e.id=this.id,e};var r=new e.CallBackArgs(a.calendar||a.root,"Resource",a,a.bubbleHtml?a.bubbleHtml():null);i?r.div=i:r.div=t.div,n?(e.cancelHiding(),this.show(r)):this.showOnMouseOver(r)},this.showHtml=function(t,n){var i=new e.CallBackArgs(null,"Html",null,t);i.div=n,this.showOnMouseOver(i)},this.showRowHeaderColumn=function(e){this.showOnMouseOver(e)},this.hide=function(){e.active===this&&DayPilot.Bubble.hide()},this.toJSON=function(){return null},this.show=function(t){if(n.aa(t)){var a=this.animated;if(this.R.showPosition=e.mouse,e.showing=null,!e.mouse)return void setTimeout(function(){n.show(t)},100);var r=e.mouse;r.h=0,r.w=0;var o=this.getDiv(t),l=n.ba(o),s="Above"===l,d="Right"===l;if((s||d)&&o){var c=2,u=DayPilot.abs(o,!0);if(!u)return;r.x=u.x,r.y=u.y,r.h=u.h+c,r.w=u.w}this.R.mouse=r;var h;try{h=JSON.stringify(t.object)}catch(e){return}if(!(e.active===this&&this.R.sourceId===h||"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.active)){e.hideActive(),e.active=this,this.R.sourceId=h;var f=document.createElement("div");f.style.position="absolute",this.showLoadingLabel||(f.style.display="none"),f.className=this.ca("_main"),f.style.top="-3000px",f.style.left="-3000px",f.style.zIndex=this.zIndex+1,a&&(f.style.visibility="hidden"),this.hideOnClick&&(f.onclick=function(){e.hideActive()}),f.onmousemove=function(t){n.hideOnHover&&e.hideActive(),e.cancelShowing(),e.cancelHiding(),t.cancelBubble=!0},f.oncontextmenu=function(){return!1},f.onmouseleave=function(){n.delayedHide()};var v=this.arrowLeftIndent,p=this.arrowTopIndent,m="http://www.w3.org/2000/svg",g=document.createElementNS(m,"svg");g.setAttribute("viewBox","0 0 12 10"),g.setAttribute("class",this.ca("_arrow_top")),g.style.width="12px",g.style.height="10px",g.style.position="absolute",g.style.top="0px",g.style.left=v+"px",g.style.display="none",g.innerHTML='<polyline points="0 10 6 0 12 10"></polyline>';var b=document.createElementNS(m,"svg");b.setAttribute("viewBox","0 0 12 10"),b.setAttribute("class",this.ca("_arrow_bottom")),b.style.width="12px",b.style.height="10px",b.style.position="absolute",b.style.bottom="0px",b.style.left=v+"px",b.style.display="none",b.innerHTML='<polyline points="0 0 6 10 12 0"></polyline>';var y=document.createElementNS(m,"svg");y.setAttribute("viewBox","0 0 10 12"),y.setAttribute("class",this.ca("_arrow_left")),y.style.width="10px",y.style.height="12px",y.style.position="absolute",y.style.top=p+"px",y.style.left="0px",y.style.display="none",y.innerHTML='<polyline points="10 0 0 6 10 12"></polyline>';var w=document.createElementNS(m,"svg");w.setAttribute("viewBox","0 0 10 12"),w.setAttribute("class",this.ca("_arrow_right")),w.style.width="10px",w.style.height="12px",w.style.position="absolute",w.style.top=p+"px",w.style.right="0px",w.style.display="none",w.innerHTML='<polyline points="0 0 10 6 0 12"></polyline>';var x=document.createElement("div");f.appendChild(x),f.appendChild(g),f.appendChild(b),f.appendChild(y),f.appendChild(w),x.className=this.ca("_main_inner"),x.innerHTML=this.loadingText,document.body.appendChild(f),i.div=f,i.T=x,i.da=g,i.ea=b,i.fa=y,i.ga=w,n.U=function(){},n.U.calendar=t.calendar,n.U.ha=o;var k={};k.source=t.object,k.async=!1,k.html=t.staticHTML,k.loaded=function(){this.async&&n.ia(k)},this.showLoadingLabel&&!a&&this._(),t.staticHTML&&"function"!=typeof this.onLoad?n.ia(k):"function"==typeof this.onLoad?(this.onLoad(k),k.async||n.ia(k)):"function"==typeof n.onDomAdd||"function"==typeof n.onBeforeDomAdd?n.ia(k):this.ja(t)&&this.callBack(t)}}},this.aa=function(e){return!!e.staticHTML||("function"==typeof this.onLoad||("function"==typeof n.onDomAdd||"function"==typeof n.onBeforeDomAdd||!!this.ja(e)))},this.ia=function(e){var t={};t.source=e.source,t.html=e.html,t.element=null,"function"==typeof n.onDomAdd&&n.onDomAdd(t),"function"==typeof n.onBeforeDomAdd&&n.onBeforeDomAdd(t),n.updateView(t,n)},this.getDiv=function(e){var t,n,i,a,r=e;if(r.div)return r.div;if("Event"===r.type){var o=null===(n=null===(t=r.calendar)||void 0===t?void 0:t.internal)||void 0===n?void 0:n.findEventDiv;if("function"==typeof o)return o(r.object);var l=null===(a=null===(i=r.calendar)||void 0===i?void 0:i.internal)||void 0===a?void 0:a.findCardDiv;if("function"==typeof l)return l(r.object)}return null},this.ca=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.ba=function(e){var t=n.position;if(!e)return"Mouse";if(!t)return"Above";if("eventtop"===t.toLowerCase())return"Above";if("above"===t.toLowerCase())return"Above";if("mouse"===t.toLowerCase())return"Mouse";if("right"===t.toLowerCase())return"Right";throw new DayPilot.Exception("Unrecognized DayPilot.Bubble.position value: "+t)},this._=function(){var t=this.animated,a=this.R.mouse,r=n.ba(this.U.ha),o=10,l=0;if(i.div&&a){if(!a.x||!a.y)return void e.hideActive();var s=i.div,d=i.T;s.style.display="";var c=s.offsetHeight;this.showArrow&&(c+=9);var u=s.offsetWidth;this.showArrow&&(u+=9),s.style.display="none";var h=DayPilot.wd(),f=h.width,v=h.height,p="bottom",m="left",g=0,b=this.showArrow;if("Mouse"===r){var y=0;if(a.clientY<c+o){var w=c+o-a.clientY;w=0,y=a.y+w+22,p="top"}else y=a.y-c-5;"number"==typeof y&&(s.style.top=Math.max(y,0)+"px");var x=void 0;if(a.clientX>f-u+o){var k=a.clientX-(f-u)+o;x=a.x-k,b=!1}else x=a.x,this.showArrow&&(x-=16);s.style.left=x+"px"}else if("Above"===r){var C=2,_=a.y-c-C,T=h.scrollTop;_<T&&(_=a.y+a.h,p="top"),"number"==typeof _&&(s.style.top=Math.max(_,0)+"px");var x=a.x;a.x+u+o>f&&(x=f-u-o,m="right",g=a.x+u+o-f),s.style.left=x+"px"}else if("Right"===r){p="top";var D=a.y,x=a.x+a.w;x+u+o>f&&u<a.x&&(x=x-u-a.w,m="right");var S=D+c+o-v;S>0&&(D-=S,l=S,D<0&&(l+=D,D=0)),s.style.top=D+"px",s.style.left=x+"px"}if(s.style.display="",b&&("Above"===r||"Mouse"===r?"bottom"===p?(i.da.style.display="none",i.ea.style.display="",d.style.marginTop="0px",d.style.marginBottom="9px","right"===m&&(i.ea.style.left=this.arrowLeftIndent+g+"px")):(i.da.style.display="",i.ea.style.display="none",d.style.marginTop="9px",d.style.marginBottom="0px","right"===m&&(i.da.style.left=this.arrowLeftIndent+g+"px")):"left"===m?(i.ga.style.display="none",i.fa.style.display="",i.fa.style.top=this.arrowTopIndent+l+"px",d.style.marginRight="0px",d.style.marginLeft="9px"):(i.ga.style.display="",i.fa.style.display="none",i.ga.style.top=this.arrowTopIndent+l+"px",d.style.marginRight="9px",d.style.marginLeft="0px")),t){s.style.display="";var E={};E.color=d.style.color,E.overflow=s.style.overflow,d.style.color="transparent",s.style.overflow="hidden",DayPilot.pop(s,{"finished":function(){d.style.color=E.color,s.style.overflow=E.overflow},"vertical":p,"horizontal":m,"animation":n.animation})}}},this.delayedHide=function(){e.showing===this&&e.cancelShowing();var t=e.active;if(t===this&&(e.cancelHiding(),t.hideAfter>0)){var n=t.hideAfter;e.timeoutHide=window.setTimeout(e.hideActive,n)}},this.showOnMouseOver=function(t){e.active===this&&e.cancelHiding();var i=function(e){return function(){n.show(e)}};clearTimeout(e.timeoutShow),e.timeoutShow=window.setTimeout(i(t),this.showAfter),e.showing=this},this.hideOnMouseOut=function(){this.delayedHide()},this.ja=function(e){return!!e.calendar.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.S=function(){if(i.div){var e=i.div.domArgs;if(i.div.domArgs=null,e&&("function"==typeof n.onDomRemove&&n.onDomRemove(e),"function"==typeof n.onBeforeDomRemove&&n.onBeforeDomRemove(e),"function"==typeof n.onDomAdd||"function"==typeof n.onBeforeDomAdd)){var t=i.T;if(t){var a=DayPilot.Util.isReactComponent(e.element),r=DayPilot.Util.isVueComponent(e.element);if(a){if(!(n.U.calendar&&n.U.calendar.internal.reactRefs().reactDOM))throw new DayPilot.Exception("Can't reach ReactDOM");n.W.ka(t)}else r&&n.Y.la(t)}}document.body.removeChild(i.div),i.div=null}},this.W={},this.W.V=function(e,t){var i=n.U.calendar&&n.U.calendar.internal.reactRefs().reactDOM;if("function"==typeof i.createRoot){var a=t.ma;a||(a=i.createRoot(t),t.ma=a),a.render(e)}else i.render(e,t)},this.W.X=function(){var e=n.U.calendar&&n.U.calendar.internal.reactRefs().reactDOM;return e&&"function"==typeof e.createRoot},this.W.ka=function(e){var t=n.U.calendar&&n.U.calendar.internal.reactRefs().reactDOM;if("function"==typeof t.createRoot){var i=e.ma;setTimeout(function(){i.unmount()},0)}else t.unmountComponentAtNode(e)},this.Y={},this.Y.U=function(){var e=n.U.calendar,t=e&&e.internal.vueRef;return t&&t()},this.Y.Z=function(e,t,i){var a=n.Y.U();if(a&&"function"==typeof a.createVNode&&"function"==typeof a.render){var r=a.createVNode(e,i);a.render(r,t)}},this.Y.la=function(e){var t=n.Y.U();"function"==typeof t.render&&t.render(null,e)},t)for(var a in t)this[a]=t[a];this.init()},DayPilot.Bubble.touchPosition=function(t){t.touches&&(e.mouse=e.touchPosition(t))},DayPilot.Bubble.mousePosition=function(t){e.mouse=e.mousePosition(t)},e.cancelShowing=function(){e.showing=null,e.timeoutShow&&(window.clearTimeout(e.timeoutShow),e.timeoutShow=null)},e.cancelHiding=function(){e.timeoutHide&&window.clearTimeout(e.timeoutHide)},e.hideActive=function(){e.cancelHiding();var t=e.active;t&&t.S(),e.active=null},e.CallBackArgs=function(e,t,n,i){this.calendar=e,this.type=t,this.object=n,this.staticHTML=i,this.toJSON=function(){var e={};return e.uid=this.calendar.uniqueID,e.type=this.type,e.object=n,e}},"undefined"!=typeof document&&(DayPilot.re(document,"mousemove",e.mouseMove),DayPilot.re(document,"wheel",e.wheel)),DayPilot.Bubble.hideActive=e.hideActive,DayPilot.Bubble.cancelShowing=e.cancelShowing,DayPilot.Bubble.hide=function(t){if(t=t||{},t.calendar){var n=e.active;n&&n.U.calendar===t.calendar&&DayPilot.Bubble.hide()}else e.hideActive()},DayPilot.Bubble.getActive=function(){return e.active},DayPilot.Bubble.def={},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),function(DayPilot){"use strict";if("undefined"==typeof DayPilot.Calendar||!DayPilot.Calendar.def){var e=10,t=function(){return document.createElement("div")},n=DayPilot.rePassive,i=DayPilot.reNonPassive,a=DayPilot.re,r=DayPilot.Util.addClass,o=DayPilot.Util.removeClass,l=DayPilot.Util.isMouseEvent,s=DayPilot.Util.copyProps,d=DayPilot.Util.isReactComponent,c=DayPilot.Util.isVueComponent,u=DayPilot.Util.isVueVNode,h=DayPilot.Util.overlaps,f=DayPilot.list,v=DayPilot.Global,p=DayPilot.de,m={};DayPilot.Calendar=function(g,b){this.v="2025.4.6765";var y=!1;if(this instanceof DayPilot.Calendar&&!this.na&&(y=!0,this.na=!0),!y)throw new DayPilot.Exception("DayPilot.Calendar() is a constructor and must be called as 'const c = new DayPilot.Calendar(id);'");var w=this;this.uniqueID=null,this.clientName=g,this.id=g,this.isCalendar=!0,this.allDayEnd="DateTime",this.allDayEventHeight=34,this.allDayEventTextWrappingEnabled=!1,this.allowEventOverlap=!0,this.allowMultiSelect=!0,this.api=2,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.backendUrl=null,this.blockOnCallBack=!1,"function"==typeof DayPilot.Bubble?this.bubble=new DayPilot.Bubble:this.bubble=null,this.cellBubble=null,this.columnBubble=null,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellHeight=30,this.cellDuration=30,this.clientState={},this.columnMarginLeft=0,this.columnMarginRight=5,this.columnMoveSameLevelOnly=!1,this.columnWidth=200,this.columnWidthMin=10,this.columnWidthSpec="Auto",this.columnsLoadMethod="GET",this.contextMenu=null,this.contextMenuSelection=null,this.cornerText="",this.cornerHtml=null,this.crosshairType="Header",this.cssClass=null,this.cssClassPrefix="calendar_default",this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.durationBarVisible=!0,this.dynamicEventRendering="Disabled",this.dynamicEventRenderingMarginX=0,this.dynamicEventRenderingMarginY=0,this.eventArrangement="Cascade",this.eventBorderRadius=null,this.eventsLoadMethod="GET",this.headerHeight=30,this.headerTextWrappingEnabled=!1,this.headerHeightAutoFit=!1,this.headerLevels="Auto",this.headerLevelHeights=null,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.hideUntilInit=!0,this.headerDateFormat=null,this.hourWidth=60,this.initEventEnabled=!1,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelHtml=null,this.loadingLabelVisible=!0,this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.rtl=!1,this.scale="CellDuration",this.scrollDelayCells=0,this.scrollDelayEvents=10,this.scrollLabelsVisible=!1,this.showToolTip=!0,this.showAllDayEvents=!1,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!1,this.showCurrentTimeMode="Day",this.showCurrentTimeOffset=0,this.snapToGrid=!0,this.snapToGridTimeRangeSelecting=!0,this.snapToGridEventMoving=!0,this.snapToGridEventResizing=!0,this.startDate=DayPilot.Date.today(),this.tapAndHoldTimeout=300,this.theme=null,this.timeFormat="Auto",this.timeHeaderCellDuration="Auto",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="Auto",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="Auto",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="Auto",this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.watchWidthChanges=!0,this.weekStarts="Auto",this.width=null,this.xssProtection="Enabled",this.columnMoveHandling="Disabled",this.columnResizeHandling="Disabled",this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Disabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",
this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeClickHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeRightClickHandling="ContextMenu",this.onAutoRefresh=null,this.onColumnFilter=null,this.onColumnResize=null,this.onColumnResized=null,this.onEventFilter=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventEdit=null,this.onEventEdited=null,this.onEventMove=null,this.onEventMoved=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventSelect=null,this.onEventSelected=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventDoubleClick=null,this.onEventDoubleClicked=null,this.onHeaderClick=null,this.onHeaderClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onTimeRangeDoubleClick=null,this.onTimeRangeDoubleClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onAfterRender=null,this.onAfterEventRender=null,this.onAfterCellRender=null,this.onBeforeEventRender=null,this.onBeforeEventExport=null,this.onBeforeEventDomAdd=null,this.onBeforeEventDomRemove=null,this.onBeforeCellRender=null,this.onBeforeCellExport=null,this.onBeforeCornerDomAdd=null,this.onBeforeCornerDomRemove=null,this.onBeforeCornerRender=null,this.onBeforeHeaderRender=null,this.onBeforeHeaderExport=null,this.onBeforeTimeHeaderRender=null,this.oa=!0,this.pa=e,this.qa=!0,this.ra=!0,this.sa=!0,this.ta=!0,this.va={},this.va.pixels={},this.va.events=[],this.va.wa=null,this.va.xa=null,this.elements={},this.elements.events=[],this.elements.separators=[],this.elements.selection=[],this.elements.cells={},this.elements.crosshair=[],this.elements.timeHeaders=[],this.events={},this.events.list=[],this.nav={},this.ya=0,this.za=!1,this.Aa=!1,this.Ba={};var x=this.Ba;this.Ca={};var k=w.Ca;this.Da={};var C=this.Da;this.Ea={};var _=this.Ea;this.Fa={};var T=this.Fa;this.Ga="javasc",this.clearSelection=function(){v.selecting=null,w.Ha(),w.Ia=null},this.Ha=function(){if(w.Ia){p(w.elements.selection),w.elements.selection=[],w.nav.activeSelection=null;var e=(w.Ja||[]).map(function(e){return e.div});DayPilot.de(e),w.Ja=[]}},this.cleanSelection=this.clearSelection,this.Ka=function(){w.va.wa=null,w.va.xa=null},this.La=function(e,t){return w.Ba.Ma()?DayPilot.Util.escapeTextHtml(e,t):DayPilot.Util.isNullOrUndefined(t)?DayPilot.Util.isNullOrUndefined(e)?"":e:t},this.Na=function(e,t,n){var i={};i.action=e,i.parameters=n,i.data=t,i.header=this.Oa();var a="JSON"+JSON.stringify(i);__doPostBack(w.uniqueID,a)},this.Pa=function(e,t,n,i){if(!this.ja())return void w.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof i&&(i="CallBack"),w.Qa({"delay":100});var a={};a.action=e,a.type=i,a.parameters=t,a.data=n,a.header=this.Oa();var r="JSON"+JSON.stringify(a);this.backendUrl?DayPilot.request(this.backendUrl,this.Ra,r,this.Sa):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.Ta,this.clientName,this.onCallbackError,!0)},this.ja=function(){return"javasc"!==w.Ga&&w.Ga.indexOf("DCODE")===-1||w.devsb},this.Ua=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.Sa=function(e){if("function"==typeof w.onAjaxError){var t={};t.request=e,w.onAjaxError(t)}else"function"==typeof w.ajaxError&&w.ajaxError(e)},this.dispose=function(){var e=w;clearInterval(e.Va),e.za&&(e.Aa||(e.Aa=!0,e.Wa&&e.Wa.disconnect(),e.Xa(),e.Ya(),e.nav.messageClose&&(e.nav.messageClose.onclick=null),e.nav.hourTable&&(e.nav.hourTable.oncontextmenu=null,e.nav.hourTable.onmousemove=null),e.nav.header&&(e.nav.header.oncontextmenu=null),e.nav.corner&&(e.nav.corner.oncontextmenu=null),e.nav.zoom&&(e.nav.zoom.onmousemove=null,e.nav.zoom.oncontextmenu=null),e.nav.scroll&&(e.nav.scroll.onscroll=null,e.nav.scroll.root=null),DayPilot.pu(e.nav.loading),e.Za(),e.$a(),e._a(),e.ab(),e.nav.select=null,e.nav.cornerRight=null,e.nav.scrollable=null,e.nav.bottomLeft=null,e.nav.bottomRight=null,e.nav.allday=null,e.nav.zoom=null,e.nav.loading=null,e.nav.events=null,e.nav.header=null,e.nav.hourTable=null,e.nav.scrolltop=null,e.nav.scroll=null,e.nav.vsph=null,e.nav.main=null,e.nav.message=null,e.nav.messageClose=null,e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.removeEventListener("mouseleave",w.bb),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,DayPilot.ue(window,"resize",e.cb),m.db(e),"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.cancelShowing(),DayPilot.Bubble.hide({"calendar":e})),"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.hide({"calendar":e})))},this.disposed=function(){return this.Aa},this.eb=function(){this.nav.top.dispose=this.dispose},this.Ra=function(e){w.Ta(e.responseText)},this.Oa=function(){var e={};return e.v=this.v,e.control="dpc",e.id=this.id,e.clientState=w.clientState,e.columns=this.fb(),e.days=w.days,e.startDate=w.startDate,e.cellDuration=w.cellDuration,e.cssClassPrefix=w.cssClassPrefix,e.heightSpec=w.heightSpec,e.businessBeginsHour=w.businessBeginsHour,e.businessEndsHour=w.businessEndsHour,e.viewType=w.viewType,e.dayBeginsHour=w.dayBeginsHour,e.dayEndsHour=w.dayEndsHour,e.headerLevels=w.headerLevels,e.eventHeaderVisible=w.eventHeaderVisible,e.timeFormat=w.timeFormat,e.timeHeaderCellDuration=w.timeHeaderCellDuration,e.locale=w.locale,e.scrollY=w.scrollPos,e.showAllDayEvents=w.showAllDayEvents,e.tagFields=w.tagFields,e.weekStarts=w.weekStarts,e.selected=w.multiselect.events(),e.hashes=w.hashes,e},this.gb=function(){w.hb(),w.ib(),w.jb=null},this.fb=function(){var e=[];if(e.ignoreToJSON=!0,!this.kb)return e;for(var t=0;t<this.kb.length;t++){var n=this.kb[t],i=this.lb(n);e.push(i)}return e},this.lb=function(e){var t={};return t.Value=e.id,t.Name=e.name,t.ToolTip=e.toolTip,t.Date=e.start,t.Children=this.mb(e.children),t},this.mb=function(e){var t=[];if(t.ignoreToJSON=!0,!e)return t;for(var n=0;n<e.length;n++)t.push(this.lb(e[n]));return t},this.Ta=function(e){var t=JSON.parse(e);if(t.BubbleGuid){var n=t.BubbleGuid,i=this.bubbles[n];return delete this.bubbles[n],w.nb(),void("undefined"!=typeof t.Result.BubbleHTML&&i.updateView(t.Result.BubbleHTML,i))}if(t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if("undefined"!=typeof t.ClientState&&(w.clientState=t.ClientState),"None"===t.UpdateType)return w.nb(),w.ob(t.CallBackData,!0),void(t.Message&&w.message(t.Message));if(w.Ka(),t.VsUpdate){var a=document.createElement("input");a.type="hidden",a.name=w.id+"_vsupdate",a.id=a.name,a.value=t.VsUpdate,w.nav.vsph.innerHTML="",w.nav.vsph.appendChild(a)}if(w.Ya(),w.multiselect.clear(!0),w.multiselect.pb=t.SelectedEvents,"undefined"!=typeof t.TagFields&&(w.tagFields=t.TagFields),"undefined"!=typeof t.SortDirections&&(w.sortDirections=t.SortDirections),"Full"===t.UpdateType&&(w.colors=t.Colors,w.palette=t.Palette,w.dirtyColors=t.DirtyColors,w.cellProperties=t.CellProperties,w.cellConfig=t.CellConfig,w.qb()===w.columns?w.columns=t.Columns:w.columns.list=t.Columns,w.days=t.Days,w.startDate=new DayPilot.Date(t.StartDate).getDatePart(),w.cellDuration=t.CellDuration,w.heightSpec=t.HeightSpec?t.HeightSpec:w.heightSpec,w.businessBeginsHour=t.BusinessBeginsHour?t.BusinessBeginsHour:w.businessBeginsHour,w.businessEndsHour=t.BusinessEndsHour?t.BusinessEndsHour:w.businessEndsHour,w.viewType=t.ViewType,w.headerLevels=t.HeaderLevels,w.backColor=t.BackColor?t.BackColor:w.backColor,w.nonBusinessBackColor=t.NonBusinessBackColor?t.NonBusinessBackColor:w.nonBusinessBackColor,w.eventHeaderVisible=t.EventHeaderVisible?t.EventHeaderVisible:w.eventHeaderVisible,w.timeFormat=t.TimeFormat?t.TimeFormat:w.timeFormat,w.timeHeaderCellDuration="undefined"!=typeof t.TimeHeaderCellDuration?t.TimeHeaderCellDuration:w.timeHeaderCellDuration,w.locale=t.Locale?t.Locale:w.locale,w.dayBeginsHour="undefined"!=typeof t.DayBeginsHour?t.DayBeginsHour:w.dayBeginsHour,w.dayEndsHour="undefined"!=typeof t.DayEndsHour?t.DayEndsHour:w.dayEndsHour,w.cornerHtml=t.CornerHTML,w.hours=t.Hours,w.rb(),w.sb()),t.Hashes)for(var r in t.Hashes)w.hashes[r]=t.Hashes[r];if(w.tb(t.Events),w.ub(),("Full"===t.UpdateType||w.hideFreeCells)&&(w.vb(),w.wb(),w.xb(),w.yb(),w.zb(),w.Ab(),w.Bb(),w.Cb(),w.clearSelection(),w.Db(),"undefined"!=typeof t.ScrollY?w.scrollToY(t.ScrollY):w.scrollToY(w.initScrollPos)),w.Eb(),w.D(),w.Fb(),w.Gb(),"Parent100Pct"===w.heightSpec&&w.Hb(),"HoldForever"!==w.timeRangeSelectedHandling&&w.clearSelection(),w.Ib(),w.todo&&w.todo.del){var o=w.todo.del;o.parentNode.removeChild(o),w.todo.del=null}w.ob(t.CallBackData,!0),w.nb(),w.Jb(),t.Message&&w.message(t.Message)},this.ob=function(e,t){var n=function(e,t){return function(){if(w.Kb()){if("function"==typeof w.onAfterRender){var n={};n.isCallBack=t,n.data=e,w.onAfterRender(n)}}else w.afterRender&&w.afterRender(e,t)}};window.setTimeout(n(e,t),0)},this.Lb=function(e){var n=w.nav.events,i=n.rows[0].cells.length,a=w.Mb(w.coords.x);a<0&&(a=0),a>=i&&(a=i-1),w.rtl&&(a=w.Nb.length-a-1);var r=n.rows[0].cells[a],o=0,l=0,s=0;if("undefined"!=typeof e.duration){var d=e.duration;s=Math.floor((w.coords.y-o+w.cellHeight/2)/w.cellHeight)*w.cellHeight+o,l=d*w.cellHeight/(60*x.Ob()),l=Math.max(l,w.cellHeight)}else{var c=e.event;l=c.part.height,s=c.part.top}var u=!v.selecting,h=w.eventBorderRadius;"number"==typeof h&&(h+="px");var f=t();f.style.position="absolute",f.style.width="100%",f.style.height=l+"px",f.style.left="0px",f.style.top=s+"px",f.style.zIndex=w.pa,f.exclude=!0,u&&(f.style.marginLeft=w.columnMarginLeft+"px",f.style.marginRight=w.columnMarginRight+"px");var p=t();return f.appendChild(p),f.className=w.ca("_shadow"),p.className=this.ca("_shadow_inner"),h&&(p.style.borderRadius=h,f.style.borderRadius=h),r.events.appendChild(f),f},this.Pb=function(){return this.Qb()/36e5},this.Rb=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.Sb=function(){return"Resources"===w.viewType&&!w.hours&&w.days>1?24*w.days:this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.Qb=function(e){var t=0;if("BusinessHoursNoScroll"===this.heightSpec)t=this.Rb();else if(this.hideFreeCells&&!e){var n=(this.Tb-1)*x.Ob()/this.cellHeight,i=Math.ceil(n/60),a=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;t=Math.max(this.dayBeginsHour+i,a)-this.Ub()}else t=this.Sb();return 60*t*60*1e3},this.message=function(e,n){if(null!==e&&w.za){var i,a={};"object"==typeof arguments[1]?(a=arguments[1],i=a.delay):i=n;var o="";o=a.rawHtml?e:DayPilot.Util.escapeHtml(e),i=i||this.messageHideAfter||2e3;var l,s=this.Vb(),d=this.showHours?this.hourWidth:0,c=DayPilot.sw(w.Wb());if(w.rtl){var u=d;d=c,c=u}if(this.nav.message)l=w.nav.message,this.nav.message.style.top=s+"px";else{l=t(),l.style.position="absolute",l.style.left=d+"px",l.style.top=s+"px",l.style.right="0px",l.style.display="none",l.onmousemove=function(){l.messageTimeout&&!l.status&&clearTimeout(l.messageTimeout)},l.onmouseout=function(){"none"!==w.nav.message.style.display&&(l.messageTimeout=setTimeout(w.Xb,500))};var h=t();h.onclick=function(){w.nav.message.style.display="none"},h.className=this.ca("_message"),l.appendChild(h);var f=t();f.style.position="absolute",f.className=this.ca("_message_close"),f.onclick=function(){w.nav.message.style.display="none"},l.appendChild(f),this.nav.top.insertBefore(l,this.nav.loading),this.nav.message=l,this.nav.messageClose=f}this.nav.cornerRight?this.nav.message.style.right=c+"px":this.nav.message.style.right="0px";var v=function(){if(w.nav.message){var e=w.nav.message.firstChild;e.className=w.ca("_message"),a.cssClass&&r(e,a.cssClass),e.innerHTML=o;var t=function(){l.messageTimeout=setTimeout(w.Xb,i)};DayPilot.fade(w.nav.message,.2,t)}};clearTimeout(l.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(w.nav.message,-.2,v):v()}},this.message.show=function(e){w.message(e)},this.message.hide=function(){w.Xb()},this.Xb=function(){var e=function(){w.nav.message.style.display="none"};DayPilot.fade(w.nav.message,-.2,e)},this.yb=function(){this.nav.message&&(this.nav.message.style.top=this.Vb()+"px")},this.Yb=function(){return this.Qb()/(6e4*x.Ob())},this.eventClickPostBack=function(e,t){this.Na("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.Pa("EventClick",e,t)},this.Zb=function(e){var t=e.currentTarget,n=e.ctrlKey,i=e.metaKey;if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===w.eventDoubleClickHandling)return void w.$b(t,e);if(w.timeouts){for(var a in w.timeouts)window.clearTimeout(w.timeouts[a]);w.timeouts=[]}else w.timeouts=[];var r=function(e,t,n,i){return function(){w.$b(e,i)}};w.timeouts.push(window.setTimeout(r(this,n,i,e),w.doubleClickTimeout))},this.$b=function(e,t){var n=e.event;if(n.client.clickEnabled()){var i=t.ctrlKey,a=t.metaKey,r=t.shiftKey;if(w.Kb()){var o={};if(o.e=n,o.control=w,o.ctrl=i,o.meta=a,o.shift=r,o.originalEvent=t,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onEventClick&&(w.onEventClick(o),o.preventDefault.value))return;switch(w.eventClickHandling){case"PostBack":w.eventClickPostBack(n);break;case"CallBack":w.eventClickCallBack(n);break;case"Edit":w._b(e);break;case"Select":w.bc(e,n,i,a);break;case"Bubble":w.bubble&&w.bubble.showEvent(n);break;case"ContextMenu":var l=n.client.contextMenu();l?l.show(n):w.contextMenu&&w.contextMenu.show(n)}"function"==typeof w.onEventClicked&&w.onEventClicked(o)}else switch(w.eventClickHandling){case"PostBack":w.eventClickPostBack(n);break;case"CallBack":w.eventClickCallBack(n);break;case"JavaScript":w.onEventClick(n);break;case"Edit":w._b(e);break;case"Select":w.bc(e,n,i,a);break;case"Bubble":w.bubble&&w.bubble.showEvent(n);break;case"ContextMenu":var l=n.client.contextMenu();l?l.show(n):w.contextMenu&&w.contextMenu.show(n)}}},this.eventDoubleClickPostBack=function(e,t){this.Na("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.Pa("EventDoubleClick",e,t)},this.cc=function(e){if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),w.timeouts){for(var t in w.timeouts)window.clearTimeout(w.timeouts[t]);w.timeouts=null}var n=e.currentTarget,i=n.event;if(w.Kb()){var a={};if(a.e=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onEventDoubleClick&&(w.onEventDoubleClick(a),a.preventDefault.value))return;switch(w.eventDoubleClickHandling){case"PostBack":w.eventDoubleClickPostBack(i);break;case"CallBack":w.eventDoubleClickCallBack(i);break;case"Edit":i.allday()||w._b(this);break;case"Select":i.allday()||w.bc(this,i,e.ctrlKey);break;case"Bubble":w.bubble&&w.bubble.showEvent(i)}"function"==typeof w.onEventDoubleClicked&&w.onEventDoubleClicked(a)}else switch(w.eventDoubleClickHandling){case"PostBack":w.eventDoubleClickPostBack(i);break;case"CallBack":w.eventDoubleClickCallBack(i);break;case"JavaScript":w.onEventDoubleClick(i);break;case"Edit":i.allday()||w._b(this);break;case"Select":i.allday()||w.bc(this,i,e.ctrlKey);break;case"Bubble":w.bubble&&w.bubble.showEvent(i)}},this.eventRightClickPostBack=function(e,t){this.Na("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.Pa("EventRightClick",e,t)},this.dc=function(e){var t=e.currentTarget,n=t.event;if(e.stopPropagation(),!n.client.rightClickEnabled())return!1;if(w.Kb()){var i={};if(i.e=n,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onEventRightClick&&(w.onEventRightClick(i),i.preventDefault.value))return!1;switch(w.eventRightClickHandling){case"PostBack":w.eventRightClickPostBack(n);break;case"CallBack":w.eventRightClickCallBack(n);break;case"ContextMenu":var a=n.client.contextMenu();a?a.show(n):w.contextMenu&&w.contextMenu.show(this.event);break;case"Bubble":w.bubble&&w.bubble.showEvent(n)}"function"==typeof w.onEventRightClicked&&w.onEventRightClicked(i)}else switch(w.eventRightClickHandling){case"PostBack":w.eventRightClickPostBack(n);break;case"CallBack":w.eventRightClickCallBack(n);break;case"JavaScript":w.onEventRightClick(n);break;case"ContextMenu":var a=n.client.contextMenu();a?a.show(n):w.contextMenu&&w.contextMenu.show(this.event);break;case"Bubble":w.bubble&&w.bubble.showEvent(n)}return e.preventDefault&&e.preventDefault(),!1},this.ec=function(e){return new DayPilot.Column(e,w)},this.headerClickPostBack=function(e,t){this.Na("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.Pa("HeaderClick",e,t)},this.fc=function(e){var t=this.data,n=w.ec(t,w);if(w.Kb()){var i={};if(i.header={},i.header.id=t.id,i.header.name=t.name,i.header.start=t.start,i.column=n,i.originalEvent=e,i.shift=e.shiftKey,i.ctrl=e.ctrlKey,i.meta=e.metaKey,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onHeaderClick&&(w.onHeaderClick(i),i.preventDefault.value))return;switch(w.headerClickHandling){case"PostBack":w.headerClickPostBack(n);break;case"CallBack":w.headerClickCallBack(n)}"function"==typeof w.onHeaderClicked&&w.onHeaderClicked(i)}else switch(w.headerClickHandling){case"PostBack":w.headerClickPostBack(n);break;case"CallBack":w.headerClickCallBack(n);break;case"JavaScript":w.onHeaderClick(n)}},this.gc=function(e){var t=e.currentTarget,n=t.firstChild;if("undefined"!=typeof DayPilot.Bubble&&w.columnBubble)if("Resources"===w.viewType){var i={};i.calendar=w,i.start=this.data.start,i.name=this.data.name,i.id=this.data.id,i.toJSON=function(){var e={};return e.id=this.id,e.start=this.start,e.name=this.name,e},w.columnBubble.showResource(i,!1,t)}else{var a=new DayPilot.Date(this.data.start),r=a.addDays(1),o={};o.calendar=w,o.start=a,o.end=r,o.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e},w.columnBubble.showTime(o,!1,t)}if(!n.active){var l=t.data,s=w.ec(l);s.areas=t.data.areas,DayPilot.Areas.showAreas(n,s)}"undefined"!=typeof C&&C.s&&C.hc(e,t)},this.ic=function(e){"undefined"!=typeof DayPilot.Bubble&&w.columnBubble&&w.columnBubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this.firstChild,e)},this.eventDeletePostBack=function(e,t){this.Na("EventDelete",t,e)},this.eventDeleteCallBack=function(e,t){this.Pa("EventDelete",e,t)},this.jc=function(e){var t;if(t=e&&e.isEvent?e:e.parentNode.parentNode.event,"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing()),w.Kb()){var n={};if(n.e=t,n.control=w,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onEventDelete&&(w.onEventDelete(n),n.preventDefault.value))return;switch(w.eventDeleteHandling){case"PostBack":w.eventDeletePostBack(t);break;case"CallBack":w.eventDeleteCallBack(t);break;case"Update":w.events.remove(t)}"function"==typeof w.onEventDeleted&&w.onEventDeleted(n)}else switch(w.eventDeleteHandling){case"PostBack":w.eventDeletePostBack(t);break;case"CallBack":w.eventDeleteCallBack(t);break;case"JavaScript":w.onEventDelete(t)}},this.eventResizePostBack=function(e,t,n,i){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=n,this.Na("EventResize",i,a)},this.eventResizeCallBack=function(e,t,n,i){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=n,this.Pa("EventResize",a,i)},this.kc=function(e,t,n,i){if("PostBack"===e)w.postBack2(t,n,i);else if("CallBack"===e)w.Pa(t,n,i,"CallBack");else if("Immediate"===e)w.Pa(t,n,i,"Notify");else if("Queue"===e)w.queue.add(new DayPilot.Action(this,t,n,i));else{if("Notify"!==e)throw new DayPilot.Exception("Invalid event invocation type");"Notify"===x.lc()?w.Pa(t,n,i,"Notify"):w.queue.add(new DayPilot.Action(w,t,n,i))}},this.Ub=function(e){if("Resources"===w.viewType&&w.days>1&&!w.hours)return 0;if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!e){var t=this.nc*x.Ob()/this.cellHeight,n=Math.floor(t/60);return n=Math.max(0,n),Math.min(this.dayBeginsHour+n,this.businessBeginsHour)}return this.dayBeginsHour},this.visibleStart=function(){if("Resources"===w.viewType){if(w.Nb.isEmpty())return DayPilot.Date.today();var e=f(w.Nb).map(function(e){return e.start.getTime()}),t=Math.min.apply(null,e);return new DayPilot.Date(t)}return this.Nb[0].start},this.visibleEnd=function(){if("Resources"===w.viewType){if(w.Nb.isEmpty())return DayPilot.Date.today().addDays(w.days);var e=f(w.Nb).map(function(e){return e.start.getTime()}),t=Math.max.apply(null,e);return new DayPilot.Date(t).addDays(w.days)}var n=this.Nb;return n[n.length-1].start.addDays(1)},this.Kb=function(){return 2===w.api},this.oc=function(e,t){var n=w.Nb[e.part.dayIndex].start,i=Math.floor(t/w.cellHeight);w.snapToGrid&&w.snapToGridEventResizing||(i=t/w.cellHeight);var a=Math.floor(i*x.Ob()),r=60*a*1e3,o=60*w.Ub()*60*1e3;return n.addTime(r+o)},this.pc=function(e,t){var n=Math.floor(t/w.cellHeight);w.snapToGrid&&w.snapToGridEventResizing||(n=t/w.cellHeight);var i=Math.floor(n*x.Ob()),a=60*i*1e3,r=60*w.Ub()*60*1e3;return w.Nb[e.part.dayIndex].start.addTime(a+r)},this.qc=function(e,t,n,i){if("Disabled"!==this.eventResizeHandling){var a,r;if("top"===i?(a=w.oc(e,n),r=e.end()):"bottom"===i&&(a=e.start(),r=w.pc(e,n+t)),w.ta){var o=w.rc;a=o.start,r=o.end}if(w.Kb()){var l={},s=function(){if(l.loaded=function(){},w.sc(),!l.preventDefault.value){switch(w.eventResizeHandling){case"PostBack":w.eventResizePostBack(e,a,r);break;case"CallBack":w.eventResizeCallBack(e,a,r);break;case"Notify":w.eventResizeNotify(e,a,r);break;case"Update":e.start(a),e.end(r),w.events.update(e)}"function"==typeof w.onEventResized&&w.onEventResized(l)}};if(l.e=e,l.control=w,l.newStart=a,l.newEnd=r,l.preventDefault=function(){this.preventDefault.value=!0},l.async=!1,l.hideShadow=function(){w.sc()},l.loaded=function(){s()},"function"==typeof w.onEventResize&&(w.onEventResize(l),l.preventDefault.value))return void w.sc();l.async||s()}else switch(w.sc(),w.eventResizeHandling){case"PostBack":w.eventResizePostBack(e,a,r);break;case"CallBack":w.eventResizeCallBack(e,a,r);break;case"JavaScript":w.onEventResize(e,a,r);break;case"Notify":w.eventResizeNotify(e,a,r)}}},this.eventResizeNotify=function(e,t,n,i){var a=new DayPilot.Event(e.copy(),this);e.start(t),e.end(n),e.commit(),w.update(),this.tc("Notify",a,t,n,i)},this.tc=function(e,t,n,i,a){var r={};r.e=t,r.newStart=n,r.newEnd=i,this.kc(e,"EventResize",r,a)},this.eventMovePostBack=function(e,t,n,i,a){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var r={};r.e=e,r.newStart=t,r.newEnd=n,r.newResource=i,this.Na("EventMove",a,r)},this.eventMoveCallBack=function(e,t,n,i,a){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var r={};r.e=e,r.newStart=t,r.newEnd=n,r.newResource=i,this.Pa("EventMove",r,a)},this.uc=function(e,t,n){var i=w.Mb(t.x);i<0&&(i=0),i>=w.Nb.length&&(i=w.Nb.length-1);var a=w.Nb[i],r=a.start,o=a.id,l=w.snapToGrid&&w.snapToGridEventMoving,s=0;if(e.part.box){var d=w.Nb[e.part.dayIndex],c=w.vc(e.start(),d.start);s=e.start().getTime()-c.boxStart.getTime()}var u=w.wc(t.x,t.y),h=u.addTime(-n);if(l){var f=h.addTime(-s);h=w.xc(f,r).addTime(s)}return{"start":h,"end":h.addTime(e.end().getTime()-e.start().getTime()),"resource":o}},this.yc=function(e,t,n){var i=0,a=Math.floor((n-i)/w.cellHeight),r=w.snapToGrid&&w.snapToGridEventMoving;r||(a=n/w.cellHeight);var o=x.Ob(),l=a*o*60*1e3,s=e.start(),d=e.end(),c=new Date;s instanceof DayPilot.Date&&(s=s.toDate()),c.setTime(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()));var u="Never"!==w.useEventBoxes?s.getTime()-(c.getTime()+3600*s.getUTCHours()*1e3+Math.floor(s.getUTCMinutes()/o)*o*60*1e3):0;r||(u=0);var h=d.getTime()-s.getTime(),f=3600*w.Ub()*1e3;"undefined"==typeof t&&(t=e.part.dayIndex);var v=this.Nb[t],p=v.start.getTime(),m=new Date;m.setTime(p+l+u+f);var g=new DayPilot.Date(m);return{"start":g,"end":g.addTime(h),"resource":v.id}},this.zc=function(e,t,n,i,a){if("Disabled"!==w.eventMoveHandling){var r;w.Ac?(r=w.Ac,w.Ac=null):r=w.yc(e,t,n);var o=r.start,l=r.end,s=r.resource,d=!1;if(a&&!a.Bc&&(d=!0),w.Kb()){var c={},u=function(){if(c.loaded=function(){},w.Cc(),!c.preventDefault.value){switch(w.eventMoveHandling){case"PostBack":w.eventMovePostBack(e,o,l,s);break;case"CallBack":w.eventMoveCallBack(e,o,l,s);break;case"Notify":w.eventMoveNotify(e,o,l,s);break;case"Update":e.start(o),e.end(l),e.resource(s),d?(e.commit(),w.events.add(e)):w.events.update(e),w.Dc()}"function"==typeof w.onEventMoved&&w.onEventMoved(c)}};if(c.e=e,c.control=w,c.newStart=r.start,c.newEnd=r.end,c.newResource=r.resource,c.external=d,c.areaData=v.movingAreaData,c.ctrl=!1,i&&(c.ctrl=i.ctrlKey),c.shift=!1,i&&(c.shift=i.shiftKey),c.preventDefault=function(){this.preventDefault.value=!0},c.async=!1,c.hideShadow=function(){w.Cc()},c.loaded=function(){u()},"function"==typeof w.onEventMove&&(w.onEventMove(c),c.preventDefault.value))return void w.Cc();c.async||u()}else switch(w.Cc(),w.eventMoveHandling){case"PostBack":w.eventMovePostBack(e,o,l,s);break;case"CallBack":w.eventMoveCallBack(e,o,l,s);break;case"JavaScript":w.onEventMove(e,o,l,s,d,!!i&&i.ctrlKey,!!i&&i.shiftKey);break;case"Notify":w.eventMoveNotify(e,o,l,s,null)}}},this.eventMoveNotify=function(e,t,n,i,a){var r=new DayPilot.Event(e.copy(),this);e.start(t),e.end(n),e.resource(i),e.commit(),w.update(),this.Ec("Notify",r,t,n,i,a)},this.Ec=function(e,t,n,i,a,r){var o={};o.e=t,o.newStart=n,o.newEnd=i,o.newResource=a,this.kc(e,"EventMove",o,r)},this.Dc=function(){if(w.todo&&w.todo.del){var e=w.todo.del;e.parentNode.removeChild(e),w.todo.del=null}},this.Fc=function(e,t){var n=w.Gc(t),i={};i.args=e,i.guid=n,w.Pa("Bubble",i)},this.Gc=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventMenuClickPostBack=function(e,t,n){var i={};i.e=e,i.command=t,this.Na("EventMenuClick",n,i)},this.eventMenuClickCallBack=function(e,t,n){var i={};i.e=e,i.command=t,this.Pa("EventMenuClick",i,n)},this.Hc=function(e,t,n){switch(n){case"PostBack":w.eventMenuClickPostBack(t,e);break;case"CallBack":w.eventMenuClickCallBack(t,e)}},this.timeRangeMenuClickPostBack=function(e,t,n){var i={};i.selection=e,i.command=t,this.Na("TimeRangeMenuClick",n,i)},this.timeRangeMenuClickCallBack=function(e,t,n){var i={};i.selection=e,i.command=t,this.Pa("TimeRangeMenuClick",i,n)},this.Ic=function(e,t,n){switch(n){case"PostBack":w.timeRangeMenuClickPostBack(t,e);break;case"CallBack":w.timeRangeMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.resource=n,this.Na("TimeRangeSelected",i,a)},this.timeRangeSelectedCallBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.resource=n,this.Pa("TimeRangeSelected",a,i)},this.Jc=function(e,t,n,i){e=new DayPilot.Date(e),t=new DayPilot.Date(t),i=i||"click";var a=n;if(w.Kb()){var r={};if(r.start=e,r.end=t,r.resource=a,r.control=w,r.origin=i,r.preventDefault=function(){this.preventDefault.value=!0},r.toJSON=function(){return s(r,{},["start","end","resource"])},"function"==typeof w.onTimeRangeSelect&&(w.onTimeRangeSelect(r),r.preventDefault.value))return;switch(w.timeRangeSelectedHandling){case"PostBack":w.timeRangeSelectedPostBack(e,t,a);break;case"CallBack":w.timeRangeSelectedCallBack(e,t,a)}"function"==typeof w.onTimeRangeSelected&&w.onTimeRangeSelected(r)}else switch(w.timeRangeSelectedHandling){case"PostBack":w.timeRangeSelectedPostBack(e,t,n);break;case"CallBack":w.timeRangeSelectedCallBack(e,t,n);break;case"JavaScript":w.onTimeRangeSelected(e,t,n)}},this.timeRangeDoubleClickPostBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.resource=n,this.Na("TimeRangeDoubleClick",i,a)},this.timeRangeDoubleClickCallBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.resource=n,this.Pa("TimeRangeDoubleClick",a,i)},this.Kc=function(e,t,n){if(w.Kb()){var i=n,a={};a.start=e,a.end=t,a.resource=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onTimeRangeClick&&(w.onTimeRangeClick(a),a.preventDefault.value)||"function"==typeof w.onTimeRangeClicked&&w.onTimeRangeClicked(a)}},this.Lc=function(e,t,n){if(w.Kb()){var i=n,a={};if(a.start=e,a.end=t,a.resource=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onTimeRangeDoubleClick&&(w.onTimeRangeDoubleClick(a),a.preventDefault.value))return;switch(w.timeRangeDoubleClickHandling){case"PostBack":w.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":w.timeRangeDoubleClickCallBack(e,t,i)}"function"==typeof w.onTimeRangeDoubleClicked&&w.onTimeRangeDoubleClicked(a)}else switch(w.timeRangeDoubleClickHandling){case"PostBack":w.timeRangeDoubleClickPostBack(e,t,n);break;case"CallBack":w.timeRangeDoubleClickCallBack(e,t,n);break;case"JavaScript":w.onTimeRangeDoubleClick(e,t,n)}},this.eventEditPostBack=function(e,t,n){var i={};i.e=e,i.newText=t,this.Na("EventEdit",n,i)},this.eventEditCallBack=function(e,t,n){var i={};i.e=e,i.newText=t,this.Pa("EventEdit",i,n)},this.Mc=function(e,t){if(w.Kb()){var n={};if(n.control=w,n.e=e,n.newText=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onEventEdit&&(w.onEventEdit(n),n.preventDefault.value))return;switch(w.eventEditHandling){case"PostBack":w.eventEditPostBack(e,n.newText);break;case"CallBack":w.eventEditCallBack(e,n.newText);break;case"Update":e.text(n.newText),w.events.update(e)}if("function"==typeof w.onEventEdited&&(w.onEventEdited(n),n.preventDefault.value))return}else switch(w.eventEditHandling){case"PostBack":w.eventEditPostBack(e,t);break;case"CallBack":w.eventEditCallBack(e,t);break;case"JavaScript":w.onEventEdit(e,t)}},this.eventSelectPostBack=function(e,t,n){var i={};i.e=e,i.change=t,this.Na("EventSelect",n,i)},this.eventSelectCallBack=function(e,t,n){var i={};i.e=e,i.change=t,this.Pa("EventSelect",i,n)},this.Nc=function(e,t,n,i){var a=w.multiselect,r=a.isSelected(t),o=r?"deselected":"selected";if(n||i||!r||1!==a.Oc.length)if(w.Kb()){a.previous=a.events();var l={};if(l.e=t,l.selected=a.isSelected(t),l.ctrl=n,l.meta=i,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onEventSelect&&(w.onEventSelect(l),l.preventDefault.value))return;switch(w.eventSelectHandling){case"PostBack":w.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Pc="",window.Qc=[],WebForm_InitCallback()),w.eventSelectCallBack(t,o);break;case"Update":a.Rc(e,n)}"function"==typeof w.onEventSelected&&(l.change=a.isSelected(t)?"selected":"deselected",l.selected=a.isSelected(t),w.onEventSelected(l))}else switch(a.previous=a.events(),a.Rc(e,n),w.eventSelectHandling){case"PostBack":w.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Pc="",window.Qc=[],WebForm_InitCallback()),w.eventSelectCallBack(t,o);break;case"JavaScript":w.onEventSelect(t,o)}},this.commandCallBack=function(e,t){this.Xa();var n={};n.command=e,this.Pa("Command",n,t)},this.Sc=function(e){if(!k.active&&(clearTimeout(m.selectedTimeout),!v.selecting)){if(m.editing)return void m.editing.blur();if(w.coords=DayPilot.mo3(w.nav.main,e),!(w.Ia&&"Disabled"!==w.timeRangeDoubleClickHandling&&w.Tc(w.coords)||"Disabled"===w.timeRangeSelectedHandling)){if(DayPilot.Util.mouseButton(e).left){v.selecting={"calendar":w,"start":w.coords};var t=v.selecting;t.start.time=w.wc(w.coords.x,w.coords.y),t.start.columnIndex=w.Mb(w.coords.x),t.start.column=w.Nb[t.start.columnIndex],w.Uc(),w.Vc()}}}},this.Vc=function(e){var n=e||v.selecting;n&&!function(){var e=w.timeRangeSelectingStartEndFormat;"Auto"===e&&(e="Clock24Hours"===x.Wc()?"H:mm":"h:mm tt");var i=n.start.column,a=n.start.columnIndex,o={};o.anchor=n.anchor,o.start=n.startTime,o.end=n.endTime,o.duration=new DayPilot.Duration(o.start,o.end),o.resource=i.id,o.allowed=!0,o.html=null,o.cssClass=null,o.top={},
o.top.width=null,o.top.space=5,o.top.html=o.start.toString(e,x.Xc()),o.top.enabled=w.timeRangeSelectingStartEndEnabled,o.bottom={},o.bottom.width=null,o.bottom.space=5,o.bottom.html=o.end.toString(e,x.Xc()),o.bottom.enabled=w.timeRangeSelectingStartEndEnabled;var l=v.selecting&&v.selecting.args;if(!l||l.start!==o.start||l.end!==o.end||l.resource!==o.resource){if(!w.allowEventOverlap){var s={"id":null,"start":o.start,"end":o.end,"resource":o.resource};w.events.Yc(s)&&(o.allowed=!1)}w.Zc(o.start,o.end,o.resource)&&(o.allowed=!1),"function"==typeof w.onTimeRangeSelecting&&o.allowed&&w.onTimeRangeSelecting(o),v.selecting&&(v.selecting.args=o);var d=t(),c=[{"div":d,"columnIndex":a}];if(w.ta){d.style.display="none";var u={"start":o.start,"end":o.end,"resource":i.id};w.$c(null,u),c=w.Ja}w._c(),c.forEach(function(e){var t=e.div,n=e.columnIndex;t.className=w.ca("_shadow"),t.firstChild.innerHTML="";var i=t.firstChild;o.html&&(i.innerHTML=o.html),o.cssClass&&r(t,o.cssClass),o.allowed||r(t,w.ca("_shadow_forbidden")),w.ad(t,n,o)})}}()},this.Cc=function(){w.cd(m.movingShadow),m.movingShadow=null;var e=(w.Ja||[]).map(function(e){return e.div});DayPilot.de(e),w.Ja=[]},this.sc=function(){w.cd(m.resizingShadow),m.resizingShadow=null;var e=(w.Ja||[]).map(function(e){return e.div});DayPilot.de(e),w.Ja=[]},this.cd=function(e){p(e),p(w.nav.indicatorTop),p(w.nav.indicatorBottom)},this._c=function(){p(w.nav.indicatorTop),p(w.nav.indicatorBottom),w.nav.indicatorTop=[],w.nav.indicatorBottom=[]},this.ad=function(e,n,i){var a=w.nav.events.rows[0].cells,r=a[n].events,o=n===a.length-1;if(i.top.enabled){var l=t();l.style.zIndex=w.pa,l.style.position="absolute",l.style.top=e.offsetTop+"px",o?l.style.right="0px":l.style.left=e.offsetWidth+i.top.space+"px",i.top.width?l.style.width=i.top.width+"px":l.style.whiteSpace="nowrap",i.top.html&&(l.innerHTML=i.top.html),l.className=w.ca("_shadow_top"),r.appendChild(l),w.elements.selection.push(l),w.nav.indicatorTop.push(l)}if(i.bottom.enabled){var s=t();s.style.zIndex=w.pa,s.style.position="absolute",s.style.top=e.offsetTop+e.offsetHeight+"px",o?s.style.right="0px":s.style.left=e.offsetWidth+i.bottom.space+"px",i.bottom.width?s.style.width=i.bottom.width+"px":s.style.whiteSpace="nowrap",i.bottom.html&&(s.innerHTML=i.bottom.html),s.className=w.ca("_shadow_bottom"),r.appendChild(s);var d=s.offsetHeight;s.style.top=e.offsetTop+e.offsetHeight-d+"px",w.elements.selection.push(s),w.nav.indicatorBottom.push(s)}},this.dd=function(){"undefined"!=typeof DayPilot.Bubble&&w.cellBubble&&w.cellBubble.hideOnMouseOut()},this.ed=function(e){if("undefined"!=typeof m&&!k.active){if("undefined"!=typeof DayPilot.Bubble&&w.cellBubble){var t={};t.calendar=w,t.start=this.start,t.end=this.end,t.resource=this.resource,t.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},w.cellBubble.showCell(t,this)}"undefined"!=typeof _&&_.s&&_.fd(e)}},this.getSelection=function(){if(!w.Ia)return null;var e=w.Ia;return new DayPilot.Selection(e.startTime,e.endTime,e.start.column.id,w)},this.gd=function(){},this.hd=function(){if("Fixed"===x.jd()||w.qa){if(!w.nav.bottomLeft)return;w.nav.bottomLeft.scrollTop=w.nav.bottomRight.scrollTop,w.nav.upperRight&&(w.nav.upperRight.scrollLeft=w.nav.bottomRight.scrollLeft),w.nav.scrollLayer.scrollLeft=w.nav.bottomRight.scrollLeft}var e=w.kd();w.scrollPos=e.scrollTop,w.ld=e.clientHeight,w.nav.scrollpos.value=w.scrollPos,w.Ib(),w.Ka(),"Progressive"===w.dynamicEventRendering&&(clearTimeout(w.md),0===w.scrollDelayEvents?w.nd():w.md=setTimeout(function(){w.nd()},w.scrollDelayEvents)),"Fixed"===x.jd()&&(clearTimeout(w.od),0===w.scrollDelayCells?w.pd():w.od=setTimeout(function(){w.pd()},w.scrollDelayCells))},this.Ib=function(){if(this.scrollLabelsVisible&&this.qd){if(this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0){var e=this.Nb,t=this.showHours?this.hourWidth:0,n=(this.nav.scroll.clientWidth-t)/e.length;"Fixed"===x.jd()&&(n=w.columnWidth);for(var i=1,a=0;a<this.nav.scrollUp.length;a++){var r=this.nav.scrollUp[a],o=this.nav.scrollDown[a],l=Math.floor(t+a*n+n/2-5+i);l<0&&(l=0),l-=w.nav.bottomRight.scrollLeft,r&&r.style&&(r.style.left=l+"px"),o&&o.style&&(o.style.left=l+"px")}for(var s=this.rd(),a=0;a<this.nav.scrollUp.length;a++){var d=this.nav.scrollUp[a],c=this.nav.scrollDown[a],u=this.qd[a].minEnd-s,h=this.qd[a].maxStart-s;d&&c&&(u<=w.scrollPos&&parseInt(d.style.left)>=w.hourWidth?(d.style.top=this.Vb()+"px",d.style.display=""):d.style.display="none",h>=w.scrollPos+w.ld&&parseInt(c.style.left)>=w.hourWidth?(c.style.top=this.Vb()+this.ld-10+"px",c.style.display=""):c.style.display="none")}}}},this.sd=function(e){var t=e.parentNode,n=0,i=e.offsetTop,a=e.parentNode.offsetWidth,r=e.offsetHeight;e.event.allday()&&(n=e.offsetLeft,a=e.offsetWidth);var o=document.createElement("textarea");o.style.boxSizing="border-box",o.style.position="absolute",o.style.width=a+"px",o.style.height=r+"px";var l=DayPilot.gs(e,"fontFamily");l||(l=DayPilot.gs(e,"font-family")),o.style.fontFamily=l;var s=DayPilot.gs(e,"fontSize");return s||(s=DayPilot.gs(e,"font-size")),o.style.fontSize=s,o.style.left=n+"px",o.style.top=i+"px",o.style.border="1px solid black",o.style.padding="0px",o.style.marginTop="0px",o.style.backgroundColor="white",o.value=(e.event.text()||"").trim(),o.event=e.event,t.appendChild(o),o},this.bc=function(e,t,n,i){w.Nc(e,t,n,i)},this.zoom={},this.zoom.active=-1,this.zoom.setActive=function(e){var t;if("number"==typeof e)t=w.zoomLevels[e];else{if("string"!=typeof e)throw new DayPilot.Exception("Unexpected parameter type (string or number required): "+typeof e);var n=w.zoom.td(e);t=w.zoomLevels[n]}if(!t)throw new DayPilot.Exception("Zoom level not found: "+e+" ("+typeof e+")");if(e!==w.zoom.active){var i=w.zoom.ud();w.zoom.vd(e),w.za&&w.update(),i&&w.scrollToHour(i)}},this.zoom.td=function(e){return f(w.zoomLevels).findIndex(function(t){return t.id===e})},this.zoom.ud=function(){var e=w.xd();if(!e)return null;var t=e.pixels.top;return w.yd(t)},this.zoom.vd=function(e){var t=w.zoomLevels.length-1;e>t&&(e=t),e<0&&(e=0),w.zoom.active=e;var n=w.zoomLevels[e],i={};return i.level=n,DayPilot.Util.ownPropsAsArray(n.properties).forEach(function(e){if(0!==e.key.indexOf("on"))return"function"==typeof e.val?void(w[e.key]=e.val(i)):void(w[e.key]=e.val)}),i},this.multiselect={},this.multiselect.pb=[],this.multiselect.Oc=[],this.multiselect.zd=[],this.multiselect.Ad=[],this.multiselect.Bd=function(){var e=w.multiselect;return JSON.stringify(e.events())},this.multiselect.events=function(){var e=w.multiselect,t=[];t.ignoreToJSON=!0;for(var n=0;n<e.Oc.length;n++)t.push(e.Oc[n]);return t},this.multiselect.Cd=function(){w.nav.select.value=w.multiselect.Bd()},this.multiselect.Rc=function(e,t){var n=w.multiselect;if(n.isSelected(e.event))if(w.allowMultiSelect)if(t)n.remove(e.event,!0);else{var i=n.Oc.length;n.clear(!0),i>1&&n.add(e.event,!0)}else n.clear(!0);else w.allowMultiSelect&&t?n.add(e.event,!0):(n.clear(!0),n.add(e.event,!0));n.redraw(),n.Cd()},this.multiselect.Dd=function(e){var t=w.multiselect;return t.Ed(e,t.pb)},this.multiselect.Fd=function(){for(var e=w.multiselect,t=[],n=0;n<e.Oc.length;n++){var i=e.Oc[n];t.push(i.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var n=w.multiselect;n.Gd(e)===-1&&n.Oc.push(e),n.Cd(),t||n.redraw()},this.multiselect.remove=function(e,t){var n=w.multiselect,i=n.Gd(e);i!==-1&&n.Oc.splice(i,1),n.Cd(),t||n.redraw()},this.multiselect.clear=function(e){var t=w.multiselect;t.Oc=[],t.Cd(),e||t.redraw()},this.multiselect.redraw=function(){for(var e=w.multiselect,t=0;t<w.elements.events.length;t++){var n=w.elements.events[t];e.isSelected(n.event)?e.Hd(n):e.Id(n)}},this.multiselect.Hd=function(e){var t=w.multiselect,n=w.ca("_selected");r(t.Jd(e),n),t.zd.push(e)},this.multiselect.Jd=function(e){return e},this.multiselect.Kd=function(){for(var e=w.multiselect,t=0;t<e.zd.length;t++){var n=e.zd[t];e.Id(n,!0)}e.zd=[]},this.multiselect.Id=function(e,t){var n=w.multiselect,i=w.ca("_selected");if(o(n.Jd(e),i),!t){var a=DayPilot.indexOf(n.zd,e);a!==-1&&n.zd.splice(a,1)}},this.multiselect.isSelected=function(e){return w.multiselect.Ed(e,w.multiselect.Oc)},this.multiselect.Gd=function(e){for(var t=e.data,n=0;n<w.multiselect.Oc.length;n++){var i=w.multiselect.Oc[n];if(w.Ld(i.data,t))return n}return-1},this.multiselect.Ed=function(e,t){if(!t)return!1;for(var n=0;n<t.length;n++){var i=t[n];if(w.Ld(e,i))return!0}return!1},this._b=function(e){if(m.editing)return void m.editing.blur();var t=this.sd(e);m.editing=t,a(t,DayPilot.touch.start,function(e){e.stopPropagation()}),t.onblur=function(){if(e.event){var n=e.event.text(),i=t.value;m.editing=null,t.onblur=null,p(t),n!==i&&(e.style.display="none",w.Mc(e.event,i))}},t.onkeypress=function(e){if(13===e.keyCode)return this.onblur(),e.preventDefault(),!1},t.onkeyup=function(e){var n;return 27===e.keyCode&&(t.onblur=null,null===(n=t.parentNode)||void 0===n?void 0:n.removeChild(t),m.editing=!1),!0},t.select(),t.focus()},this.Md=function(){return"Resources"!==w.viewType&&(!w.qb()||!w.ja())},this.qb=function(){return DayPilot.isArray(w.columns)?w.columns:w.columns.list},this.columns={},this.columns.list=[],this.columns.filter=function(e){w.Nd.params=e,w.za&&w.Od()},this.columns.find=function(e,t){var n="Resources"===w.viewType;e=new DayPilot.Date(e);var i=w.Nb.find(function(i){var a=!n||i.id===t,r="Resources"===w.viewType?w.days:1,o=i.start.addDays(r);return!!(a&&i.start<=e&&e<o)});return i?w.ec(i,w):null},this.columns.load=function(e,t,n){if(!e)throw new DayPilot.Exception("columns.load(): 'url' parameter required");var i=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},a=function(e){var n,a=e.request;try{n=JSON.parse(a.responseText)}catch(e){var r={};return r.exception=e,void i(r)}if(DayPilot.isArray(n)){var o={};if(o.preventDefault=function(){this.preventDefault.value=!0},o.data=n,"function"==typeof t&&t(o),o.preventDefault.value)return;w.columns.list=n,w.za&&w.update()}};w.columnsLoadMethod&&"POST"===w.columnsLoadMethod.toUpperCase()?DayPilot.ajax({"method":"POST","url":e,"success":a,"error":i}):DayPilot.ajax({"method":"GET","url":e,"success":a,"error":i})},this.rb=function(){var e=w.Md();if(w.Pd=0,e){var t=this.Qd();this.Nb=this.Rd(t)}else this.kb=this.Rd(this.qb()||[]),this.Nb=this.Sd(x.Td(),!0)},this.Ud=function(){return w.Nb.find(function(e){return"number"==typeof e.width})},this.Vd=function(){var e=this.startDate.getDatePart(),t=this.days;switch(this.viewType){case"Day":t=1;break;case"Week":t=7,e=e.firstDayOfWeek(x.Wd());break;case"WorkWeek":for(t=5,e=e.firstDayOfWeek(x.Wd());1!==e.dayOfWeek();)e=e.addDays(1)}var n=e.addDays(t),i={};return i.start=e,i.end=n,i.days=t,i},this.Qd=function(){for(var e=[],t=this.Vd(),n=t.start,i=t.days,a=0;a<i;a++){var r={};r.start=n.addDays(a);var o=x.Xc().datePattern;w.headerDateFormat&&(o=w.headerDateFormat),r.name=r.start.toString(o,x.Xc()),r.html=r.name,e.push(r)}return e},this.Nd={},this.Pd=0,this.Xd=function(){if(!w.Md()){"function"==typeof w.onColumnFilter&&(w.tb(null,{"preLoadOnly":!0}),this.Yd(w.Nb),this.Nb=this.Sd(x.Td(),!0));w.Ud()&&w.Zd()}},this.Yd=function(e){e&&e.forEach(function(e){w.$d(e)})},this.$d=function(e){var t=e.data,n=!t.children||0===t.children.length;if("function"==typeof w.onColumnFilter&&w.Nd.params)if(n){var i=e.parent,a={};a.visible=!0,a.column=w.ec(e,w),a.filter=w.Nd.params,a.filterParam=a.filter,w.onColumnFilter(a),a.visible?null===i||void 0===i?void 0:i._d():e.hidden=!0}else e.hidden=!0;w.Yd(e.children)},this.ae=function(e,t){var n={};return n.id=e.id,n.start=new DayPilot.Date(e.start||w.startDate).getDatePart(),e.end&&(n.end=new DayPilot.Date(e.end)),n.name=e.name,n.html=e.html||e.name,n.toolTip=e.toolTip,n.backColor=e.backColor,n.areas=e.areas,n.level=t?t.level+1:0,n.parent=t,n.data=e,n.width=e.width,w.Pd=Math.max(w.Pd,n.level),n._d=function(){n.hidden=!1,n.parent&&n.parent._d()},n.be=function(e,t){var n=[];if(e<=1)return this.hidden||n.push(this),n;if(!this.children||0===this.children.length)return t?this.hidden||n.push(this):n.push("empty"),n;for(var i=0;i<this.children.length;i++)for(var a=this.children[i],r=a.be(e-1,t),o=0;o<r.length;o++)n.push(r[o]);return n},n.ce=function(e){var t=0;if(!this.children||this.children.length<=0||e<=1){return!this.hidden?1:0}for(var n=0;n<this.children.length;n++)t+=this.children[n].ce(e-1);return t},n.ee=function(e){for(var t=0;t<this.blocks.length;t++){var n=this.blocks[t];if(n.fe(e.part.top,e.part.height))return n.events.push(e),n.min=Math.min(n.min,e.part.top),n.max=Math.max(n.max,e.part.top+e.part.height),t}var i=[];return i.lines=[],i.events=[],i.fe=function(e,t){return!(e+t-1<this.min||e>this.max-1)},i.ge=function(e){for(var t=0;t<this.lines.length;t++){var n=this.lines[t];if(n.ie(e.part.top,e.part.height))return n.push(e),t}var i=[];return i.ie=function(e,t){for(var n=e+t-1,i=this.length,a=0;a<i;a++){var r=this[a];if(!(n<r.part.top||e>r.part.top+r.part.height-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1},i.events.push(e),i.min=e.part.top,i.max=e.part.top+e.part.height,this.blocks.push(i),this.blocks.length-1},n.ge=function(e){for(var t=0;t<this.lines.length;t++){var n=this.lines[t];if(n.ie(e.part.top,e.part.height))return n.push(e),t}var i=[];return i.ie=function(e,t){for(var n=e+t-1,i=this.length,a=0;a<i;a++){var r=this[a];if(!(n<r.part.top||e>r.part.top+r.part.height-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1},n.Ub=function(){return n.start.addHours(w.Ub(!0))},n.je=function(){var e=w.Qb(!0);return n.Ub().addTime(e)},e.children&&(n.children=this.Rd(e.children,n)),n},this.Rd=function(e,t){var n=f();return f(e).forEach(function(e){var i=w.ae(e,t);n.push(i)}),n},this.Sd=function(e,t){for(var n=this.Md()?this.Nb:this.kb,i=f(),a=0;a<n.length;a++)for(var r=n[a].be(e,t),o=0;o<r.length;o++)i.push(r[o]);return i},this.selectTimeRange=function(e,t,n,i){if(e&&t){e=new DayPilot.Date(e),t=new DayPilot.Date(t);var a=w.ke(e,n,!0),r=w.ke(t,n);if(a&&r&&a.data.x===r.data.x){var o={};o.start={},o.start.columnIndex=a.data.x,o.start.column=w.Nb[a.data.x],o.start.time=e,o.end={},o.end.time=t,w.Ia=o,w.le(o),w.Vc(o),i||setTimeout(function(){w.Jc(e,t,n,"api")},0)}}},w.ke=function(e,t,n){var i=w.Nb,a=w.nav.main,r="Resources"===w.viewType,o=i.find(function(n){var i=!r||n.id===t,a=n.Ub()<=e&&e<n.je();return i&&a});if(o){var l=i.indexOf(o),s=function(){for(var t=0;t<w.Yb();t++){var i=a.rows[t].cells[l];if(i){var r=i.data,o=r.start<=e&&e<=r.end;if(n&&(o=r.start<=e&&e<r.end),o)return i}}return null}();return s?s:void 0}},C.me=function(e){var i=e.div.firstChild,a=t(),r=a.style;r.position="absolute",r.left="2px",r.top="2px",r.bottom="2px",r.width="15px",r.opacity="0.5",r.cursor="move",r.display="none",a.className=w.ca("_colmove_handle"),n(i,"mouseenter",function(){C.s||_.s||(r.display="")}),n(i,"mouseleave",function(){r.display="none"}),a.onmousedown=function(t){C.ne(t,e)},i.$||(i.$={}),i.$.oe=function(){r.display="none"},i.$.pe=function(){r.display=""},i.appendChild(a)},C.ne=function(e,t){var n,i,a=w.nav.header,o={};o.qe=t,o.se=a.style.cursor;var l=t.div;C.s=o,v.colMoving=C,null===(i=null===(n=l.$)||void 0===n?void 0:n.te)||void 0===i?void 0:i.call(n),r(l,w.ca("_colmove_source")),a.style.cursor="move"},C.ve=function(e){var t=[],n=e.parent;return n&&(t.push(n.data),t=t.concat(C.ve(n))),t},C.we=function(){function e(){o(C.s.qe.div,w.ca("_colmove_source")),t&&(t.style.cursor=n.se),a&&a.remove(),C.s=null}if(!C.s.target)return void e();var t=w.nav.header,n=C.s,i=n.position,a=n.div,r=C.s.qe.column,l=r.data,s=r.parent,d=n.target,c=d.data,u=d.parent,h=u?u.data.children:w.qb(),f=s?s.data.children:w.qb();if(C.ve(d).includes(l))return void e();if(c===l)return void e();if("forbidden"===i)return void e();var v={};if(v.source=w.ec(r),v.target=w.ec(d),v.position=i,v.preventDefault=function(){v.preventDefault.value=!0},"function"==typeof w.onColumnMove&&(w.onColumnMove(v),v.preventDefault.value))return void e();if(x.xe("Update")){DayPilot.rfa(f,l);var p=h.indexOf(c);if("child"===i){var m=c.children||[];m.push(l),c.children=m}else"before"===i?h.splice(p,0,l):"after"===i&&h.splice(p+1,0,l);w.Od()}"function"==typeof w.onColumnMoved&&w.onColumnMoved(v),e()},C.hc=function(e,n){var i,a=12,r=12,o=n.data,l=w.columnMoveSameLevelOnly,s=C.s.div,d=C.s.qe.column;s?i=s.style:(s=t(),i=s.style,i.position="absolute",i.width="12px",i.height="12px",i.top="0px",C.s.div=s);var c=n.getBoundingClientRect(),u=c.width,h=c.height,f=DayPilot.mo3(n,e),v=o.children||[],p=v.length,m=0===p?.25:.5,g=null,b=C.ve(n.data);s.className="";var y=!1;d===o&&(y=!0),l&&(m=.5),b.includes(d.data)?g="forbidden":y?g="forbidden":f.x<u*m?g="before":f.x>u*(1-m)?g="after":0==p&&(g="child"),l&&d.level!==o.level&&(g="forbidden");var x={};x.position=g,x.source=w.ec(d),x.target=w.ec(n.data),"function"==typeof w.onColumnMoving&&w.onColumnMoving(x),g=x.position,"forbidden"===g?(i.left=.5*u-6+"px",i.top=h/2-2+"px",s.className=w.ca("_colmove_position_forbidden")):"before"===g?(i.left="0px",i.top=.5*h-6+"px",s.className=w.ca("_colmove_position_before")):"after"===g?(i.left=u-a-1+"px",i.top=.5*h-6+"px",s.className=w.ca("_colmove_position_after")):"child"===g&&(i.left=.5*u-6+"px",i.top=h-r-1+"px",s.className=w.ca("_colmove_position_child")),s.parentNode!==n&&(s.remove(),n.appendChild(s)),C.s.target=o,C.s.position=g},_.ye=function(e){var i=e.div.firstChild,a=t(),r=a.style;r.position="absolute",r.right="0px",r.top="0px",r.bottom="0px",r.width="4px",r.cursor="e-resize",r.display="none",a.className=w.ca("_colheader_splitter"),n(i,"mouseenter",function(){C.s||_.s||(r.display="")}),n(i,"mouseleave",function(){_.s||(r.display="none")}),a.onmousedown=function(t){_.ze(t,e)},i.$||(i.$={}),i.$.te=function(){r.display="none"},i.appendChild(a)},_.ze=function(e,t){var n,i,a=DayPilot.mo3(w.nav.header,e),r=t.column,o=t.div.firstChild,l={};if(l.Ae=a.x,l.qe=t,l.Be=t.x,l.Ce=t.column,null===(i=null===(n=o.$)||void 0===n?void 0:n.oe)||void 0===i?void 0:i.call(n),t.y!==x.Td()-1){var s=r.be(x.Td()-t.y,!0),d=s[s.length-1];d&&(l.Be=w.Nb.indexOf(d))}_.s=l,v.colResizing=_},_.fd=function(e){function t(){for(var e=0,t=u+1;t<i.length;t++)e+=i[t].width||y;return e}function n(){for(var e=t(),n=0,a=u+1;a<i.length;a++){var r=i[a],o=r.width||y,l=o/e;r.width=o-m*l,r.width<1&&(n+=1-r.width,r.width=1)}b-=n,g+=n,h=g*v}var i=w.Nb,a=DayPilot.mo3(w.nav.header,e),r=_.s.Ce,o=a.x-_.s.Ae,l=_.s.qe.y,s=l!==x.Td()-1,d="Fixed"===x.jd(),c=w.columnWidthMin,u=_.s.Be,h=0,f=w.nav.main.clientWidth,v=f/100,p=c/v,m=o/v,g=0,b=0,y=d?w.columnWidth:100/i.length;if(s){var k=r.be(x.Td()-l,!0),C=k.reduce(function(e,t){return e+(t.width||y)},0),T=d?C+o:C+m,D=T/C,S=0;if(k.forEach(function(e,t){var n=t===k.length-1,i=e.width||y,a=i*D,r=Math.round(a);d&&(S+=a-r,a=r),a<c&&(h+=a-c,a=c),e.width=a,n&&(e.width+=S)}),!d){n();var E=b,H=k.reduce(function(e,t){return e+t.width||y},0);k.forEach(function(e){var t=e.width||y,n=t/H;e.width=t+E*n})}}else{var M=w.De()[u].width,A=i[u];d?(b=M+o,b<c&&(h=b-c,b=c)):(b=A.width+m,b<p&&(g=b-p,m=p-A.width,b=p),b=Math.max(b,1),n()),A.width=b}_.s.Ae=a.x-h,w.Zd(),w.Ka(),_.Ee()},_.Fe=function(){var e,t,n=w.Nb,i=_.s.qe.div.firstChild,a=_.s.Ce;null===(t=null===(e=i.$)||void 0===e?void 0:e.pe)||void 0===t?void 0:t.call(e),_.s=null;var r={};return r.column=w.ec(a),r.newWidth=a.width,r.preventDefault=function(){r.preventDefault.value=!0},"function"==typeof w.onColumnResize&&w.onColumnResize(r),r.preventDefault.value?void w.update():(x.Ge("Update")&&n.forEach(function(e){e.data.width=e.width}),void("function"==typeof w.onColumnResized&&w.onColumnResized(r)))},_.Ee=function(){var e=w.De(),t="Fixed"===x.jd(),n=w.nav.header,i=w.nav.main,a=w.nav.events,r=w.nav.unifiedCornerRight;n.rows.forEach(function(e,t){if(t!==x.Td()-1){var n=w.He(t);e.cells.forEach(function(e,t){var i=n[t];e.style.left=i.left+i.unit,e.style.width=i.width+i.unit})}});for(var o=x.Td()-1,l=0;l<w.Nb.length;l++){var s=e[l],d=n.rows[o].cells[l];d.style.left=s.left+s.unit,d.style.width=s.width+s.unit,t&&(d.firstChild.style.width=s.width+s.unit)}if(i.rows.forEach(function(n){n.cells.forEach(function(n,i){var a=e[i].width+e[i].unit,r=e[i].left+e[i].unit;n.style.width!==a&&(n.style.width=a,t&&(n.firstChild.style.width=a)),n.style.left!==r&&(n.style.left=r)})}),a.rows[0].cells.forEach(function(n,i){var a=e[i].width+e[i].unit,r=e[i].left+e[i].unit;n.style.width!==a&&(n.style.width=a,t&&(n.firstChild.style.width=a)),n.style.left!==r&&(n.style.left=r)}),t){var c=e[e.length-1],u=c.left+c.width;r.style.left=u+"px",i.style.width=u+"px"}},this.Zd=function(){if("Fixed"!==x.jd()){var e=w.Nb,t=100/e.length,n=e.reduce(function(e,n){return e+(n.width||t)},0),i=n/100;e.forEach(function(e){var n=e.width||t;e.width=n/i})}},this.Gb=function(){if(this.showAllDayEvents){var e=this.nav.header;if(e){e.style.display="none";for(var n=this.Nb.length,i=0;i<this.Ie.lines.length;i++)for(var l=this.Ie.lines[i],s=function(e){var s=l[e],f=s.cache||s.data,v=t();v.style.position="absolute",w.rtl?v.style.right=100*s.part.colStart/n+"%":v.style.left=100*s.part.colStart/n+"%",v.style.width=100*s.part.colWidth/n+"%",v.style.height=x.Je()+"px",v.style.top=w.Ke()+i*x.Je()+"px";var p=t();p.event=s,p.style.position="absolute",p.style.inset="2px",p.className=h.ca("_alldayevent"),w.allDayEventTextWrappingEnabled||(p.style.whiteSpace="nowrap"),f.cssClass&&r(p,f.cssClass),p.style.textAlign="left",p.style.lineHeight="1.2",s.client.clickEnabled()&&(p.onclick=h.Zb),s.client.doubleClickEnabled()&&(p.ondblclick=h.cc),s.client.clickEnabled()||s.client.doubleClickEnabled()?p.style.cursor="pointer":p.style.cursor="default",a(p,"contextmenu",h.dc),p.onmousemove=function(e){var t=e.currentTarget,n=t.event,i=n.cache||n.data;if(!t.active){var a=[];n.client.deleteEnabled()&&a.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":3,"right":3,"css":w.ca("_event_delete"),"js":function(e){w.jc(e)}});var o=i.areas;o&&o.length>0&&(a=a.concat(o)),DayPilot.Areas.showAreas(t,n,null,a),r(t,w.ca("_alldayevent_hover"))}"undefined"!=typeof DayPilot.Bubble&&w.bubble&&"Disabled"!==w.eventHoverHandling&&w.bubble.showEvent(this.event)},p.onmouseout=function(e){o(e.currentTarget,w.ca("_alldayevent_hover")),DayPilot.Areas.hideAreas(this,e),w.bubble&&w.bubble.hideOnMouseOut()},h.showToolTip&&!h.bubble&&p.setAttribute("title",s.client.toolTip());var m=s.start().getTime()===s.part.start.getTime(),g=s.end().getTime()===s.part.end.getTime(),b=f.backColor,y=t();if(y.className=h.ca("_alldayevent_inner"),b&&(y.style.background=b),f.fontColor&&(y.style.color=f.fontColor),"darker"===f.borderColor&&f.backColor?y.style.borderColor=DayPilot.ColorUtil.darker(f.backColor,2):y.style.borderColor=f.borderColor,w.rtl?(m||r(p,h.ca("_alldayevent_continueright")),g||r(p,h.ca("_alldayevent_continueleft"))):(m||r(p,h.ca("_alldayevent_continueleft")),g||r(p,h.ca("_alldayevent_continueright"))),p.appendChild(y),DayPilot.isArray(f.areas)&&f.areas.filter(function(e){return DayPilot.Areas.isVisible(e)}).forEach(function(e){var t=DayPilot.Areas.createArea(p,s,e);p.appendChild(t)}),function(){var e={};if(e.control=w,e.e=s,e.element=null,p.domArgs=e,"function"==typeof w.onBeforeEventDomAdd&&w.onBeforeEventDomAdd(e),e.element){var t=y;if(t){e.Le=t;var n=d(e.element),i=c(e.element),a=u(e.element);if(n)w.W.Me(),w.W.V(e.element,t);else if(i){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Z(e.element,t,e.props),w.Y.Oe=!1}else if(a){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Pe(e.element,t),w.Y.Oe=!1}else t.appendChild(e.element)}}else y.innerHTML=s.client.innerHTML()}(),w.Kb()){if("function"==typeof w.onAfterEventRender){var k={};k.e=p.event,k.div=p,w.onAfterEventRender(k)}}else w.afterEventRender&&w.afterEventRender(p.event,p);v.appendChild(p),h.nav.allday.appendChild(v),h.elements.events.push(p)},h=this,f=0;f<l.length;f++)s(f);e.style.display=""}}},this.Ya=function(e){if(w.multiselect.Kd(),this.elements.events)for(var t=0;t<this.elements.events.length;t++){var n=this.elements.events[t],i=n.event;i&&e&&!i.allday()||w.Qe(n)}this.elements.events=[]},this.Qe=function(e){var t=e.event,n=e.domArgs;if(e.domArgs=null,n&&"function"==typeof w.onBeforeEventDomRemove&&w.onBeforeEventDomRemove(n),n&&"function"==typeof w.onBeforeEventDomAdd){var i=n&&n.Le;if(i){var a=w.W.reactDOM&&d(n.element),r=w.Y.Ne&&(c(n.element)||u(n.element));a?w.W.ka(i):r&&(w.Y.Oe=!0,w.Y.la(i),w.Y.Oe=!1)}}if(t&&(t.div=null,t.root=null,t.rendered=!1),e.onclick=null,e.onclickSave=null,e.ondblclick=null,e.oncontextmenu=null,e.onmouseover=null,e.onmouseout=null,e.onmousemove=null,e.onmousedown=null,e.firstChild&&e.firstChild.firstChild&&e.firstChild.firstChild.tagName&&"IMG"===e.firstChild.firstChild.tagName.toUpperCase()){var o=e.firstChild.firstChild;o.onmousedown=null,o.onmousemove=null,o.onclick=null}e!==v.moving&&(e.helper=null,e.event=null),p(e)},this.Re=function(e){if(e.isAllDay())return!0;var t=w.Se(e.part.dayIndex),n=this.xd(),i=n.pixels.left,a=n.pixels.right,r=n.pixels.top,o=n.pixels.bottom,l=e.part.width/100*t.width,s=t.width*e.part.left/100+t.left,d=s+l,c=e.part.top-this.rd(),u=c+e.part.height,h=a<=s||i>=d,f=o<=c||r>=u;return!h&&!f},this.xd=function(){if(w.va.wa)return w.va.wa;var e=w.kd();if(!e)return null;var t={},n=w.rtl?-e.scrollLeft:e.scrollLeft,i=e.scrollTop,a={};a.left=n,a.right=n+e.clientWidth,a.top=i,a.bottom=i+e.clientHeight,a.width=e.scrollWidth;var r=w.dynamicEventRenderingMarginX;r&&(a.left-=r,a.right+=r,a.left<0&&(a.left=0),a.right>a.width&&(a.right=a.width));var o=w.dynamicEventRenderingMarginY;if(o){a.top-=o,a.bottom+=o;var l=w.Te();a.top<0&&(a.top=0),a.bottom>l&&(a.bottom=l)}for(var s=w.De(),d=null,c=null,u=0;u<s.length;u++){var h=s[u],f=h.left+h.width;if(null===d&&f>a.left&&(d=u),null!==d&&null===c&&(f>=a.right||u===s.length-1)){c=u;break}}var v=Math.floor(a.top/w.cellHeight);v=DayPilot.Util.atLeast(0,v);var p=Math.ceil(a.bottom/w.cellHeight);return p=DayPilot.Util.atMost(w.Yb()-1,p),t.xStart=d,t.xEnd=c,t.yStart=v,t.yEnd=p,t.pixels=a,w.va.wa=t,t},this.Se=function(e){return w.va.xa||(w.va.xa=w.De()),w.va.xa[e]},this.Ue=function(e){var o=this.nav.events,l=e.cache||e.data;if(!e.rendered){var s=l.borderRadius||w.eventBorderRadius;"number"==typeof s&&(s+="px");var h=w.multiselect.Dd(e),f=w.Re(e),v="Progressive"===w.dynamicEventRendering&&"Fixed"===x.jd();if(h||!v||f){var p=t();p.style.userSelect="none",p.style.webkitUserSelect="none",p.style.position="absolute",p.className=this.ca("_event"),p.style.left=e.part.left+"%",p.style.top=e.part.top-this.rd()+"px",p.style.width=e.part.width+"%",p.style.height=Math.max(e.part.height,2)+"px",p.style.overflow="hidden",p.isFirst=e.part.start.getTime()===e.start().getTime(),p.isLast=e.part.end.getTime()===e.end().getTime(),e.client.clickEnabled()&&(p.onclick=this.Zb),e.client.doubleClickEnabled()&&(p.ondblclick=this.cc),a(p,"contextmenu",this.dc),p.onmousemove=this.Ve,p.onmouseout=this.We,p.onmousedown=this.Xe,i(p,DayPilot.touch.start,this.Ca.onEventTouchStart),n(p,DayPilot.touch.move,this.Ca.onEventTouchMove),i(p,DayPilot.touch.end,this.Ca.onEventTouchEnd),p.addEventListener("mouseenter",this.Ye),p.addEventListener("mouseleave",this.Ze),l.cssClass&&r(p,l.cssClass),this.showToolTip&&!this.bubble&&p.setAttribute("title",e.client.toolTip());var m=t();if(m.className=w.ca("_event_inner"),l.fontColor&&(m.style.color=l.fontColor),l.backColor&&(m.style.background=l.backColor),l.borderColor&&("darker"===l.borderColor&&l.backColor?m.style.borderColor=DayPilot.ColorUtil.darker(l.backColor,2):m.style.borderColor=l.borderColor),l.backgroundImage&&(m.style.backgroundImage="url("+l.backgroundImage+")",l.backgroundRepeat&&(m.style.backgroundRepeat=l.backgroundRepeat)),s&&(p.style.borderRadius=s,m.style.borderRadius=s),p.appendChild(m),e.client.barVisible()){var g=e.part.height-2,b=100*e.part.barTop/g,y=Math.ceil(100*e.part.barHeight/g),k=t();k.className=this.ca("_event_bar"),k.style.position="absolute",l.barBackColor&&(k.style.backgroundColor=l.barBackColor);var C=t();C.className=this.ca("_event_bar_inner"),C.style.top=b+"%",0<y&&y<=1?C.style.height="1px":C.style.height=y+"%",l.barColor&&(C.style.backgroundColor=l.barColor),k.appendChild(C),p.appendChild(k)}var _=l.areas?DayPilot.Areas.copy(l.areas):[],T=w.Nb[e.part.dayIndex];if(_.forEach(function(t){t.start&&(t.top=w.vc(new DayPilot.Date(t.start),T.start).top-e.part.top-w.rd()),t.end&&(t.bottom=e.part.top+e.part.height-w.vc(new DayPilot.Date(t.end),T.start).top-w.rd())}),e.client.deleteEnabled()&&(w.rtl?_.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"left":2,"css":w.ca("_event_delete"),"js":function(e){w.jc(e)}}):_.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":w.ca("_event_delete"),"js":function(e){w.jc(e)}})),DayPilot.Areas.attach(p,e,{"areas":_}),function(){var t={};if(t.control=w,t.e=e,t.element=null,p.domArgs=t,"function"==typeof w.onBeforeEventDomAdd&&w.onBeforeEventDomAdd(t),t.element){var n=m;if(n){t.Le=n;var i=d(t.element),a=c(t.element),r=u(t.element);if(i)w.W.Me(),w.W.V(t.element,n);else if(a){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Z(t.element,n,t.props),w.Y.Oe=!1}else if(r){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Pe(t.element,n),w.Y.Oe=!1}else n.appendChild(t.element)}}else m.innerHTML=e.client.innerHTML()}(),o.rows[0].cells[e.part.dayIndex]){if(o.rows[0].cells[e.part.dayIndex].events.appendChild(p),p.event=e,w.multiselect.Dd(e)&&w.multiselect.add(p.event,!0),e.rendered=!0,w.Kb()){if("function"==typeof w.onAfterEventRender){var D={};D.e=p.event,D.div=p,w.onAfterEventRender(D)}}else w.afterEventRender&&w.afterEventRender(p.event,p);w.elements.events.push(p)}}}},this.Fb=function(){for(var e=0;e<this.Nb.length;e++){var t=this.Nb[e];if(t.blocks)for(var n=0;n<t.blocks.length;n++)for(var i=t.blocks[n],a=0;a<i.lines.length;a++)for(var r=i.lines[a],o=0;o<r.length;o++){var l=r[o];if(l.part.width=100/i.lines.length,l.part.left=l.part.width*a,"Cascade"===this.eventArrangement){var s=a===i.lines.length-1;s||(l.part.width=1.5*l.part.width)}"Full"===this.eventArrangement&&(l.part.left=l.part.left/2,l.part.width=100-l.part.left),l.allday()||this.Ue(l)}}this.multiselect.redraw()},this.nd=function(){w.elements.events.forEach(function(e){e.event&&!w.Re(e.event)&&w.Qe(e)}),w.va.$e.forEach(function(e){w.Ue(e)}),w.elements.events=w.elements.events.filter(function(e){return!!e.event})},this.pd=function(){if(w.Nb&&0!==w.Nb.length){for(var e=w.xd(),t=e.xStart;t<=e.xEnd;t++)for(var n=e.yStart;n<=e.yEnd;n++)w._e(t,n);w.af()}},w.af=function(){for(var e=w.xd(),t=this.Yb(),n=w.Nb.length,i=0;i<n;i++){var a=!0;e.xStart<=i&&i<=e.xEnd&&(a=!1);for(var r=0;r<t;r++){var o=!0;e.yStart<=r&&r<=e.yEnd&&(o=!1);var l=w.elements.cells[i+"_"+r];l&&(o||a)&&(l.remove(),w.elements.cells[i+"_"+r]=null)}}},this.ca=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.bf=function(){switch(w.Ga){case"aspnet":if(!this.Ua())throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");break;case"netmvc":if(!this.backendUrl)throw new DayPilot.Exception("DayPilot.Calendar.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");break;case"javaxx":if(!this.backendUrl)throw new DayPilot.Exception("DayPilot.Calendar.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")}},this.D=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.cf=function(){var e=this.Vb()+this.df();return w.debug.message("Getting totalHeight, headerHeight: "+this.Vb()+" scrollable: "+this.df()),e<0?0:e},this.bb=function(){w.gb()},this.ef=function(){var e=this.nav.top;e.dp=this,e.innerHTML="",e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.WebkitTapHighlightColor="rgba(0,0,0,0)",e.style.WebkitTouchCallout="none",e.style.position="relative",this.width&&(e.style.width=this.width),
this.rtl&&(e.style.direction="rtl"),"Parent100Pct"===this.heightSpec?e.style.height="100%":e.style.height=this.cf()+"px",this.hideUntilInit&&(e.style.visibility="hidden"),this.visible||(e.style.display="none"),e.addEventListener("mouseleave",w.bb);var n=t();if(this.nav.scroll=n,n.style.height=this.df()+"px",n.style.position="relative",this.showHeader){var i=this.ff();e.appendChild(i)}n.style.zoom=1,n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.top=this.Vb()+"px",n.className=w.ca("_scroll");var a=this.gf();this.nav.scrollable=a.firstChild,n.appendChild(a),e.appendChild(this.nav.scroll),this.nav.vsph=t(),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=w.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,e.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=w.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,e.appendChild(this.nav.select),this.nav.scrollLayer=t(),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",e.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[];var r=t();r.style.position="absolute",r.style.top="0px",r.style.left=this.hourWidth+5+"px",r.className=w.ca("_loading"),r.innerHTML=w.La(this.loadingLabelText,this.loadingLabelHtml),r.style.display="none",this.nav.loading=r,e.appendChild(r)},this.hf=function(){for(var e="Fixed"===x.jd(),t=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1],n=this.nav.events.rows[0],i=0;i<w.Nb.length;i++){var a=t&&t.cells[i],r=n.cells[i],o=a&&a.firstChild,l=w.Nb[i];if(e){var s=l.width?l.width:w.columnWidth;o&&(o.style.width=s+"px"),r&&(r.style.width=s+"px")}else w.ra||(o&&(o.style.width=null),r&&(r.style.width=null))}},this.Wb=function(){return this.qa?w.nav.bottomRight:w.nav.scroll},this.Db=function(){var e="Fixed"===x.jd();if(!e){var t=w.Wb();"Fixed"===this.heightSpec?t.style.overflowY="scroll":"BusinessHours"===this.heightSpec&&this.Pb()<=this.businessEndsHour-this.businessBeginsHour?t.style.overflow="hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?t.style.overflow="auto":t.style.overflow="hidden"}var n=w.nav.headerParent;if(e){var i=0,a=w.if();a>w.kd().clientWidth&&(i=DayPilot.sw(w.nav.bottomRight)),n&&(w.nav.headerParent.style.width=a+i+"px"),w.nav.main.style.width=a+"px",w.nav.events.style.width=a+"px",w.nav.crosshair.style.width=a+"px"}else n&&(n.style.width="100%"),w.nav.main.style.width="100%",w.nav.events.style.width="100%",w.nav.crosshair.style.width="100%";this.hf()},this.Ab=function(){this.Za(),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this.jf(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.Za=function(){if(this.nav.hourTable){w.elements.timeHeaders.forEach(function(e){var t=e.domArgs;if(e.domArgs=null,"function"==typeof w.onBeforeTimeHeaderDomRemove&&w.onBeforeTimeHeaderDomRemove(t),"function"==typeof w.onBeforeTimeHeaderDomAdd){var n=t&&t.Le;if(n){var i=w.W.reactDOM&&d(t.element),a=w.Y.Ne&&(c(t.element)||u(t.element));i?w.W.ka(n):a&&(w.Y.Oe=!0,w.Y.la(n),w.Y.Oe=!1)}}});for(var e=0;e<this.nav.hourTable.rows.length;e++){var t=this.nav.hourTable.rows[e],n=t.cells[0].firstChild;n.data=null,n.onmousemove=null,n.onmouseout=null}w.elements.timeHeaders=[]}},this.gf=function(){var e=t();e.style.zoom=1,e.style.position="relative",e.onmousemove=this.kf,e.oncontextmenu=this.lf,i(e,DayPilot.touch.start,this.Ca.mf),i(e,DayPilot.touch.move,this.Ca.nf),i(e,DayPilot.touch.end,this.Ca.of),a(e,"contextmenu",function(e){e.preventDefault()}),navigator.msPointerEnabled&&(e.style.msTouchAction="none",e.style.touchAction="none"),e.daypilotMainD=!0,e.calendar=this;var n=null,r=null;if(this.showHours){var o=t();o.style.cssFloat="left",w.rtl&&(o.style.cssFloat="right"),o.style.width=this.hourWidth+"px",o.style.height=this.df()+"px",o.style.overflow="hidden",o.style.position="relative",e.appendChild(o),n=o;var l=30,s=w.Te()+l;r=t(),r.style.height=s+"px",o.appendChild(r)}var d=t();d.style.height=this.df()+"px",this.showHours&&(w.rtl?d.style.marginRight=this.hourWidth+"px":d.style.marginLeft=this.hourWidth+"px"),d.style.position="relative",d.style.overflow="auto",e.appendChild(d),r&&(this.nav.hourTable=this.jf(),r.appendChild(this.nav.hourTable));var c=t();c.style.height="0px",c.style.position="relative",c.appendChild(this.pf());var u=t();return u.style.position="absolute",u.style.top="0px",u.style.left="0px",u.style.width="100%",u.style.height="0px",c.appendChild(u),this.nav.crosshair=u,c.appendChild(this.qf()),d.appendChild(c),this.nav.grid=c,this.nav.zoom=e,this.nav.bottomLeft=n,this.nav.bottomRight=d,this.nav.hoursPlaceholder=r,e},this.rf=function(){var e=w.nav.bottomLeft;e&&(e.style.width=w.hourWidth+"px");var t=w.nav.bottomRight;w.showHours&&(w.rtl?t.style.marginRight=w.hourWidth+"px":t.style.marginLeft=w.hourWidth+"px");var n=w.nav.loading;n&&(n.style.left=w.hourWidth+5+"px");var i=w.nav.upperLeft;i&&(i.style.width=w.hourWidth+"px");var a=w.nav.corner;a&&(a.style.width=w.hourWidth+"px")},this.pf=function(){if(w.ra){var e=t();return w.nav.main=e,e}var n=document.createElement("table");return n.cellPadding="0",n.cellSpacing="0",n.border="0","Fixed"===x.jd()||(n.style.width="100%"),n.style.border="0px none",n.style.margin="0px",n.style.tableLayout="fixed",this.nav.main=n,n},this.sf=function(){return"Fixed"===x.jd()?w.if()+"px":"100%"},this.if=function(){for(var e=0,t=0;t<w.Nb.length;t++){var n=w.Nb[t];e+=n.width?n.width:w.columnWidth}return e},this.qf=function(){if(w.ra){var e=t();return e.style.userSelect="none",e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.height="0px",w.nav.events=e,e}var n=document.createElement("table");n.style.position="absolute",n.style.top="0px",n.cellPadding="0",n.cellSpacing="0",n.border="0",n.style.width=w.sf(),n.style.border="0px none",n.style.margin="0px",n.style.tableLayout="fixed",this.nav.events=n;for(var i=this.Nb,a=i.length,r=n.insertRow(-1),o=0;o<a;o++){var l=r.insertCell(-1);l.style.padding="0px",l.style.border="0px none",l.style.height="0px",l.style.overflow="visible",w.rtl||(l.style.textAlign="left"),w.tf(l)}return n},this.jf=function(){var e=t();e.style.width=this.hourWidth+"px",e.style.position="relative",e.oncontextmenu=function(){return!1},e.onmousemove=function(){w.hb()},e.rows=[];for(var n=w.uf(),i=0;i<n;i++)this.vf(e,i);return e},this.uf=function(){return this.hours?this.hours.length:this.Qb()/(60*x.wf()*1e3)};this.xf=function(){var e=x.Ob();return 60*this.cellHeight/e/(60/x.wf())};this.yf=function(){return(this.Ub()-this.Ub(!0))*(60/x.Ob())},this.zf=function(){return this.Ub()-this.Ub(!0)},this.rd=function(){return this.yf()*this.cellHeight},this.vf=function(e,n){var i=w.xf(),a=t();a.style.position="absolute",a.style.top=n*i+"px",a.style.height=i+"px",e.rows[n]=a;var r=t();a.appendChild(r),a.cells=[r];var o=t();o.className=this.ca("_rowheader"),o.style.position="relative",o.style.width=this.hourWidth+"px",o.style.height=i+"px",o.style.overflow="hidden",60!==x.wf()&&o.classList.add(this.ca("_rowheader_simple"));var l=t();l.className=this.ca("_rowheader_inner");var s=w.Af(n),h=s.html,f=s.data;f&&(o.data=f,o.onmousemove=w.Bf,o.onmouseout=w.Cf,f.cssClass&&DayPilot.Util.addClass(o,f.cssClass));var v=null,p={};if(p.header=f,"function"==typeof w.onBeforeTimeHeaderDomAdd&&(p.element=null,w.onBeforeTimeHeaderDomAdd(p),v=p.element),o.domArgs=p,v){var m=l;p.Le=m;var g=d(v),b=c(p.element),y=u(p.element);if(g)w.W.Me(),w.W.V(v,m);else if(b){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Z(p.element,m,p.props),w.Y.Oe=!1}else if(y){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Pe(p.element,m),w.Y.Oe=!1}else m.appendChild(v)}else l.innerHTML=h;if(o.appendChild(l),f&&f.areas){var k={};k.time=f.time,k.date=f.date,DayPilot.Areas.attach(o,k,{"areas":f.areas})}w.elements.timeHeaders.push(o),r.appendChild(o),e.appendChild(a)},this.Af=function(e){var n,i;if(this.hours){var a=e+this.zf();i=this.hours[a],i&&(n=i.html)}var r,o=x.wf(),l=this.startDate.addMinutes(o*e+60*this.Ub()),s=l.getHours(),d=s<12;if(r="Clock12Hours"===this.Ba.Wc()?d?"AM":"PM":"00",!n){var c=t();"Clock12Hours"===this.Ba.Wc()&&(s%=12,0===s&&(s=12));var u=x.wf();if(60!==u&&(u<=120?s+=":"+l.toString("mm"):s=u<1440?l.toString("ddd M/d h:mm tt"):l.toString("ddd M/d")),c.innerHTML=s,60===u){var h=document.createElement("span");h.className=this.ca("_rowheader_minutes"),h.innerHTML=r,c.appendChild(h)}n=c.outerHTML}var f={};f.header={},f.header.hours=l.getHours(),f.header.minutes=l.getMinutes(),f.header.start=l.toString("HH:mm"),f.header.text=null,f.header.html=n,f.header.areas=i?i.areas:null,f.header.time=new DayPilot.Duration(l.getTimePart()),f.header.cssClass=null,f.header.date=null,"Resources"===w.viewType&&(f.header.date=l),"function"==typeof w.onBeforeTimeHeaderRender&&(w.onBeforeTimeHeaderRender(f),null!==f.header.html&&(n=f.header.html)),i=f.header;var v={};return v.start=l,v.hour=s,v.html=n,v.data=i,v.sup=r,f.header.text&&(v.text=f.header.text),v},this.Bf=function(e){w.hb();var t=e.currentTarget;t.active||DayPilot.Areas.showAreas(t,t.data)},this.Cf=function(e){DayPilot.Areas.hideAreas(this,e)},this.df=function(){switch(this.heightSpec){case"Fixed":return this.height;case"Parent100Pct":return this.height;case"Full":return this.Te();case"BusinessHours":case"BusinessHoursNoScroll":if("Resources"===w.viewType&&w.days>1&&!w.hours)return w.Te();return this.Rb()*this.cellHeight*60/x.Ob();default:throw new DayPilot.Exception("DayPilot.Calendar: Unexpected 'heightSpec' value.")}},this.Te=function(){return w.Qb()*this.cellHeight/(6e4*x.Ob())},this.Vb=function(){if(!this.showHeader)return 0;var e=w.Ke();return this.showAllDayEvents&&x.Df()?e+x.Df():e},this.Ke=function(){var e=x.Td();return x.Ef(e)},this.wb=function(){if(this.headerHeightAutoFit){for(var e=0,t=0;t<this.nav.header.rows.length;t++)for(var n=this.nav.header.rows[t],i=0;i<n.cells.length;i++){var a=n.cells[i],r=a.firstChild,o=r.firstChild,l=r.style.height;r.style.height="auto",o.style.position="static";var s=r.offsetHeight;r.style.height=l,o.style.position="",e=Math.max(e,s)}e>this.headerHeight&&(this.va.headerHeight=e,this.ub(),this.vb())}},this.Ff=function(){var e=this.qa?w.nav.bottomRight:w.nav.scroll;return DayPilot.sw(e)>0},this.ff=function(){var e=t(),n="Fixed"===x.jd();n||(e.style.overflow="auto"),e.style.position="absolute",e.style.left="0px",e.style.right="0px";var i=t();i.style.position="relative",i.style.zoom="1";var a=null;if(n||this.qa){var r=t();if(r.style.cssFloat="left",w.rtl&&(r.style.cssFloat="right"),r.style.width=this.hourWidth+"px",this.showHours){var o=this.Gf();this.nav.corner=o,r.appendChild(o),i.appendChild(r),this.nav.upperLeft=r}var l=t();this.showHours&&(w.rtl?l.style.marginRight=this.hourWidth+"px":l.style.marginLeft=this.hourWidth+"px"),l.style.position="relative",l.style.overflow="hidden",l.style.height=this.Vb()+"px",l.className=w.ca("_colheader_back"),l.onmousemove=function(e){"undefined"!=typeof _&&_.s&&_.fd(e)},i.appendChild(l),this.nav.upperRight=l;var s=t();s.className=w.ca("_colheader_back_inner"),l.appendChild(s),a=t(),a.style.position="relative",l.appendChild(a)}else{var d=document.createElement("table");d.cellPadding="0",d.cellSpacing="0",d.border="0",d.style.margin="0px",d.style.width="100%",d.style.borderCollapse="separate",d.style.border="0px none";var c=d.insertRow(-1);if(this.nav.fullHeader=d,this.showHours){var u=c.insertCell(-1);u.style.padding="0px",u.style.border="0px none";var o=this.Gf();u.appendChild(o),this.nav.corner=o}var h=c.insertCell(-1);h.style.width="100%",h.valign="top",h.style.position="relative",h.style.padding="0px",h.style.border="0px none",a=t(),a.style.position="relative",a.style.height=this.Vb()+"px",a.style.overflow="hidden",h.appendChild(a),this.nav.mid=a,i.appendChild(d)}return this.nav.headerParent=a,this.nav.headerParent.onmousemove=function(e){e.insideMainD=!0},this.Hf(),this.Ff()&&!n&&this.If(),e.appendChild(i),e},this.Hf=function(){if(this.nav.unifiedCornerRight=null,w.ra)this.nav.header=t(),this.nav.header.style.position="relative";else{this.nav.header=document.createElement("table"),this.nav.header.style.margin="0px",this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0";"Fixed"===x.jd()||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1}}this.nav.header.setAttribute("dp-id","header"),this.nav.headerParent.appendChild(this.nav.header),this.nav.header.onmousemove=function(){w.hb()},this.nav.allday&&p(this.nav.allday);var e=t();e.style.position="absolute",e.style.top="0px",e.style.height="0px",e.setAttribute("dp-id","allday"),"Fixed"===x.jd()?e.style.width=this.Nb.length*this.columnWidth+"px":(e.style.left="0px",e.style.right="0px"),this.nav.allday=e,this.nav.headerParent.appendChild(e)},this.If=function(){if(this.nav.fullHeader){var e=this.nav.fullHeader.rows[0],n=e.insertCell(-1);n.style.padding="0px",n.style.verticalAlign="top";var i=t();i.className=this.ca("_cornerright"),i.style.overflow="hidden",i.style.position="relative",i.style.width="16px",i.style.height=this.Vb()+"px";var a=t();a.className=this.ca("_cornerright_inner"),i.appendChild(a),n.appendChild(i),this.nav.cornerRight=i}},this.Gf=function(){var e=t();e.style.position="relative",e.className=this.ca("_corner"),e.style.width=this.hourWidth+"px",e.style.height=this.Vb()+"px",e.style.overflow="hidden",e.oncontextmenu=function(){return!1};var n=t();n.className=this.ca("_corner_inner"),e.appendChild(n);var i=t();return i.style.position="absolute",i.style.padding="2px",i.style.top="0px",i.style.left="1px",i.style.backgroundColor="#FF6600",i.style.color="white",i.innerHTML="\u0044\u0045"+"\u004D\u004F",DayPilot.Util.isNullOrUndefined(undefined)&&e.appendChild(i),e},this.ab=function(){if(w.nav.corner&&w.nav.corner.firstChild){var e=w.nav.corner.firstChild,t=e.domArgs;if(e.domArgs=null,t&&("function"==typeof w.onBeforeCornerDomRemove&&w.onBeforeCornerDomRemove(t),"function"==typeof w.onBeforeCornerDomAdd&&e)){var n=w.W.reactDOM&&d(t.element),i=w.Y.Ne&&(c(t.element)||u(t.element));n?w.W.ka(e):i&&(w.Y.Oe=!0,w.Y.la(e),w.Y.Oe=!1)}}},this.$a=function(){var e=this.nav.main;e.root=null,e.onmouseup=null;for(var t=0;t<e.rows.length;t++){var n=e.rows[t];if(n)for(var i=0;i<n.cells.length;i++){var a=n.cells[i];w.Jf(a)}}this.sa||DayPilot.pu(e)},this.Jf=function(e){e&&(!function(){var t=e,n=t.domArgs;if(t.domArgs=null,n&&"function"==typeof w.onBeforeCellDomRemove&&w.onBeforeCellDomRemove(n),n&&"function"==typeof w.onBeforeCellDomAdd){var i=n&&n.Le;if(i){var a=w.W.reactDOM&&d(n.element),r=w.Y.Ne&&(c(n.element)||u(n.element));a?w.W.ka(i):r&&(w.Y.Oe=!0,w.Y.la(i),w.Y.Oe=!1)}}}(),e.root=null,e.onmousedown=null,e.onmousemove=null,e.onmouseout=null,e.onmouseup=null,e.onclick=null,e.ondblclick=null,e.oncontextmenu=null)},this.xb=function(){for(var e=0;this.nav.scrollUp&&e<this.nav.scrollUp.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);for(var e=0;this.nav.scrollDown&&e<this.nav.scrollDown.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.tf=function(e){var n=t();n.style.marginRight=w.columnMarginRight+"px",n.style.marginLeft=w.columnMarginLeft+"px",n.style.position="relative",n.style.height="1px",n.style.marginTop="-1px",e.events=n;var i=t();i.style.position="relative",i.style.height="1px",i.style.marginTop="-1px",e.separators=i;var a=t();a.style.position="relative",a.style.height="1px",a.style.marginTop="-1px",e.selection=a,e.appendChild(i),e.appendChild(a),e.appendChild(n)},this.zb=function(){w.ra?w.Kf():w.Lf()},this.Mf=function(){if(this.scrollLabelsVisible){var e=this.Nb,n=this.showHours?this.hourWidth:0,i=(this.nav.scroll.clientWidth-n)/e.length;"Fixed"===x.jd()&&(i=w.columnWidth);for(var a=0;a<e.length;a++){var r=t();r.style.position="absolute",r.style.top="0px",r.style.left=n+2+a*i+i/2+"px",r.style.display="none";var o=t();o.style.height="10px",o.style.width="10px",o.className=this.ca("_scroll_up"),r.appendChild(o),this.nav.scrollLayer.appendChild(r),this.nav.scrollUp.push(r);var l=t();l.style.position="absolute",l.style.top="0px",l.style.left=n+2+a*i+i/2+"px",l.style.display="none";var s=t();s.style.height="10px",s.style.width="10px",s.className=this.ca("_scroll_down"),l.appendChild(s),this.nav.scrollLayer.appendChild(l),this.nav.scrollDown.push(l)}}},this.Nf=function(){var e=this.nav.events;e.innerHTML="",e.rows=[{"cells":[]}],w.De().forEach(function(n){var i=t();i.style.height="1px",i.style.overflow="visible",i.style.position="absolute",i.style.left=n.left+n.unit,i.style.right=n.left+n.unit,i.style.width=n.width+n.unit,w.tf(i),e.appendChild(i),e.rows[0].cells.push(i)})},this.De=function(){function e(e){return e}var t=w.Ud(),n=w.Nb,i="Fixed"===x.jd(),a=0;return DayPilot.list.for(n.length,function(r){var o={},l=0,s="";return i?(s="px",l=n[r].width?n[r].width:w.columnWidth):(s="%",l=t?n[r].width:e(100/n.length)),o.left=a,o.width=l,o.unit=s,a+=l,o})},this.Kf=function(){var e=this.nav.main,t=this.nav.scrollable,n=this.Yb(),i=w.Nb;!function(){w.elements.cells={},e.innerHTML="",e.rows=[]}(),t.daypilotMainD=!0,t.calendar=this,w.Mf(),w.Nf();for(var a=0;a<n;a++){e.rows.push({"cells":[]});for(var r=0;r<i.length;r++)w._e(r,a)}e.style.height=n*w.cellHeight+"px"},w.Of=function(e,t){var n={},i=w.Se(e),a=t*w.cellHeight;return n.left=i.left,n.width=i.width,n.right=n.left+n.width,n.top=a,n.height=w.cellHeight,n.bottom=n.top+n.height,n},w._e=function(e,n){var i="Fixed"===x.jd();if(!w.elements.cells[e+"_"+n]){if(i){var o=w.Of(e,n),l=w.xd(),h=l.pixels.right<=o.left||l.pixels.left>=o.right,p=l.pixels.bottom<=o.top||l.pixels.top>=o.bottom;if(!(!h&&!p))return}var m=w.Se(e),g=60*x.Ob()*1e3,b=n*w.cellHeight,y=w.Nb[e],k=t();k.style.position="absolute",k.style.left=m.left+m.unit,k.style.right=m.left+m.unit,k.style.width=m.width+m.unit,k.style.top=b+"px",k.start=y.start.addTime(n*g).addHours(w.Ub()),k.end=k.start.addTime(g),k.resource=y.id,k.data={},k.data.x=e,k.data.y=n,k.data.start=k.start,k.data.end=k.end,k.data.resource=k.resource,k.data.calendar=w,w.cellProperties||(w.cellProperties={});var C={};C.resource=k.resource,C.start=k.start,C.end=k.end,C.x=e,C.y=n,Object.defineProperty(C,"column",{get:function(){return w.ec(w.Nb[this.x])}});var _=e+"_"+n,T=["cssClass","html","backImage","backRepeat","backColor","business","areas","disabled"];if(C.properties=w.cellProperties[_],!w.cellProperties[_]){var D=C.properties={};D.cssClass=null,D.html=null,D.text=null,D.backImage=null,D.backRepeat=null,D.backColor=null,D.business=w.Pf(k.start,k.end),D.fontColor=null,w.cellProperties[_]=D}if("function"==typeof w.onBeforeCellRender){var S={};S.cell=C,w.onBeforeCellRender(S),s(S.cell,S.cell.properties,T)}var E,H=w.Qf(e,n);k.root=w,E=t(),E.className=w.ca("_cell"),E.style.position="relative",E.style.height=w.cellHeight+"px",E.style.overflow="hidden";var M=t();M.className=w.ca("_cell_inner"),E.appendChild(M),k.appendChild(E),k.onmousedown=w.Sc,k.onmousemove=w.ed,k.onmouseout=w.dd,a(k,DayPilot.touch.end,w.Ca.Rf),k.oncontextmenu=function(){if(!w.Tc(w.coords)){var e=v.selecting={};e.start=w.coords,e.start.time=w.wc(w.coords.x,w.coords.y),e.start.columnIndex=w.Mb(w.coords.x),e.start.column=w.Nb[e.start.columnIndex],w.Uc(),w.Ia=e,v.selecting=null,w.Vc(e)}return"Disabled"===w.timeRangeRightClickHandling,!1};var A=w.Sf(e,n);E=k.firstChild;"Fixed"===x.jd()&&(y.width?E.style.width=y.width+"px":E.style.width=w.columnWidth+"px"),A&&(E.firstChild.style.background=A);(H?H.business:w.Pf(k.start,k.end))&&r(E,w.ca("_cell_business"));var R=E.firstChild;if(R&&(R.innerHTML=""),E.style.backgroundImage="",E.style.backgroundRepeat="",H&&(H.html?R.innerHTML=H.html:H.text&&(w.Ba.Ma()?R.innerText=H.text:R.innerHTML=H.text),H.cssClass&&r(E,H.cssClass),H.backImage&&(E.style.backgroundImage="url('"+H.backImage+"')"),H.backRepeat&&(E.style.backgroundRepeat=H.backRepeat),H.fontColor&&(E.style.color=H.fontColor),H.areas)){var B={};B.start=k.start,B.end=k.end,B.resource=k.resource;var N=f(H.areas).filter(function(e){return!(e.end&&new DayPilot.Date(e.end)<=k.start)&&!(e.start&&new DayPilot.Date(e.start)>=k.end)});N.forEach(function(e){if(e.start||e.end){if(e.start){var t=new DayPilot.Date(e.start).getTime()-k.start.getTime();e.top=w.Tf(t)}if(e.end){var n=new DayPilot.Date(e.end).getTime()-k.start.getTime();e.height=w.Tf(n)-e.top}}}),DayPilot.Areas.attach(E,B,{"areas":N})}if(function(){if("function"==typeof w.onBeforeCellDomAdd||"function"==typeof w.onBeforeCellDomRemove){var e={};if(e.control=w,e.cell=C,e.element=null,k.domArgs=e,"function"==typeof w.onBeforeCellDomAdd&&w.onBeforeCellDomAdd(e),e.element){var t=M;if(t){e.Le=t;var n=d(e.element),i=c(e.element),a=u(e.element);if(n){if(!w.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");w.W.V(e.element,t)}else if(i){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Z(e.element,t,e.props),w.Y.Oe=!1}else if(a){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Pe(e.element,t),w.Y.Oe=!1}else t.appendChild(e.element)}}}}(),w.nav.main.appendChild(k),w.nav.main.rows[n].cells[e]=k,w.elements.cells[e+"_"+n]=k,"function"==typeof w.onAfterCellRender){var S={};S.cell=s(C,{},["start","end","resource"]),S.div=E,w.onAfterCellRender(S)}}},this.Lf=function(){var e=x.Ob(),n=this.nav.main,i=60*e*1e3,o=this.Yb(),l=w.Nb,d=0;for(n&&(d=w.kd().scrollTop,this.$a()),this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;n&&n.rows&&n.rows.length>0;)this.sa||DayPilot.pu(n.rows[0]),n.deleteRow(0);if(this.Uf=!0,this.scrollLabelsVisible)for(var c=this.Nb,u=this.showHours?this.hourWidth:0,h=(this.nav.scroll.clientWidth-u)/c.length,p=0;p<c.length;p++){var m=t();m.style.position="absolute",m.style.top="0px",m.style.left=u+2+p*h+h/2+"px",m.style.display="none";var g=t();g.style.height="10px",g.style.width="10px",g.className=this.ca("_scroll_up"),m.appendChild(g),this.nav.scrollLayer.appendChild(m),this.nav.scrollUp.push(m);var b=t();b.style.position="absolute",b.style.top="0px",b.style.left=u+2+p*h+h/2+"px",b.style.display="none";var y=t();y.style.height="10px",y.style.width="10px",y.className=this.ca("_scroll_down"),b.appendChild(y),this.nav.scrollLayer.appendChild(b),this.nav.scrollDown.push(b)}var k=l.length;if(this.oa){for(var C=this.nav.events;C&&C.rows&&C.rows.length>0;)this.sa||DayPilot.pu(C.rows[0]),C.deleteRow(0);for(var _=C.insertRow(-1),T=0;T<k;T++){var D=_.insertCell(-1);D.style.padding="0px",D.style.border="0px none",D.style.height="1px",D.style.overflow="visible";"Fixed"===x.jd()&&(l[T].width?D.style.width=l[T].width+"px":D.style.width=this.columnWidth+"px"),w.rtl||(D.style.textAlign="left"),w.tf(D)}}for(var p=0;p<o;p++){var _=n.insertRow(-1),S=p;_.style.userSelect="none",_.style.webkitUserSelect="none";for(var E=function(e){var n=H.Nb[e],o=_.insertCell(-1);o.start=n.start.addTime(S*i).addHours(H.Ub()),o.end=o.start.addTime(i),o.resource=n.id,H.cellProperties||(H.cellProperties={});var l={};l.resource=o.resource,l.start=o.start,l.end=o.end;var d=e+"_"+S;if(l.cssClass=null,l.html=null,l.backImage=null,l.backRepeat=null,l.backColor=null,l.business=H.Pf(o.start,o.end),H.cellProperties[d]&&s(H.cellProperties[d],l,["cssClass","html","backImage","backRepeat","backColor","business","areas","disabled"]),"function"==typeof H.onBeforeCellRender){var c={};c.cell=l,H.onBeforeCellRender(c)}H.cellProperties[d]=l;var u=w.Qf(e,S),h=void 0;o.root=H,h=t(),h.className=w.ca("_cell"),h.style.position="relative",h.style.height=w.cellHeight+"px",h.style.overflow="hidden";var p=t();p.className=w.ca("_cell_inner"),h.appendChild(p),o.appendChild(h),o.onmousedown=H.Sc,o.onmousemove=H.ed,o.onmouseout=H.dd,a(o,DayPilot.touch.end,H.Ca.Rf),o.oncontextmenu=function(){if(!w.Tc(w.coords)){var e=v.selecting={};e.start=w.coords,e.start.time=w.wc(w.coords.x,w.coords.y),e.start.columnIndex=w.Mb(w.coords.x),e.start.column=w.Nb[e.start.columnIndex],w.Uc(),w.Ia=e,v.selecting=null,w.Vc(e)}return"Disabled"===w.timeRangeRightClickHandling,!1};var m=w.Sf(e,S);h=o.firstChild,"Fixed"===x.jd()&&(n.width?h.style.width=n.width+"px":h.style.width=H.columnWidth+"px"),m&&(h.firstChild.style.background=m),(u?u.business:H.Pf(o.start,o.end))&&r(h,w.ca("_cell_business"));var g=h.firstChild;if(g&&(g.innerHTML=""),h.style.backgroundImage="",h.style.backgroundRepeat="",u&&(u.html&&(g.innerHTML=u.html),u.cssClass&&r(h,u.cssClass),u.backImage&&(h.style.backgroundImage="url('"+u.backImage+"')"),u.backRepeat&&(h.style.backgroundRepeat=u.backRepeat),u.areas)){var b={};b.start=o.start,b.end=o.end,b.resource=o.resource;var y=f(u.areas).filter(function(e){return!(e.end&&new DayPilot.Date(e.end)<=o.start)&&!(e.start&&new DayPilot.Date(e.start)>=o.end)});y.forEach(function(e){if(e.start||e.end){if(e.start){var t=new DayPilot.Date(e.start).getTime()-o.start.getTime();e.top=w.Tf(t)}if(e.end){var n=new DayPilot.Date(e.end).getTime()-o.start.getTime();e.height=w.Tf(n)-e.top}}}),DayPilot.Areas.attach(h,b,{"areas":y})}},H=this,T=0;T<k;T++)E(T)}n.onmouseup=this.gd,n.root=this,n.style.height=o*w.cellHeight+"px",w.nav.scrollable.style.display="",w.kd().scrollTop=d},this.lf=function(){var e=w.getSelection();if(e){var t={};if(t.start=e.start,t.end=e.end,t.resource=e.resource,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof w.onTimeRangeRightClick&&(w.onTimeRangeRightClick(t),t.preventDefault.value))return!1;"ContextMenu"===w.timeRangeRightClickHandling&&w.contextMenuSelection&&w.contextMenuSelection.show(w.getSelection()),"function"==typeof w.onTimeRangeRightClicked&&w.onTimeRangeRightClicked(t)}},this.Pf=function(e){var t=x.Ob();if(t<=1440&&!w.businessWeekends&&(0===e.dayOfWeek()||6===e.dayOfWeek()))return!1;if(t<720){var n=e.getHours();n+=e.getMinutes()/60,n+=e.getSeconds()/3600,n+=e.getMilliseconds()/36e5;var i=this.businessBeginsHour,a=this.businessEndsHour;if(0===a&&(a=24),i===a)return!1;if(!(i<a))return n<a||n>=i;if(n<i)return!1;if(a>=24)return!0;if(n>=a)return!1}return!0},this.kf=function(e){e.insideMainD=!0;for(var t=0;t<m.Vf.length;t++){var n=m.Vf[t];n!==w&&n.gb&&n.gb()}m.activeCalendar=this;var i=w.nav.main;w.coords=DayPilot.mo3(i,e);var a=DayPilot.mc(e);if(w.crosshairType&&"Disabled"!==w.crosshairType&&w.Wf(),v.resizing)w.Xf(a);else if(v.moving){if(!v.moving.helper)return p(m.movingShadow),void(m.movingShadow=null);if(!m.movingShadow){var l=3;if(!(DayPilot.distance(a,m.Yf)>l))return;m.movingShadow=w.Lb(v.moving,!0),m.movingShadow.style.width=m.movingShadow.parentNode.offsetWidth+1+"px"}var s=m.movingShadow;if(!w.coords)return;r(v.moving,w.ca("_event_moving_source"));var d=w.cellHeight,c=w.snapToGrid&&w.snapToGridEventMoving,u=0,h=m.moveOffsetY;h||(h=d/2),"Top"===this.moveBy&&(h=0);var f=v.moving.event,g=Math.floor((w.coords.y-h-u+d/2)/d)*d+u;c||(g=w.coords.y-h);var b=!w.ta;g<u&&b&&(g=u);var y=w.nav.main,k=w.ra?w.Yb()*w.cellHeight:y.clientHeight,C=parseInt(s.style.height);g+C>k&&b&&(g=k-C);var _=w.Mb(w.coords.x);_<0&&(_=0),_>=w.Nb.length&&(_=w.Nb.length-1);var T=w.yc(f,_,g);if(w.ta){var D=v.moving.helper.Zf;T=w.uc(f,w.coords,D),m.movingShadow.style.display="none"}var S=w.eventMovingStartEndFormat;"Auto"===S&&(S="Clock24Hours"===x.Wc()?"H:mm":"h:mm tt");var E={};E.e=f,E.start=T.start,E.end=T.end,E.resource=T.resource,E.html=null,E.cssClass=null,E.allowed=!0,E.areaData=v.movingAreaData,E.top={},E.top.width=null,E.top.space=5,E.top.html=E.start.toString(S,x.Xc()),E.top.enabled=w.eventMovingStartEndEnabled,E.bottom={},E.bottom.width=null,E.bottom.space=5,E.bottom.html=E.end.toString(S,x.Xc()),E.bottom.enabled=w.eventMovingStartEndEnabled,E.external=!!v.drag,function(){var e=w.jb;if(!e||e.start.getTime()!==T.start.getTime()||e.end.getTime()!==T.end.getTime()||e.resource!==T.resource){if(!w.jb,w.jb=E,s.args=E,s.style.top=g+"px",!c){var t=T.end.getTime()-T.start.getTime(),n=w.Tf(t);s.style.height=n+"px"}var i=w.nav.events;if(_<i.rows[0].cells.length&&_>=0&&s.column!==_&&(s.column=_,m.moveShadow(i.rows[0].cells[_])),!w.allowEventOverlap){var a={"id":f.id(),"start":E.start,"end":E.end,"resource":E.resource};w.events.Yc(a)&&(E.allowed=!1)}if(w.Zc(E.start,E.end,E.resource)&&(E.allowed=!1),"function"==typeof w.onEventMoving&&E.allowed&&w.onEventMoving(E),v.moving){var l=[{"div":s,"columnIndex":_}];if(w.ta){var d={"start":E.start,"end":E.end,"resource":E.resource};w.$c(f,d),w.Ac=d,l=w.Ja,s.style.display="none"}l.forEach(function(e){o(e.div,w.ca("_shadow_forbidden"))}),w._c(),l.forEach(function(e){var t=e.div,n=e.columnIndex;t.className=w.ca("_shadow"),t.firstChild.innerHTML="",E.html&&(t.firstChild.innerHTML=E.html),E.cssClass&&r(t,E.cssClass),E.allowed||r(t,w.ca("_shadow_forbidden")),w.ad(t,n,E)})}}}()}else if(v.selecting){var H=v.selecting;if(H.origin="drag",w.Uc(),H.last&&H.last.startTime===H.startTime&&H.last.endTime===H.endTime)return;H.last={"startTime":H.startTime,"endTime":H.endTime},w.Vc()}var M=v.drag;if(M){if(m.gShadow&&document.body.removeChild(m.gShadow),m.gShadow=null,!m.movingShadow&&w.coords){var A=w.Lb(M,!1);if(A){M.$f=w,m.movingShadow=A;var R=DayPilot.Date.today(),B={"id":M.id,"start":R,"end":R.addSeconds(M.duration),"text":M.text},N=M._f,P=M.ag,L=P||N;if(L){var z=["duration","element","remove","id","text"];L===N&&z.push("data");for(var I in L)DayPilot.contains(z,I)||(B[I]=L[I])}var O=new DayPilot.Event(B,w);M.Bc&&(O=M.Bc),O.external=!0,v.moving={},v.moving.event=O,v.moving.helper={}}}e.cancelBubble=!0}w.bg(w.coords)},this.$c=function(e,t){var n=t.start,i=t.end,a=t.resource,r=w.Qb(!0),o=w.Nb.map(function(e,t){var o,l=!e.id||a===e.id,s=e.start.addHours(w.Ub(!0)),d=null!==(o=e.end)&&void 0!==o?o:s.addTime(r),c=DayPilot.Util.overlaps(n,i,s,d);return{"matches":l&&c,"data":e,"start":s,"end":d,"index":t}}).filter(function(e){return e.matches}),l=o.map(function(t){var a=document.createElement("div");a.className=w.ca("_shadow"),a.style.position="absolute";var r=!v.selecting;a.ontouchend=k.Rf,r?(a.style.left=w.columnMarginLeft+"px",a.style.right=w.columnMarginRight+"px"):(a.style.left="0px",a.style.right="0px");var o=w.Ub(!0),l=t.start>n?t.start:n,s=t.end<i?t.end:i,d=w.vc(l,t.start.addHours(-o)).top,c=w.vc(s,t.start.addHours(-o)).top,u=c-d,h=w.snapToGrid&&w.snapToGridTimeRangeSelecting;(e?e.part.box:h)&&(d=w.vc(l,t.start.addHours(-o)).boxTop,u=w.vc(s,t.start.addHours(-o)).boxBottom-d),a.style.top=d+"px",a.style.height=u+"px",a.onclick=function(){if("Disabled"!==w.timeRangeClickHandling){var e=w.getSelection();e&&w.Kc(e.start,e.end,e.resource)}},a.ondblclick=function(){if("Disabled"!==w.timeRangeDoubleClickHandling){clearTimeout(w.cg);var e=w.getSelection();e&&w.Lc(e.start,e.end,e.resource)}};var f=document.createElement("div");f.className=w.ca("_shadow_inner"),a.appendChild(f);var p=w.eventBorderRadius;return"number"==typeof p&&(p+="px"),p&&(f.style.borderRadius=p,a.style.borderRadius=p),{"div":a,"column":t,"columnIndex":t.index}}),s=(w.Ja||[]).map(function(e){return e.div});DayPilot.de(s),w.Ja=l,l.forEach(function(e){w.nav.events.rows[0].cells[e.column.index].appendChild(e.div)})},this.getCoords=function(){if(!w.coords)return null;var e=w.coords,t={};t.x=Math.floor(e.x),t.y=Math.floor(e.y);var n=w.Mb(e.x);n<0&&(n=0),n>=w.Nb.length&&(n=w.Nb.length-1);var i=w.Nb[n];t.column=w.ec(i);var a=w.yd(t.y),r=i.start.addHours(a);return t.time=r,t},this.Zc=function(e,t,n){return w.dg(e,t,n).some(function(e){return e.disabled})},this.Uc=function(){var e=v.selecting;e.end=w.coords,e.end.time=w.wc(e.start.x,e.end.y),e.end.column=w.Nb[w.Mb(e.end.x)],w.ta&&(e.end.time=w.wc(e.end.x,e.end.y)),w.le(e)},this.le=function(e){var t,n,i;w.snapToGrid&&w.snapToGridTimeRangeSelecting?e.end.time<e.start.time?(t=w.xc(e.end.time,e.start.column.start),n=w.eg(e.start.time,e.start.column.start),i=e.endTime):(t=w.xc(e.start.time,e.start.column.start),
n=w.eg(e.end.time,e.start.column.start),i=e.startTime):e.end.time<e.start.time?(t=e.end.time,n=e.start.time,i=e.endTime):(t=e.start.time,n=e.end.time,i=e.startTime),e.startTime=t,e.endTime=n,e.anchor=i},this.Tc=function(e){var t=w.Ia;if(!t)return!1;var n=t.start,i=t.end,a=w.wc(e.x,e.y),r=w.Nb[w.Mb(e.x)];return a>=n.time&&a<i.time&&r===n.column},this.dg=function(e,t,n){for(var i=[],a=60*x.Ob()*1e3,r=0;r<w.Nb.length;r++)for(var o=w.Nb[r],l=0;l<w.Yb();l++){var s=r+"_"+l,d=w.cellProperties[s],c=o.start.addTime(l*a).addHours(w.Ub()),u=c.addTime(a),f=!n||n===o.id;f&&h(e,t,c,u)&&d&&i.push(d)}return i},this.Xf=function(e){if(!v.resizing.event)return v.resizing=null,p(m.resizingShadow),void(m.resizingShadow=null);m.resizingShadow||(m.resizingShadow=w.Lb(v.resizing,!1));var t=v.resizing.event.calendar.cellHeight,n=0,i=e.y-m.Yf.y,a=v.resizing.event,o=a.start(),l=a.end(),s=null,d=w.snapToGrid&&w.snapToGridEventResizing;if("bottom"===v.resizing.dpBorder){var c=Math.floor((m.fg+m.gg+i+t/2)/t)*t-m.gg+n;d||(c=m.fg+i),c<t&&(c=t);var u=w.ra?w.Yb()*w.cellHeight:w.nav.main.clientHeight;m.gg+c>u&&(c=u-m.gg),m.resizingShadow.style.height=c+"px",l=w.pc(a,m.gg+c),s=o;var h=w.ta;if(h){m.resizingShadow.style.display="none";var f=w.coords,g=w.wc(f.x,f.y),b=this.Mb(f.x),y=this.Nb[b];l=w.snapToGrid&&w.snapToGridEventResizing?w.vc(g,y.start).boxEnd:g;var k=o.addTime(60*x.Ob()*1e3);l.getTime()<k.getTime()&&(l=k)}}else if("top"===v.resizing.dpBorder){var C=Math.floor((m.gg+i-n+t/2)/t)*t+n;d||(C=m.gg+i),C<n&&(C=n),C>m.gg+m.fg-t&&(C=m.gg+m.fg-t);var c=m.fg-(C-m.gg);c<t?c=t:m.resizingShadow.style.top=C+"px",m.resizingShadow.style.height=c+"px",o=w.oc(a,C),s=l;var h=w.ta;if(h){m.resizingShadow.style.display="none";var f=w.coords,g=w.wc(f.x,f.y),b=this.Mb(f.x),y=this.Nb[b];o=w.snapToGrid&&w.snapToGridEventResizing?w.vc(g,y.start).boxStart:g;var _=l.addTime(60*-x.Ob()*1e3);o.getTime()>_.getTime()&&(o=_)}}var T=m.resizingShadow,D=w.eventResizingStartEndFormat;"Auto"===D&&(D="Clock24Hours"===x.Wc()?"H:mm":"h:mm tt");var S={};if(S.e=a,S.start=o,S.end=l,S.resource=a.resource(),S.allowed=!0,S.html=null,S.cssClass=null,S.anchor=s,S.top={},S.top.width=null,S.top.space=5,S.top.html=S.start.toString(D,x.Xc()),S.top.enabled=w.eventResizingStartEndEnabled,S.bottom={},S.bottom.width=null,S.bottom.space=5,S.bottom.html=S.end.toString(D,x.Xc()),S.bottom.enabled=w.eventResizingStartEndEnabled,T.args=S,!w.allowEventOverlap){var E={"id":a.id(),"start":S.start,"end":S.end,"resource":S.resource};w.events.Yc(E)&&(S.allowed=!1)}w.Zc(S.start,S.end,S.resource)&&(S.allowed=!1),"function"==typeof w.onEventResizing&&S.allowed&&w.onEventResizing(S);var H={"start":S.start,"end":S.end,"resource":a.resource()};w.$c(a,H),w.rc=H;var M=w.ta?w.Ja:[{"div":T,"columnIndex":a.part.dayIndex}];w._c(),M.forEach(function(e){var t=e.div,n=e.columnIndex;t.firstChild.innerHTML="",t.className=w.ca("_shadow"),S.html&&(t.firstChild.innerHTML=S.html),S.cssClass&&r(t,S.cssClass),S.allowed||r(t,w.ca("_shadow_forbidden")),w.ad(t,n,S)})},this.temp={},this.temp.getPosition=function(){var e=w.ig.hg();if(!e)return null;var t=w.Nb[e.x],n={};return n.resource=t.id,n.start=new DayPilot.Date(t.start).addHours(w.Ub(!0)).addMinutes(e.y*x.Ob()),n.end=n.start.addMinutes(x.Ob()),n},this.ig={},this.ig.hg=function(){var e={};if(e.x=0,e.y=0,!w.coords)return null;e.x=w.Mb(w.coords.x);var t=0,n=Math.floor((w.coords.y-t)/w.cellHeight);return e.y=DayPilot.Util.atLeast(0,n),e.x<0?null:e},this.ig.col=function(e,t){var n={};if(n.left=0,n.width=0,!e)return null;if(!e.rows)return null;if(0===e.rows.length)return null;if(0==e.rows[0].cells.length)return null;var i=e.rows[0].cells[t];if(!i)return null;var a=DayPilot.abs(e),r=DayPilot.abs(i);return n.left=r.x-a.x,n.width=i.offsetWidth,n},this.Wf=function(){var e=w.nav.hourTable;this.hb(),this.elements.crosshair||(this.elements.crosshair=[]);var n=this.ig.hg();if(n){var i=n.x;if(null!==i){var a=Math.floor(n.y/(60/x.Ob())*(60/x.wf()));if(!(a<0)){if(e){if(a>=e.rows.length)return;var r=t();r.style.position="absolute",r.style.left="0px",r.style.right="0px",r.style.top="0px",r.style.bottom="0px",r.className=w.ca("_crosshair_left"),e.rows[a].cells[0].firstChild.appendChild(r),this.elements.crosshair.push(r)}if(this.nav.header){var o=t();o.style.position="absolute",o.style.left="0px",o.style.right="0px",o.style.top="0px",o.style.bottom="0px",o.className=w.ca("_crosshair_top");var l=this.nav.header.rows[x.Td()-1];l.cells[i]&&(l.cells[i].firstChild.appendChild(o),this.elements.crosshair.push(o))}if("Header"!==this.crosshairType){var s=this.nav.crosshair,d=0,c=Math.floor((w.coords.y-d)/w.cellHeight)*w.cellHeight+d,u=w.cellHeight,h=t();h.style.position="absolute",h.style.left="0px",h.style.right="0px",h.style.top=c+"px",h.style.height=u+"px",h.style.pointerEvents="none",h.className=w.ca("_crosshair_horizontal"),h.onmousedown=this.jg,s.appendChild(h),this.elements.crosshair.push(h);var f=i,v=this.ig.col(this.nav.main,f);if(u=w.Te(),v){var p=t();p.style.position="absolute",p.style.left=v.left+"px",p.style.width=v.width+"px",p.style.top="0px",p.style.height=u+"px",p.style.pointerEvents="none",p.className=w.ca("_crosshair_vertical"),p.onmousedown=this.jg,s.appendChild(p),this.elements.crosshair.push(p)}}}}}},this.jg=function(e){var t=w.nav.main;w.hb(),w.coords=DayPilot.mo3(t,e);var n=w.ig.hg(),i=0,a=n.x,r=t.rows[n.y+i].cells[a];w.Sc.apply(r,[e])},this.hb=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var e=0;e<this.elements.crosshair.length;e++){var t=this.elements.crosshair[e];t&&t.parentNode&&t.parentNode.removeChild(t)}this.elements.crosshair=[]}},this.sb=function(){if(this.cellConfig){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++)for(var n=this.cellProperties[t+"_0"],i=1;i<e.y;i++)this.cellProperties[t+"_"+i]=n;if(e.horizontal)for(var i=0;i<e.y;i++)for(var n=this.cellProperties["0_"+i],t=1;t<e.x;t++)this.cellProperties[t+"_"+i]=n;if(e["default"])for(var n=e["default"],i=0;i<e.y;i++)for(var t=0;t<e.x;t++)this.cellProperties[t+"_"+i]||(this.cellProperties[t+"_"+i]=n)}},this.Qf=function(e,t){return this.cellProperties?this.cellProperties[e+"_"+t]:null},this.kg=function(e,t){var n=e+"_"+t;return!(!this.cellProperties||!this.cellProperties[n])&&this.cellProperties[n].business},this.Sf=function(e,t){var n=e+"_"+t;return this.cellProperties&&this.cellProperties[n]?this.cellProperties[n].backColor:null},this._a=function(){var e=this.nav.header;if(e&&e.rows)for(var t=0;t<e.rows.length;t++)for(var n=e.rows[t],i=0;i<n.cells.length;i++){var a=n.cells[i];a.onclick=null,a.onmousemove=null,a.onmouseout=null;var r=a,o=r.domArgs;if(r.domArgs=null,"function"==typeof w.onBeforeHeaderDomRemove&&w.onBeforeHeaderDomRemove(o),"function"==typeof w.onBeforeHeaderDomAdd){var l=o&&o.Le;if(l){var s=w.W.reactDOM&&d(o.element),h=w.Y.Ne&&(c(o.element)||u(o.element));s?w.W.ka(l):h&&(w.Y.Oe=!0,w.Y.la(l),w.Y.Oe=!1)}}}e&&(this.sa||DayPilot.pu(e),e.innerHTML="",e.rows=[])},this.He=function(e){var t=e+1,n=t===x.Td(),i=this.Sd(t),a=0,r=0,o=w.De(),l=[],s="Fixed"===x.jd(),d=s?"px":"%";if(!n)for(var c=function(e){var n=i[e],s=!!n.be,c=s?n.ce(x.Td()-t+1):1,u=0;DayPilot.list.for(c,function(){u+=o[a].width,a+=1}),l.push({"left":r,"width":u,"unit":d}),r+=u},u=0;u<i.length;u++)c(u);return l},this.lg=function(e){function n(n){var i=a[n],o=h[n];if(o){var m={};m.header={},m.header.cssClass=null,m.column=w.ec(i,w);var g=null;w.Kb()&&"function"==typeof w.onBeforeHeaderRender&&(s(i,m.header,["id","start","name","html","backColor","toolTip","areas","children"]),w.onBeforeHeaderRender(m),s(m.header,i,["html","backColor","toolTip","areas","cssClass"]));var b=!!i.be,y=o.width,k=o.left;l||(k=p[n].left,y=p[n].width);var T=t();T.style.position="absolute",T.style.top=f+"px",T.style.left=k+o.unit,T.style.right=k+o.unit,T.style.width=y+o.unit,T.data=i,v.push(T),b&&(T.onclick=w.fc,T.onmousemove=w.gc,T.onmouseout=w.ic,i.toolTip&&(T.title=i.toolTip)),T.style.overflow="hidden",T.style.height=x.mg(e)+"px";var D=t();D.style.userSelect="none",D.style.position="relative",D.style.height=x.mg(e)+"px",D.className=w.ca("_colheader"),i.cssClass&&DayPilot.Util.addClass(D,i.cssClass),w.headerTextWrappingEnabled||(D.style.whiteSpace="nowrap");var S=t();if(S.className=w.ca("_colheader_inner"),i.backColor&&(S.style.background=i.backColor),D.appendChild(S),T.appendChild(D),x.Ea()&&"undefined"!=typeof _&&_.ye&&!function(){var t={};t.column=r[n],t.x=n,t.y=e,t.div=T,_.ye(t)}(),x.Da()&&b&&"undefined"!=typeof C&&C.me&&!function(){var t={};t.column=r[n],t.x=n,t.y=e,t.div=T,C.me(t)}(),w.ng(D,i),"function"==typeof w.onBeforeHeaderDomAdd&&(m.element=null,w.onBeforeHeaderDomAdd(m),g=m.element),T.domArgs=m,g){var E=S;m.Le=E;var H=d(g),M=c(m.element),A=u(m.element);if(H)w.W.Me(),w.W.V(g,E);else if(M){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Z(m.element,E,m.props),w.Y.Oe=!1}else if(A){if(!w.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");w.Y.Oe=!0,w.Y.Pe(m.element,E),w.Y.Oe=!1}else E.appendChild(g)}else b&&(D.firstChild.innerHTML=i.html||"");w.nav.header.appendChild(T)}}var i=e+1,a=this.Sd(i),r=this.Sd(i,!0),o=a.length,l=i===x.Td(),h=w.De(),f=x.Ef(e),v=[];w.nav.header.rows.push({"cells":v});for(var p=w.He(e),m=0;m<o;m++)n(m)},this.og=function(e,n){for(var i=n?this.nav.header.insertRow(-1):this.nav.header.rows[e-1],a=this.Sd(e),r=a.length,o=e===x.Td(),l=0;l<r;l++){var d=a[l];if(w.Kb()&&"function"==typeof w.onBeforeHeaderRender){var c={};c.header={},s(d,c.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(c),s(c.header,d,["html","backColor","toolTip","areas"])}var u=!!d.be,h=n?i.insertCell(-1):i.cells[l];if(h.data=d,o);else{var f=1;u&&(f=d.ce(x.Td()-e+1)),h.colSpan=f}u&&(h.onclick=this.fc,h.onmousemove=this.gc,h.onmouseout=this.ic,d.toolTip&&(h.title=d.toolTip)),h.style.overflow="hidden",h.style.padding="0px",h.style.border="0px none",h.style.height=x.mg(e-1)+"px";var v=n?t():h.firstChild;if(n){v.style.userSelect="none",v.style.webkitUserSelect="none",v.style.position="relative",v.style.height=x.mg(e-1)+"px",v.className=w.ca("_colheader");var p=t();p.className=w.ca("_colheader_inner"),d.backColor&&(p.style.background=d.backColor),v.appendChild(p),h.appendChild(v)}else v.style.height=x.mg(e-1)+"px";this.ng(v,d),u&&(v.firstChild.innerHTML=d.html)}},this.ng=function(e,t){for(var n=[],i=0;i<e.childNodes.length;i++){var a=e.childNodes[i];a.isActiveArea&&n.push(a)}for(var i=0;i<n.length;i++){var a=n[i];p(a)}if(t.areas)for(var r=t.areas,i=0;i<r.length;i++){var o=r[i];if(DayPilot.Areas.isVisible(o)){var l=w.ec(t),s=DayPilot.Areas.createArea(e,l,o);e.appendChild(s)}}},this.vb=function(){w.ra?w.pg():w.qg()},this.pg=function(){var e=w.nav.header;if(w._a(),this.showHeader){var n=this.Sd(x.Td(),!0),i=n.length;this.rg=!0;var a=w.nav.corner;if(a){this.sa||DayPilot.pu(a.firstChild);var r={};r.html=w.La(w.cornerText,w.cornerHtml);var o=null;if(w.ab(),"function"==typeof w.onBeforeCornerRender&&w.onBeforeCornerRender(r),"function"==typeof w.onBeforeCornerDomAdd&&(r.element=null,w.onBeforeCornerDomAdd(r),o=r.element),o){var l=a.firstChild;l.domArgs=r;d(o)?(w.W.Me(),w.W.V(o,l)):l.appendChild(o)}else a.firstChild.innerHTML=r.html||""}for(var s=0;s<x.Td();s++)this.lg(s);if(this.showAllDayEvents){var c=[];w.nav.header.rows.push({"cells":c});for(var u=w.De(),h=w.Ke(),f=0;f<i;f++){var v=n[f],p=u[f],m=t();m.data=v,m.style.overflow="hidden",m.style.position="absolute",m.style.left=p.left+p.unit,m.style.right=p.left+p.unit,m.style.width=p.width+p.unit,m.style.top=h+"px";var g=t();g.style.userSelect="none",g.style.overflow="hidden",g.style.position="relative",g.style.height=x.Df()+"px",g.className=this.ca("_alldayheader");var b=t();b.className=this.ca("_alldayheader_inner"),g.appendChild(b),m.appendChild(g),g.style.height=x.Df()+"px",c.push(m),e.appendChild(m)}}}},this.qg=function(){if(this.showHeader){var e=this.nav.header,n=!0,i=this.Sd(x.Td(),!0),a=i.length;for(p(this.nav.header),this.Hf();this.rg&&e&&e.rows&&e.rows.length>0;)this.sa||DayPilot.pu(e.rows[0]),e.deleteRow(0);this.rg=!0;var r=w.nav.corner;if(r){this.sa||DayPilot.pu(r.firstChild);var o={};o.html=w.La(w.cornerText,w.cornerHtml),"function"==typeof w.onBeforeCornerRender&&w.onBeforeCornerRender(o),r.firstChild.innerHTML=o.html?o.html:""}for(var l=0;l<x.Td();l++)this.og(l+1,n);if(this.showAllDayEvents)for(var s=this.nav.header.insertRow(-1),l=0;l<a;l++){var d=i[l],c=s.insertCell(-1);c.data=d,c.style.padding="0px",c.style.border="0px none",c.style.overflow="hidden";var u=t();u.style.userSelect="none",u.style.webkitUserSelect="none",u.style.overflow="hidden",u.style.position="relative",u.style.height=x.Df()+"px",u.className=this.ca("_alldayheader");var h=t();h.className=this.ca("_alldayheader_inner"),u.appendChild(h),c.appendChild(u),u.style.height=x.Df()+"px"}}},this.loadingStart=function(e){this.Qa(e)},this.loadingStop=function(){this.nb(!0)},this.Qa=function(e){e=e||{};var t=e.delay||0,n=w.La(e.text||this.loadingLabelText,this.loadingLabelHtml),i="undefined"!=typeof e.block?e.block:w.blockOnCallBack;this.sg&&window.clearTimeout(this.sg);var a=function(){(w.loadingLabelVisible||e.text)&&w.nav.loading&&(w.nav.loading.innerHTML=n,w.nav.loading.style.top=w.Vb()+5+"px",w.nav.loading.style.display=""),i&&T.D()};0===t?a():w.sg=window.setTimeout(a,t)},this.nb=function(e){this.sg&&window.clearTimeout(this.sg),this.nav.loading.style.display="none",(e||w.blockOnCallBack)&&T.B()},this.tg=function(e){var t=w.Ub(!0);return e<t&&(e+=24),(e-t)*(60/x.Ob())*w.cellHeight},this.yd=function(e){var t=w.Ub(!0);return e/(60/x.Ob())/w.cellHeight+t},this.ug=function(){var e=this.kd(),t=this.initScrollPos;if(!t){var n=this.businessBeginsHour;t=w.tg(n)}e.root=this,e.onscroll=this.hd,w.Ka(),0===e.scrollTop?x.Ob()<=720&&(e.scrollTop=t-this.rd()):this.hd()},this.vg=function(){var e=w.nav.top;return!!e&&(e.offsetWidth>0&&e.offsetHeight>0)},this.wg=function(){var e=w.vg;return e()?void w.xg():void(w.Va||(w.Va=setInterval(function(){e()&&(clearInterval(w.Va),w.ug(),w.Cb(),w.xg())},100)))},this.scrollToY=function(e){this.kd().scrollTop=e},this.scrollToHour=function(e){var t=w.tg(e);this.kd().scrollTop=t-this.rd()},this.kd=function(){return"Fixed"===x.jd()||this.qa?this.nav.bottomRight:this.nav.scroll},this.onCallbackError=function(e,t){alert("Error!\r\nResult: "+e+"\r\nContext:"+t)},this.Cb=function(){if(w.showHeader){var e=this.Ff(),n=!!this.nav.cornerRight;if(this.qa){this.nav.unifiedCornerRight&&p(this.nav.unifiedCornerRight);var i=w.nav.main.getBoundingClientRect().width,a=w.sf();if("100%"!==a&&parseInt(a)<i)return;var r=DayPilot.sw(this.nav.bottomRight),o="calc(100% - "+r+"px)",l=void 0;w.ra?(l=t(),l.style.position="absolute",l.style.left=o,l.style.right=o,l.style.height=w.Vb()+"px",w.nav.headerParent.appendChild(l),w.nav.unifiedCornerRight=l,w.nav.header.style.width=o,w.nav.allday&&(w.nav.allday.style.width=o)):(this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1),l=this.nav.unifiedCornerRight,l.rowSpan=this.nav.header.rows.length),l.style.width=r+"px";var s=t();s.className=w.ca("_cornerright"),s.style.overflow="hidden",s.style.height=this.Vb()+"px",s.style.position="relative";var d=t();d.className=w.ca("_cornerright_inner"),s.appendChild(d),l.appendChild(s);return void(!("Fixed"===x.jd())&&this.nav.allday&&(w.rtl?this.nav.allday.style.left=r+"px":this.nav.allday.style.right=r+"px"))}if(e!==n)if(e)this.If();else{if(this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length){var l=this.nav.fullHeader.rows[0].cells[2];l.parentNode&&l.parentNode.removeChild(l)}this.nav.cornerRight=null}var c=this.nav.cornerRight;if(c){var u=DayPilot.sw(w.Wb());return c&&(c.style.width=u+"px"),u}}},this.Jb=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.ya>=this.autoRefreshMaxCount)){this.Xa();var t=this.autoRefreshInterval;if(!t||t<10)throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");this.autoRefreshTimeout=window.setTimeout(function(){w.yg()},1e3*this.autoRefreshInterval)}},this.Xa=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.yg=function(){if(!(v.resizing||v.moving||v.drag||v.selecting)){var e=!1;if("function"==typeof this.onAutoRefresh){var t={};t.i=this.ya,t.preventDefault=function(){this.preventDefault.value=!0},w.onAutoRefresh(t),t.preventDefault.value&&(e=!0)}!e&&this.ja()&&this.commandCallBack(this.autoRefreshCommand),this.ya++}this.ya<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){w.yg()},1e3*this.autoRefreshInterval))},this.cb=function(){w.Hb()},this.Hb=function(){w.nav.top&&(w.Bb(),"Parent100Pct"===w.heightSpec&&w.setHeight(parseInt(w.nav.top.clientHeight,10)),w.Cb(),w.Ib(),w.Ka(),w.zg())},w.zg=function(){var e=DayPilot.sw(w.nav.bottomRight),t=w.nav.scroll.offsetWidth-w.hourWidth-e;if("Auto"===w.columnWidthSpec){var n=w.Nb.length,i=t/n,a=w.Ag;i<w.columnWidthMin?(w.columnWidth=w.columnWidthMin,w.Ag=!0):w.Ag=!1;var r=a!==w.Ag;w.za&&(r||w.Bg)&&(w.Bg=!1,w.Od()),w.za||(w.Bg=!0)}},this.Cg=null,this.Dg=null,w.Wa=null,this.xg=function(){var e=function(){w.watchWidthChanges&&(w.Hb(),w.hd())};if(w.watchWidthChanges){if("function"==typeof ResizeObserver){if(w.Wa)return;var t=new ResizeObserver(DayPilot.debounce(e,50));return t.observe(w.nav.top),void(w.Wa=t)}if(!w.Dg){var n=function(){return w.nav&&w.nav.top?w.Cg?(w.Cg.width!==w.nav.top.offsetWidth&&(w.Cg.changed=!0,w.Cg.counter=0,w.Cg.width=w.nav.top.offsetWidth),w.Cg.changed&&(w.Cg.counter+=1),void(w.Cg.changed&&w.Cg.counter>0&&(w.Cg.changed=!1,e()))):(w.Cg={},w.Cg.counter=0,w.Cg.changed=!1,void(w.Cg.width=w.nav.top.offsetWidth)):void clearInterval(w.Dg)};this.Dg=setInterval(n,200),n()}}},this.Eg=function(){m.Fg||(m.Fg=!0,a(document,"mousemove",m.Gg),a(document,"mouseup",m.Hg),i(document,DayPilot.touch.move,m.Ig),a(document,DayPilot.touch.end,m.Jg)),a(window,"resize",this.cb)},this.Xe=function(e){if(!k.active){var t=DayPilot.Util.mouseButton(e);if(m.editing)return void m.editing.blur();if("undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing()),w.coords=DayPilot.mo3(w.nav.main,e),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!t.left){if(("move"===this.style.cursor||"Full"===w.moveBy&&this.event.client.moveEnabled())&&t.left){v.moving=this;var n=v.moving.helper={},i=w.Nb[this.event.part.dayIndex];n.oldColumn=i.id,m.Yf=DayPilot.mc(e),m.gg=this.offsetTop;var a=this.event,r=DayPilot.mo3(this,e);if(r){m.moveOffsetY=r.y;var o=w.coords,l=w.wc(o.x,o.y);n.Zf=l.getTime()-a.start().getTime();var s=w.snapToGrid&&w.snapToGridEventMoving;if(!s&&a.part.box){var d=w.vc(a.part.start,i.start),c=d.top-d.boxTop;m.moveOffsetY=r.y-c}}else m.moveOffsetY=0;w.nav.top.style.cursor=this.style.cursor}}else v.resizing=this,m.Yf=DayPilot.mc(e),m.fg=this.offsetHeight,m.gg=this.offsetTop,w.nav.top.style.cursor=this.style.cursor;return!1}},this.Kg=function(e){var t=this.va.events,n=this.events.list[e],i={};for(var a in n)i[a]=n[a];if(i.start=new DayPilot.Date(n.start),i.end=new DayPilot.Date(n.end),w.showEventStartEnd){var r=i.start.getDatePart().getTime()===i.end.getDatePart().getTime(),o=r?x.Xc().timePattern:x.Xc().dateTimePattern,l=i.start.toString(o),s=i.end.toString(o);i.html=w.La(i.text)+" ("+l+" - "+s+")"}if("function"==typeof this.onBeforeEventRender){var d={};d.e=i,d.data=i,d.control=w,this.onBeforeEventRender(d)}t[e]=i},this.Lg=function(){return!!(v.moving||v.resizing||v.selecting||v.drag)},this.dragInProgress=function(){return w.Lg()},T.Mg=function(){if(!w.nav.overlay){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.className=w.ca("_block"),w.nav.top.appendChild(e),w.nav.overlay=e}},T.D=function(){T.Mg(),w.nav.overlay.style.display=""},T.B=function(){w.nav.overlay&&(w.nav.overlay.style.display="none")},this.Ng=null,this.bg=function(e){function t(e,t){return 1-e/t}if(w.Og()){var n=w.nav.bottomRight,i=n.scrollLeft;w.rtl;var a=e.x-i,r=e.y-n.scrollTop;w.rtl&&(a=a-n.scrollWidth+n.clientWidth);var o=n.clientWidth,l=n.clientHeight,s=30,d=a<s?a:0,c=o-a<s?o-a:0,u=r<s?r:0,h=l-r<s?l-r:0,f=0,v=0,p=50;d&&(f=-50*t(d,s)),c&&(f=p*t(c,s)),u&&(v=-50*t(u,s)/2),h&&(v=p*t(u,s)/2),f||v?w.Pg(f,v):w.ib()}},this.Pg=function(e,t){this.ib(),this.Qg(e,t)},this.Og=function(){var e=w.Lg(),t="Always"===w.autoScroll,n="Drag"===w.autoScroll&&e;return t||n},this.Rg=function(e){if(!e)return!1;if(!w.Og())return!1;var t=w.rtl,n=w.nav.bottomRight,i=n.scrollWidth,a=n.scrollLeft,r=n.clientWidth,o=a+r;if(t&&(a-=1,o=a-r),t){if(e>0&&a>=0)return!1;if(e<0&&-o>=i)return!1}else{if(e<0&&a<=0)return!1;if(e>0&&o>=i)return!1}return n.scrollLeft+=e,w.coords.x+=e,w.Sg(),!0},this.Tg=function(e){if(!e)return!1;if(!w.Og())return!1;var t=w.nav.bottomRight,n=t.scrollHeight,i=t.scrollTop,a=t.clientHeight,r=i+a;return!(e<0&&i<=0)&&(!(e>0&&r>=n)&&(t.scrollTop+=e,w.coords.y+=e,w.Sg(),!0))},this.Sg=function(){},this.Qg=function(e,t){if(this.Rg(e)||this.Tg(t)){var n=function(e,t){return function(){w.Qg(e,t)}};this.Ug=window.setTimeout(n(e,t),200)}},this.ib=function(){w.Ug&&(window.clearTimeout(w.Ug),w.Ug=null)},k.active=!1,k.start=null,k.timeout=null,k.startcell=null,k.relativeCoords=function(e){return k.Vg(e)},k.startResizing=function(e,t,n){k.ze(e,t,n)},k.startMoving=function(e,t){k.ne(e,t)},this.Ca.hg=function(e){var t,n;e.touches?(t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY);var i=DayPilot.abs(w.nav.main),a={x:t-i.x,y:n-i.y},r=w.nav.main.clientWidth/w.Nb.length,o=Math.floor(a.y/w.cellHeight);return o=DayPilot.Util.atLeast(0,o),o=DayPilot.Util.atMost(w.Yb()-1,o),{"pageX":t,"pageY":n,"x":Math.floor(a.x/r),"y":o,"toString":function(){return"x: "+this.x+" y:"+this.y}}},this.Ca.Wg=function(e){k.startcell=e,w.clearSelection(),w.coords=e,v.selecting={"calendar":w,"start":e};var t=v.selecting;t.start.time=w.wc(e.x,e.y),t.start.columnIndex=w.Mb(e.x),t.start.column=w.Nb[t.start.columnIndex],w.Uc(),w.Vc()},this.Ca.Xg=function(e){w.coords=e;var t=v.selecting;t.origin="drag",w.Uc(),t.last&&t.last.startTime===t.startTime&&t.last.endTime===t.endTime||(t.last={"startTime":t.startTime,"endTime":t.endTime},w.Vc())},this.Ca.mf=function(e){if(!l(e)&&!k.start){var t=k.Vg(e);if(w.coords=t,!(t.x<0||(k.start=!0,k.active||e.touches.length>1))){k.startCoords=t;var n=w.tapAndHoldTimeout;k.timeout=window.setTimeout(function(){switch(e.preventDefault(),k.active=!0,k.start=!1,w.timeRangeTapAndHoldHandling){case"Select":k.Wg(t);break;case"ContextMenu":k.Wg(t),k.active=!1,w.contextMenuSelection&&w.contextMenuSelection.show(w.getSelection())}},n)}}},this.Ca.Yg=function(){},this.Ca.Rf=function(e){if(!k.active)return window.clearTimeout(k.timeout),void(k.start&&!function(){if("Disabled"!==w.timeRangeSelectedHandling){if(!w.Tc(w.coords),!0){var e=v.selecting={};e.start=w.coords,e.start.time=w.wc(w.coords.x,w.coords.y),e.start.columnIndex=w.Mb(w.coords.x),e.start.column=w.Nb[e.start.columnIndex],w.Uc(),w.Ia=e,w.Vc(e),v.selecting=null}var t=w.getSelection();t.toString=function(){return"start: "+this.start+"\nend: "+this.end},k.start=!1,setTimeout(function(){w.Jc(t.start,t.end,t.resource)},10)}}(this));e.preventDefault(),e.stopPropagation(),k.startcell=null,k.start=!1;var t=v.selecting;v.selecting=null,w.Ia=t;var n=w.getSelection();n.toString=function(){return"start: "+this.start+"\nend: "+this.end},w.Jc(n.start,n.end,n.resource),window.setTimeout(function(){k.active=!1},500)},this.Ca.ne=function(e,t){v.moving=e;var n=v.moving.helper={};n.oldColumn=w.Nb[e.event.part.dayIndex].id,m.Yf=t,m.gg=this.offsetTop;var i=DayPilot.abs(e);if(m.moveOffsetY=t.y-i.y,function(){var t=w.coords,i=w.wc(t.x,t.y);n.Zf=i.getTime()-e.event.start().getTime()}(),m.movingShadow||(m.movingShadow=w.Lb(v.moving,!0),m.movingShadow.style.width=m.movingShadow.parentNode.offsetWidth+1+"px"),w.ta){m.movingShadow.style.display="none";var a=w.uc(e.event,w.coords,n.Zf);w.$c(e.event,a)}},this.Ca.ze=function(e,t,n){v.resizing=e,e.dpBorder=t,m.Yf=n,m.fg=e.offsetHeight,m.gg=e.offsetTop,w.Xf(w.coords)},this.Ca.Zg=function(e){w.Xf(e)},this.Ca.$g=function(){var e=w.coords,t=w.cellHeight,n=0,i=m.moveOffsetY;i||(i=t/2);var a=Math.floor((e.y-i-n+t/2)/t)*t+n;a<n&&(a=n);var r=w.Te(),o=parseInt(m.movingShadow.style.height);a+o>r&&(a=r-o),m.movingShadow.style.top=a+"px",m.movingShadow.allowed=!0;var l=w.Mb(w.coords.x);l<0&&(l=0);var s=w.nav.events;if(l<s.rows[0].cells.length&&l>=0&&m.movingShadow.column!==l&&(m.movingShadow.column=l,m.moveShadow(s.rows[0].cells[l])),w.ta){var d=v.moving.event,c=v.moving.helper.Zf,u=w.uc(d,w.coords,c);m.movingShadow.style.display="none",w.$c(d,u),w.Ac=u}},this.Ca.onEventTouchStart=function(e){if(!k.active&&!l(e)){k.preventEventTap=!1,k.start=!0,k.startCoords=k.hg(e);var t=e.currentTarget,n=e.touches?e.touches[0].pageX:e.pageX,i=e.touches?e.touches[0].pageY:e.pageY,a={x:n,y:i,div:this};w.coords=k.Vg(e);var r=w.tapAndHoldTimeout;k.timeout=window.setTimeout(function(){var n=t.event;switch(k.active=!0,k.start=!1,w.eventTapAndHoldHandling){case"Move":n.client.moveEnabled()&&k.ne(t,a);break;case"ContextMenu":var i=n.client.contextMenu();DayPilot.Menu&&DayPilot.Menu.touchPosition(e),i?i.show(n):w.contextMenu&&w.contextMenu.show(n)}},r)}},this.Ca.nf=function(e){if(!l(e)){if(k.start=!1,k.timeout){var t=k.hg(e);t&&k.startCoords&&(t.pageX===k.startCoords.pageX&&t.pageY===k.startCoords.pageY||window.clearTimeout(w.Ca.timeout))}if(v.moving&&m.movingShadow)return e.preventDefault(),w.coords=k.Vg(e),k.$g(),void w.bg(k.Vg(e));if(v.resizing){e.preventDefault(),w.coords=k.Vg(e);var n=e.touches?e.touches[0]:e,t={x:n.pageX,y:n.pageY};return k.Zg(t),void w.bg(k.Vg(e))}if(v.selecting){if(e.preventDefault(),!k.active)return void window.clearTimeout(k.timeout);var t=k.Vg(e);k.Xg(t),w.bg(k.Vg(e))}k.preventEventTap=!0}},this.Ca.Vg=function(e){var t=w.nav.main,n=e.touches?e.touches[0].pageX:e.pageX,i=e.touches?e.touches[0].pageY:e.pageY,a=DayPilot.abs(t);return{x:n-a.x,y:i-a.y,"toString":function(){return"x: "+this.x+", y:"+this.y}}},this.Ca.of=function(e){if(!l(e))if(v.moving){k.active=!1,e.preventDefault(),e.stopPropagation();var t=m.movingShadow.offsetTop,n=v.moving.event,i=n.calendar;i.cd(m.movingShadow);var a=m.movingShadow.column,r=m.movingShadow;if(o(v.moving,i.ca("_event_moving_source")),v.moving=null,m.movingShadow=null,!r.allowed)return void i.Cc();n.calendar.zc(n,a,t,e,v.drag)}else if(v.selecting){if(!k.active)return void window.clearTimeout(k.timeout);e.preventDefault(),k.startcell=null;var s=w.getSelection();s.toString=function(){return"start: "+this.start+"\nend: "+this.end},w.Jc(s.start,s.end,s.resource),window.setTimeout(function(){k.active=!1},500)}},this.Ca.onEventTouchMove=function(){k.preventEventTap=!0},this.Ca.onEventTouchEnd=function(e){if(!l(e)){if(!k.active){if(k.preventEventTap)return;return e.preventDefault(),window.clearTimeout(k.timeout),void w.$b(this,e)}return k.active=!1,k.timeout?void window.clearTimeout(k.timeout):void 0}},this.Ye=function(e){if("function"==typeof w.onEventMouseEnter){var t=e.currentTarget,n={div:t,e:t.event};w.onEventMouseEnter(n)}},this.Ze=function(e){if("function"==typeof w.onEventMouseLeave){var t=e.currentTarget,n={div:t,e:t.event};w.onEventMouseLeave(n)}},this.Ve=function(e){var t=5,n=10,i="Top"===w.moveBy;if("undefined"!=typeof m){var a=DayPilot.mo3(this,e);if(a){w.eventOffset=a;var o=e.currentTarget;if(o.active||r(o,w.ca("_event_hover")),!v.resizing&&!v.moving){var l=this.isFirst,s=this.isLast;if("Disabled"!==w.moveBy&&"None"!==w.moveBy&&(!i&&a.x<=n&&this.event.client.moveEnabled()?l?this.style.cursor="move":this.style.cursor="not-allowed":!i&&a.y<=t&&this.event.client.resizeEnabled()?l?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":i&&a.y<=n&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-a.y<=t&&this.event.client.resizeEnabled()?s?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":v.resizing||v.moving||(this.event.client.clickEnabled()?this.style.cursor="pointer":this.style.cursor="default"),"undefined"!=typeof DayPilot.Bubble&&w.bubble&&"Disabled"!==w.eventHoverHandling&&("default"===this.style.cursor||"pointer"===this.style.cursor))){this._g&&a.x===this._g.x&&a.y===this._g.y||(this._g=a,w.bubble.showEvent(this.event))}}}}},this.We=function(e){o(this,w.ca("_event_hover")),w.bubble&&w.bubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this,e)},this.ah=function(){var e=w.nav;w.rtl?(e.top.style.direction="rtl",e.bottomLeft.style.cssFloat="right",e.upperLeft.style.cssFloat="right",this.showHours&&(e.bottomRight.style.marginRight=w.hourWidth+"px",e.upperRight.style.marginRight=this.hourWidth+"px"),e.bottomRight.style.marginLeft="0px",e.upperRight.style.marginLeft="0px"):(e.top.style.direction="",e.bottomLeft.style.cssFloat="left",e.upperLeft.style.cssFloat="left",this.showHours&&(e.upperRight.style.marginLeft=this.hourWidth+"px",e.bottomRight.style.marginLeft=w.hourWidth+"px"),e.upperRight.style.marginRight="0px",e.bottomRight.style.marginRight="0px");var t=w.nav.events,n=w.qf();t.parentNode.replaceChild(n,t)},this.bh=null,this.Eb=function(){if(this.showCurrentTime){this.ch();var e=(new DayPilot.Date).addMinutes(w.showCurrentTimeOffset);if("Full"===w.showCurrentTimeMode)this.dh(e);else{if("Day"!==w.showCurrentTimeMode)throw new DayPilot.Exception("Invalid DayPilot.Calendar.showCurrentTimeMode value: "+w.showCurrentTimeMode);this.eh(e)}if(this.nav.events&&!this.bh){this.bh=setTimeout(function(){w.bh=null,w.Eb()},3e4)}}},this.ch=function(){p(w.elements.separators),w.elements.separators=[]},this.eh=function(e){var n=e.getTime(),i=w.nav.events;if(i)for(var a=0;a<w.Nb.length;a++){var r=w.Nb[a],o=w.Qb(!0),l=new DayPilot.Date(r.start).addHours(this.Ub(!0)),s=l.getTime(),d=l.addTime(o),c=d.getTime();if(s<=n&&n<=c){var u=this.vc(e,r.start).top-1-w.rd(),h=i.rows[0].cells[a],f=h.separators,v=t();v.style.position="absolute",v.style.top=u+"px",v.style.height="1px",v.style.left="0px",v.style.right="0px",v.className=w.ca("_now"),f.insertBefore(v,f.firstChild),w.elements.separators.push(v)}}},this.dh=function(e){var n=e.getTime();if(w.nav.events){var i=w.Nb[0];if(i)for(var a=i.start.getDatePart().addTime(e.getTimePart()),r=this.vc(a,i.start).top-1,o=0;o<w.Nb.length;o++){var l=w.Nb[o],s=w.Qb(!0),d=new DayPilot.Date(l.start).addHours(this.Ub(!0)),c=d.getTime(),u=d.addTime(s),h=u.getTime();if(c<=n&&n<=h){var f=t();return f.style.position="absolute",f.style.top=r+"px",f.style.height="1px",f.style.left="0px",f.style.right="0px",f.className=w.ca("_now"),w.nav.events.appendChild(f),void w.elements.separators.push(f)}}}},this.tb=function(e,t){var n;if(e?this.events.list=e:e=this.events.list,e){var i=t&&t.preloadOnly;this.Ie={},this.Ie.events=[],this.Ie.lines=[];var a=e.length,r=this.Qb(!0);this.va.pixels={},this.va.$e=[];var o=[];this.qd=[],this.nc=1e4,this.Tb=0,this.startDate=new DayPilot.Date(this.startDate);for(var l=0;l<a;l++){var s=e[l];if("object"!=typeof s)throw new DayPilot.Exception("Event data item must be an object");if(!s.start)throw new DayPilot.Exception("Event data item must specify 'start' property")}if(!i&&("function"==typeof this.onBeforeEventRender||w.showEventStartEnd))for(var l=0;l<a;l++)this.Kg(l);for(var d="Resources"===this.viewType,c=this.Vd(),u=c.start,h=c.end,l=0;l<this.Nb.length;l++){var f={};f.minEnd=1e6,f.maxStart=-1,this.qd.push(f);var v=this.Nb[l];v.events=[],v.lines=[],v.blocks=[];var p=new DayPilot.Date(v.start).addHours(this.Ub(!0)),m=p.getTime(),g=null!==(n=v.end)&&void 0!==n?n:p.addTime(r),b=g.getTime();d&&(u=p.getDatePart(),h=p.addDays(w.days));for(var y=0;y<a;y++)if(!o[y]){var s=e[y],k=null;if(i||"function"!=typeof w.onBeforeEventRender||(k=w.va.events[y]),k){if(k.hidden)continue}else if(s.hidden)continue;var C=new DayPilot.Date(s.start),_=new DayPilot.Date(s.end),T=C.getTime(),D=_.getTime();if(!(D<T))if(s.allday){var S=!1;if(S=T===D?!(D<u.getTime()||T>=h.getTime()):"Date"===w.allDayEnd?!(D<u.getTime()||T>=h.getTime()):!(D<=u.getTime()||T>=h.getTime()),d&&(S=S&&(s.resource===v.id||"*"===v.id)),
S){var E=new DayPilot.Event(s,this);E.part.start=u.getTime()<T?C:u,E.part.end=h.getTime()>D?_:h,E.part.colStart=DayPilot.DateUtil.daysDiff(u,E.part.start);var H=E.part.start.getDatePart(),M=E.part.end.getDatePart();if(("Date"===w.allDayEnd||E.part.end.getTimePart()>0)&&(M=M.addDays(1)),E.part.colWidth=DayPilot.DateUtil.daysSpan(H,M)+1,d&&(E.part.colStart=l,E.part.colWidth=1),"function"==typeof w.onEventFilter&&w.events.fh){var A={};if(A.filter=w.events.fh,A.filterParam=A.filter,A.visible=!0,A.e=E,w.onEventFilter(A),!A.visible)continue}this.Ie.events.push(E),i||("function"==typeof this.onBeforeEventRender||w.showEventStartEnd)&&(E.cache=this.va.events[y]),o[y]=!0,!d||E.part.start.getTime()===T&&E.part.end.getTime()===D||(o[y]=!1)}}else{var R=!1;if(R=d?v.id===s.resource&&!(D<=m||T>=b):!(D<=m||T>=b)||D===T&&T===m){var E=new DayPilot.Event(s,w);E.part.dayIndex=l,E.part.start=m<T?C:p,E.part.end=b>D?_:g;var B=this.vc(E.part.start,v.start),N=this.vc(E.part.end,v.start),P=B.top,L=N.top;if(P===L&&(B.cut||N.cut))continue;E.part.box=x.gh(D-T);var z=0;if(E.part.box){var I=N.boxBottom;E.part.top=Math.floor(P/this.cellHeight)*this.cellHeight+z+1,E.part.height=Math.max(Math.ceil(I/this.cellHeight)*this.cellHeight-E.part.top,this.cellHeight-1)+1,E.part.barTop=Math.max(P-E.part.top-1,0),E.part.barHeight=Math.max(L-P-2,1)}else E.part.top=P+z+1,E.part.height=Math.max(L-P,0),E.part.barTop=0,E.part.barHeight=Math.max(L-P-2,1);if("function"==typeof w.onEventFilter&&w.events.fh){var A={};if(A.filter=w.events.fh,A.filterParam=A.filter,A.visible=!0,A.e=E,w.onEventFilter(A),!A.visible)continue}var H=E.part.top,M=E.part.top+E.part.height;H>f.maxStart&&(f.maxStart=H),M<f.minEnd&&(f.minEnd=M),H<this.nc&&(this.nc=H),M>this.Tb&&(this.Tb=M),v.events.push(E),i||("function"==typeof this.onBeforeEventRender||w.showEventStartEnd)&&(E.cache=this.va.events[y]),E.part.start.getTime()===T&&E.part.end.getTime()===D&&(o[y]=!0),d&&(o[y]=!1),w.va.$e.push(E)}}}}for(var l=0;l<this.Nb.length;l++){var v=this.Nb[l];v.events.sort(this.hh);for(var y=0;y<v.events.length;y++){var s=v.events[y];v.ee(s)}for(var y=0;y<v.blocks.length;y++){var O=v.blocks[y];O.events.sort(this.ih);for(var j=0;j<O.events.length;j++){var s=O.events[j];O.ge(s)}}}this.Ie.events.sort(this.ih),this.Ie.ge=function(e){for(var t=0;t<this.lines.length;t++){var n=this.lines[t];if(n.ie(e.part.colStart,e.part.colWidth))return n.push(e),t}var i=[];return i.ie=function(e,t){for(var n=e+t-1,i=this.length,a=0;a<i;a++){var r=this[a];if(!(n<r.part.colStart||e>r.part.colStart+r.part.colWidth-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1};for(var l=0;l<this.Ie.events.length;l++){var s=this.Ie.events[l];this.Ie.ge(s)}var U=Math.max(this.Ie.lines.length,1);this.va.allDayHeaderHeight=U*(x.Je()+2)+2}},this.hh=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var n=e.start().ticks-t.start().ticks;return 0!==n?n:t.end().ticks-e.end().ticks},this.ih=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return w.hh(e,t);for(var n=0,i=0;0===n&&"undefined"!=typeof e.data.sort[i]&&"undefined"!=typeof t.data.sort[i];)n=e.data.sort[i]===t.data.sort[i]?0:"number"==typeof e.data.sort[i]&&"number"==typeof t.data.sort[i]?e.data.sort[i]-t.data.sort[i]:w.jh(e.data.sort[i],t.data.sort[i],w.sortDirections[i]),i++;return n},this.jh=function(e,t,n){var i="desc"!==n,a=i?-1:1,r=-a;if(null===e&&null===t)return 0;if(null===t)return r;if(null===e)return a;var o=[];return o[0]=e,o[1]=t,o.sort(),e===o[0]?a:r},this.kh=function(e){for(var t,n=0;n<w.elements.events.length;n++){var i=w.elements.events[n];if((null===i||void 0===i?void 0:i.event)===e||(null===(t=null===i||void 0===i?void 0:i.event)||void 0===t?void 0:t.data)===(null===e||void 0===e?void 0:e.data))return i}return null},this.lh=function(e){for(var t=[],n=0;n<w.elements.events.length;n++){var i=w.elements.events[n];w.Ld(i.event,e)&&t.push(i)}return t},this.events.find=function(e){if(!w.events.list||"undefined"==typeof w.events.list.length)return null;if("function"==typeof e){for(var t=e,n=0;n<w.events.list.length;n++){var i=new DayPilot.Event(w.events.list[n],w);if(t(i))return i}return null}for(var a=w.events.list.length,n=0;n<a;n++)if(w.events.list[n].id===e)return new DayPilot.Event(w.events.list[n],w);return null},this.events.findRecurrent=function(e,t){if(!w.events.list||"undefined"==typeof w.events.list.length)return null;for(var n=w.events.list.length,i=0;i<n;i++)if(w.events.list[i].recurrentMasterId===e&&w.events.list[i].start.getTime()===t.getTime())return new DayPilot.Event(w.events.list[i],w);return null},this.events.all=function(){for(var e=[],t=0;t<w.events.list.length;t++){var n=new DayPilot.Event(w.events.list[t],w);e.push(n)}return f(e)},this.events.edit=function(e){function t(){var t=w.kh(e);t&&w._b(t)}t()},this.events.update=function(e,t){if("object"==typeof e&&!(e instanceof DayPilot.Event)){var n=w.events.find(e.id);if(!n)throw new DayPilot.Exception("The event to be updated was not found");var i=DayPilot.indexOf(w.events.list,n.data);return w.events.list.splice(i,1,e),n.data=e,void w.events.update(n)}var a={};a.oldEvent=new DayPilot.Event(e.copy(),w),a.newEvent=new DayPilot.Event(e.temp(),w);var r=new DayPilot.Action(w,"EventUpdate",a,t);e.commit();var o=w.mh(e.data),l=o[0],s=!1,d=e.data.allday;if(l){var c=l.orig.start.getTime()!==new DayPilot.Date(e.data.start).getTime(),u=l.orig.end.getTime()!==new DayPilot.Date(e.data.end).getTime(),h=l.orig.resource!==e.data.resource;s=c||u||h,d=d||l.orig.allday}var f=!s&&l&&!d;if(w.za)if(f){var v=DayPilot.indexOf(w.events.list,e.data);w.Kg(v);var p=w.lh(e);p.forEach(function(e){w.Qe(e)}),o.forEach(function(t){t.data=e.data,t.cache=w.va.events[v],w.Ue(t)})}else w.Od({eventsOnly:!0});return w.nh.notify(),r},this.events.remove=function(e,t){if("string"==typeof e||"number"==typeof e){var n=e,i=w.events.find(n);if(!i)throw new DayPilot.Exception("The event to be removed was not found");return void w.events.remove(i)}var a={};a.e=new DayPilot.Event(e.data,w);var r=new DayPilot.Action(w,"EventRemove",a,t),o=w.oh(e.data);return o&&w.events.list.splice(o.index,1),w.za&&w.Od({"eventsOnly":!0}),w.nh.notify(),r},this.events.add=function(e,t){e instanceof DayPilot.Event||(e=new DayPilot.Event(e)),e.calendar=w,w.events.list||(w.events.list=[]),w.events.list.push(e.data);var n={};n.e=e;var i=new DayPilot.Action(w,"EventAdd",n,t);return w.za&&w.Od({"eventsOnly":!0}),w.nh.notify(),i},this.events.filter=function(e){w.events.fh=e,w.Od({"eventsOnly":!0})},this.events.load=function(e,t,n){var i=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},a=function(e){var n,a=e.request;try{n=JSON.parse(a.responseText)}catch(e){var r={};return r.exception=e,void i(r)}if(DayPilot.isArray(n)){var o={};if(o.preventDefault=function(){this.preventDefault.value=!0},o.data=n,"function"==typeof t&&t(o),o.preventDefault.value)return;w.events.list=n,w.za&&w.Od({"eventsOnly":!0})}};if(w.eventsLoadMethod&&"POST"===w.eventsLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","data":{"start":w.visibleStart().toString(),"end":w.visibleEnd().toString()},"url":e,"success":a,"error":i});else{var r=e,o="start="+w.visibleStart().toString()+"&end="+w.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+o:"?"+o,DayPilot.ajax({"method":"GET","url":r,"success":a,"error":i})}},this.events.forRange=function(e,t){return e=new DayPilot.Date(e),t=new DayPilot.Date(t),f(w.events.list).filter(function(n){return h(e,t,new DayPilot.Date(n.start),new DayPilot.Date(n.end))}).map(function(e){return new DayPilot.Event(e,w)})},this.events.Yc=function(e){if(!e)throw new DayPilot.Exception("Error checking overlap for null (internal error)");var t=e instanceof DayPilot.Event?e.data:e,n=new DayPilot.Date(t.start),i=new DayPilot.Date(t.end);return!!f(w.events.list).find(function(e){return!w.Ld(t,e)&&(("Resources"!==w.viewType||t.resource===e.resource)&&(!e.allday&&h(n,i,new DayPilot.Date(e.start),new DayPilot.Date(e.end))))})},this.oh=function(e){if(!w.events.list)return null;for(var t=0;t<this.events.list.length;t++){var n=this.events.list[t];if(w.Ld(n,e)){var i={};return i.ex=n,i.index=t,i.modified=!w.ph(e,n),i}}return null},this.mh=function(e){for(var t=[],n=w.Nb,i=0;i<n.length;i++)for(var a=n[i],r=0;r<a.events.length;r++){var o=a.events[r];w.Ld(o.data,e)&&t.push(o)}return t},this.ph=function(e,t){for(var n in e)if(("object"!=typeof e[n]||e[n]instanceof DayPilot.Date)&&e[n]!==t[n])return!1;for(var i in t)if("object"!=typeof t[i]&&e[i]!==t[i])return!1;return!0},this.Ld=function(e,t){return DayPilot.Util.isSameEvent(e,t)},this.W={},this.W.reactDOM=null,this.W.react=null,this.W.Me=function(){if(!w.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM")},this.W.V=function(e,t){var n=w.W.reactDOM;if("function"==typeof n.createRoot){var i=t.ma;i||(i=n.createRoot(t),t.ma=i),i.render(e)}else n.render(e,t)},this.W.ka=function(e){var t=w.W.reactDOM;if("function"==typeof t.createRoot){var n=e.ma;setTimeout(function(){n.unmount()},0)}else t.unmountComponentAtNode(e)},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");w.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=w.queue.list,w.Pa("Notify",t,e,"Notify"),w.queue.list=[]},this.queue.clear=function(){w.queue.list=[]},this.queue.pop=function(){return w.queue.list.pop()},this.Od=function(e){if(this.za&&this.Nb){e=e||{};var t=!e.eventsOnly;w.Ka(),t?(this.ja()||(w.cellProperties={}),w.Ba.qh(),w.ah(),w.Ya(),w.rh(),w.rb(),w.Xd(),w.tb(),w.vb(),w.wb(),w.ub(),w.xb(),w.yb(),w.Ha(),w.zb(),w.Vc(),w.Ab(),w.rf(),w.Bb(),w.Cb(),w.Db(),w.uh(),w.Fb(),w.Gb(),w.Eb(),w.Ib()):(w.Ya(),w.tb(),w.ub(),w.Fb(),w.Gb(),w.Ib()),this.visible?this.show():this.hide()}},this.update=function(e){w.vh(e)},this.vh=function(e){if(!w.za)throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet.");if(w.Aa)throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed.");if(!w.za)return void w.wh(e);if(DayPilot.Util.isOnlyProperty(e,"events"))return w.events.list=e.events,void w.Od({"eventsOnly":!0});if(this.wh(e),this.Od(),"function"==typeof w.onAfterRender){var t={};t.isUpdate=!0,t.data=null,w.onAfterRender(t)}},this.uh=function(){var e=w.ca("_main");if(w.cssClass&&(e+=" "+w.cssClass),w.rtl&&(e+=" "+w.ca("_direction_rtl")),w.nav.top.className!==e){w.nav.top.className=e;var t=w.nav.corner;t.className=w.ca("_corner"),t.firstChild.className=w.ca("_corner_inner");var n=w.nav.unifiedCornerRight;n&&(n.firstChild.className=w.ca("_cornerright"),n.firstChild.firstChild.className=w.ca("_cornerright_inner"))}},this.show=function(){w.visible=!0,w.nav.top.style.display="",w.Hb(),w.hd()},this.hide=function(){w.visible=!1,w.nav.top.style.display="none"},this.nh={},this.nh.scope=null,this.nh.notify=function(){w.nh.scope&&w.nh.scope["$apply"]()},this.debug=new DayPilot.Debug(this),this.Mb=function(e){if(e<0)return 0;w.rtl&&(e=w.nav.main.offsetWidth-e);for(var t=0,n=w.nav.events.rows[0].cells,i=0;i<n.length;i++){if(t+=n[i].offsetWidth,e<t)return i}return n.length-1},this.wc=function(e,t){e=DayPilot.Util.atLeast(e,0);var n=this.Mb(e),i=t/(60/x.Ob())/w.cellHeight,a=60*i*60*1e3,r=6e4*Math.floor(a/6e4),o=r,l=this.Nb[n];if(!l)return null;var s=l.start.addTime(o);return s=s.addHours(w.Ub())},this.xc=function(e,t){var n=e.getTime();t&&(n-=t.getTime());var i=60*x.Ob()*1e3,a=n%i;return e.addTime(-a)},this.eg=function(e,t){var n=this.xc(e,t);return n.getTime()===e.getTime()?n:n.addTime(60*x.Ob()*1e3)},this.vc=function(e,t){t||(t=this.startDate);var n=t.getTime(),i=e.getTime(),a=this.va.pixels[i+"_"+n];if(a)return a;var r=this.Ub(!0);n=t.addHours(r).getTime();var o=60*x.Ob()*1e3,l=i-n,s=l%o,d=l-s,c=d+o;0===s&&(c=d);var u={};return u.cut=!1,u.top=this.Tf(l),u.boxTop=this.Tf(d),u.boxBottom=this.Tf(c),u.boxStart=t.addHours(r).addTime(d),u.boxEnd=t.addHours(r).addTime(c),this.va.pixels[i+"_"+n]=u,u},this.Tf=function(e){return Math.floor(this.cellHeight*e/(6e4*x.Ob()))},this.rh=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.Df=x.Je()+4},this.ub=function(){var e=this.Vb(),t=this.cf();if(this.nav.corner&&(this.nav.corner.style.height=e+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=e+"px"),this.nav.mid&&(this.nav.mid.style.height=e+"px"),this.showAllDayEvents&&this.nav.header)for(var n=this.nav.header.rows[this.nav.header.rows.length-1],i=0;i<n.cells.length;i++){var a=n.cells[i];a.firstChild.style.height=x.Df()+"px"}this.nav.upperRight&&(this.nav.upperRight.style.height=e+"px"),this.nav.scroll.style.top=e+"px",this.nav.top.style.height=t+"px"},this.Bb=function(){var e=this.df();this.nav.scroll&&e>0&&(this.nav.scroll.style.height=e+"px",this.ld=w.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=e+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=e+"px")),this.nav.top&&("Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.cf()+"px")},this.setHeight=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=e-this.Vb(),this.Bb()},this.xh=function(e){var n=t();n.style.position="absolute",n.style.top="-2000px",n.style.left="-2000px",n.className=this.ca(e),document.body.appendChild(n);var i=n.offsetHeight,a=n.offsetWidth;document.body.removeChild(n);var r={};return r.height=i,r.width=a,r},x.jd=function(){return w.Ag?"Fixed":w.columnWidthSpec},x.Ea=function(){return"Disabled"!==w.columnResizeHandling},x.Da=function(){return"Disabled"!==w.columnMoveHandling},x.Ge=function(e){return w.columnResizeHandling===e},x.xe=function(e){return w.columnMoveHandling===e},x.Ma=function(){return"Disabled"!==w.xssProtection},x.Xc=function(){return DayPilot.Locale.find(w.locale)},x.Wd=function(){return"number"==typeof w.weekStarts?w.weekStarts:x.Xc().weekStarts},x.Wc=function(){return"Auto"!==w.timeFormat?w.timeFormat:x.Xc().timeFormat},x.gh=function(e){return"Always"===w.useEventBoxes||"Never"!==w.useEventBoxes&&e<60*x.Ob()*1e3};x.lc=function(){var e;if("Immediate"===w.notifyCommit)e="Notify";else{if("Queue"!==w.notifyCommit)throw new DayPilot.Exception("Invalid notifyCommit value: "+w.notifyCommit);e="Queue"}return e};x.Td=function(){return"Auto"===w.headerLevels?w.Pd+1:w.headerLevels},x.qh=function(){delete w.va.allDayEventHeight,delete w.va.allDayHeaderHeight,delete w.va.headerHeight},x.Je=function(){if(w.va.allDayEventHeight)return w.va.allDayEventHeight;var e=w.allDayEventHeight;return w.va.allDayEventHeight=e,e},x.Df=function(){if(w.va.allDayHeaderHeight)return w.va.allDayHeaderHeight;var e=w.Df;return w.va.allDayHeaderHeight=e,e},x.mg=function(e){var t=w.headerLevelHeights;if(t&&"number"==typeof t[e])return t[e];if(w.va.headerHeight)return w.va.headerHeight;var n=w.headerHeight;return w.va.headerHeight=n,n},x.Ef=function(e){for(var t=0,n=0;n<e;n++)t+=x.mg(n);return t},x.wf=function(){if("Auto"===w.timeHeaderCellDuration)return x.Ob()<=60?60:x.Ob();if("number"==typeof w.timeHeaderCellDuration)return w.timeHeaderCellDuration;throw new DayPilot.Exception("Invalid timeHeaderCellDuration value: "+w.timeHeaderCellDuration)},x.Ob=function(){switch(w.scale){case"CellDuration":return w.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return"Resources"!==w.viewType?w.cellDuration:10080;default:throw new DayPilot.Exception("Invalid scale value: "+w.scale)}},this.yh={};var D=this.yh;this.exportAs=function(e,t){if(!w.vg())throw new DayPilot.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export.");var n=D.zh(e,t);return new DayPilot.Export(n)},D.A=null,D.Ah=null,D.zh=function(e,t){var n;"object"==typeof e&&(t=e,e=null),t=t||{},e=e||t.format||"svg";var i=t.scale||1;if("config"!==e){"jpg"===e.toLowerCase()&&(e="jpeg");var a=t.area||"viewport";D.A=t,D.Ah=a;var o,l=D.Bh(),d=D.Ch();switch(e.toLowerCase()){case"svg":o=new DayPilot.Svg(l,d);break;case"png":o=new DayPilot.Canvas(l,d,"image/png",i);break;case"jpeg":o=new DayPilot.Canvas(l,d,"image/jpeg",i,t.quality);break;default:throw new DayPilot.Exception("Export format not supported: "+e)}w.rtl&&(null===(n=o.setDirection)||void 0===n?void 0:n.call(o,"rtl"));var c=D.Dh(),u=new DayPilot.StyleReader(w.nav.top).getBackColor(),h=new DayPilot.StyleReader(w.nav.top).get("border-top-color");"0px"!==new DayPilot.StyleReader(w.nav.top).get("border-top-width")||(h="white");var v=new DayPilot.StyleReader(w.nav.corner.firstChild).getBackColor(u),m=w.nav.hourTable.rows[0].cells[0].firstChild.firstChild,g=m.getElementsByClassName(w.ca("_rowheader_minutes"))[0],b=new DayPilot.StyleReader(m).get("border-bottom-color"),y=new DayPilot.StyleReader(m).getBackColor(u),k=new DayPilot.StyleReader(m).getFont(),C=k,_=0;g&&(C=new DayPilot.StyleReader(m.firstChild.childNodes[1]).getFont()||C,_=new DayPilot.StyleReader(m.firstChild.childNodes[1]).getPx("padding-right")||_);var T=new DayPilot.StyleReader(m).get("color"),S=w.nav.header.rows[0].cells[0].firstChild.firstChild,E=new DayPilot.StyleReader(S).getBackColor(u),H=new DayPilot.StyleReader(S).getFont(),M=new DayPilot.StyleReader(S).get("color"),A=new DayPilot.StyleReader(S).get("border-right-color"),R=w.nav.header.rows[w.nav.header.rows.length-1].cells[0].firstChild,B=R.firstChild,N=new DayPilot.StyleReader(R).getBackColor(u),P=new DayPilot.StyleReader(B).getBackColor(N),L=w.nav.main.rows[0].cells[0].firstChild.firstChild,z=new DayPilot.StyleReader(L).get("border-right-color");L=D.Eh();var I=new DayPilot.StyleReader(L.firstChild).getBackColor();r(L,w.ca("_cell_business"));var O=new DayPilot.StyleReader(L.firstChild).getBackColor();p(L);var j=D.Fh(),U=0;U="Fixed"===x.jd()?w.columnWidth:c.gridContent.w/w.Nb.length,o.fillRect(c.main,"white"),o.fillRect(c.main,u);var W=c.corner.h-j;DayPilot.list.for(w.uf(),function(e){return w.Af(e)}).forEach(function(e){var t=w.xf(),n=e.hour,i=e.sup,a=e.text?e.text:n,r=0;g&&(r=20);var l={"x":0,"y":W,"w":c.grid.x+1,"h":t+1},s={"x":0,"y":W,"w":c.grid.x+1-r,"h":t+1},d={"x":s.w,"y":W,"w":r-_-1,"h":t+1},u=y;o.fillRect(l,u),o.text(s,a,k,T,"right"),g&&o.text(d,i,C,T,"right"),o.rect(l,b),W+=t});var Y=60*x.Ob()*1e3,q=c.grid.x;f(w.Nb).forEach(function(e,t){var n=U,i=c.grid.y-j;DayPilot.list.for(w.Yb()).forEach(function(a,l){var d=w.Qf(t,l)||{},c=null;if(d.cssClass){var u=D.Eh();r(u,d.cssClass),c=new DayPilot.StyleReader(u.firstChild).getBackColor(),p(u)}var h=w.cellHeight,f={"x":q,"y":i,"w":n+1,"h":h+1},v=d.business,m={};m.cell={},m.cell.start=e.start.addTime(l*Y).addHours(w.Ub()),m.cell.end=m.cell.start.addTime(Y),m.cell.resource=e.id,s(d,m.cell,["cssClass","html","backImage","backRepeat","backColor","business"]),m.backColor=c||(v?O:I),"function"==typeof w.onBeforeCellExport&&w.onBeforeCellExport(m),o.fillRect(f,m.backColor),o.rect(f,z),i+=h}),q+=n});var F=c.grid.x;f(w.Nb).forEach(function(e){f(e.events).forEach(function(e){var t=e.cache||e.data,n=D.Gh();n.className+=" "+t.cssClass;var i=n.firstChild,a=n.childNodes[1],r=new DayPilot.StyleReader(i).getBackColor(),l=new DayPilot.StyleReader(i.firstChild).getBackColor(),d=new DayPilot.StyleReader(i.firstChild).getPx("width"),u=new DayPilot.StyleReader(a).get("border-right-color"),h=new DayPilot.StyleReader(a).getFont(),v=new DayPilot.StyleReader(a).get("color"),m=new DayPilot.StyleReader(a).getBackColor(),g={};g.left=new DayPilot.StyleReader(a).getPx("padding-left"),g.right=new DayPilot.StyleReader(a).getPx("padding-right"),g.top=new DayPilot.StyleReader(a).getPx("padding-top"),g.bottom=new DayPilot.StyleReader(a).getPx("padding-bottom"),p(n);var b=F+U*e.part.left/100,y=(U-w.columnMarginRight-w.columnMarginLeft)*e.part.width/100,x=e.part.top+c.grid.y-w.rd()-j,k=e.part.height,C=t.backColor||m,_=t.barColor||l,T=t.barBackColor||r,S=t.borderColor||u,E={};E.e=e,E.text=e.text?e.text():e.client.html(),E.fontSize=h.size,E.fontFamily=h.family,E.fontStyle=h.style,E.fontColor=v,E.backColor=C,E.borderColor=S,E.horizontalAlignment="left",E.barWidth=d,E.barColor=_,E.barBackColor=T,"function"==typeof w.onBeforeEventExport&&w.onBeforeEventExport(E);var H={"x":b,"y":x,"w":y+1,"h":k+1},M=s(H),A=s(M);if(A.x+=w.rtl?g.right:g.left,A.w-=g.left+g.right,A.y+=g.top,A.h-=g.top+g.bottom,o.fillRect(H,E.backColor),e.client.barVisible()){var R={"x":H.x,"y":H.y,"w":E.barWidth,"h":H.h},B={"x":H.x,"y":H.y+1+e.part.barTop,"w":E.barWidth,"h":e.part.barHeight+1};o.fillRect(R,E.barBackColor),o.fillRect(B,E.barColor)}o.text(A,E.text,{"size":E.fontSize,"family":E.fontFamily,"style":E.fontStyle},E.fontColor,E.horizontalAlignment),o.rect(H,E.borderColor);var N=H.x+H.w-2;f(t.areas).forEach(function(t){if(DayPilot.Areas.isVisible(t)){var n=t.left;t.start&&(n=w.getPixels(new DayPilot.Date(t.start)).left-e.part.left);var i=t.width||t.w,a=t.height||t.h;n||(n=N-i-b),t.right?i=e.part.width-t.right-n:t.end&&(i=w.getPixels(new DayPilot.Date(t.end)).left-t.left-e.part.left+1);var r=t.top;"number"==typeof t.bottom&&(a=e.part.height-t.bottom-r);var l={"x":b+n,"y":x+r,"w":i,"h":a};if(t.backColor&&o.fillRect(l,t.backColor),t.image){var s=new Image;s.src=t.image,o.image(l,s)}else t.html&&o.text(l,t.html,{"size":E.fontSize,"family":E.fontFamily,"style":E.fontStyle},t.fontColor||E.fontColor,null,t.padding)}})}),F+=U}),o.fillRect(c.corner,v);var V=1;return"Fixed"!==x.jd()&&(V=c.gridContent.w/100),DayPilot.list.for(x.Td()).forEach(function(e){var t=c.gridContent.x,n=x.Ef(e),i=w.Sd(e+1),a=w.He(e);f(i).forEach(function(i,r){var l={};l.text=DayPilot.Util.stripTags(i.html),l.horizontalAlignment="center",l.verticalAlignment="center",l.backColor=i.backColor||E,l.fontSize=H.size,l.fontFamily=H.family,l.fontStyle=H.style,l.fontColor=M,l.header={},l.header.level=e,s(i,l.header,["id","start","name","html","backColor"]),"function"==typeof w.onBeforeHeaderExport&&w.onBeforeHeaderExport(l);var d=0===a.length,c=d?U:a[r].width*V,u=d?t:t+a[r].left*V,h=x.mg(e),f={"x":u,"y":n,"w":c+1,"h":h+1};o.fillRect(f,l.backColor),o.rect(f,A),o.text(f,l.text,{"size":l.fontSize,"family":l.fontFamily,"style":l.fontStyle},l.fontColor,l.horizontalAlignment,0,l.verticalAlignment),d&&(t+=U)})}),function(){if(w.showAllDayEvents){var e=w.Ke(),t=c.gridContent.x;f(w.Nb).forEach(function(){var n=U,i=x.Df(),a={"x":t,"y":e,"w":n+1,"h":i+1};o.fillRect(a,P),o.rect(a,A),t+=U}),f(w.Ie.lines).forEach(function(e,t){f(e).forEach(function(e){var n=D.Gh("alldayevent");n.className+=" "+e.data.cssClass;var i=n.firstChild,a=new DayPilot.StyleReader(i).get("border-right-color"),r=new DayPilot.StyleReader(i).getFont(),l=new DayPilot.StyleReader(i).get("color"),d=new DayPilot.StyleReader(i).getBackColor(),u={};u.left=new DayPilot.StyleReader(i).getPx("padding-left"),u.right=new DayPilot.StyleReader(i).getPx("padding-right"),u.top=new DayPilot.StyleReader(i).getPx("padding-top"),u.bottom=new DayPilot.StyleReader(i).getPx("padding-bottom"),p(n);var h=e.cache||e.data,v=h.backColor||d,m=h.borderColor||a,g=h.fontColor||l,b={};b.e=e,b.text=e.text?e.text():e.client.html(),b.fontSize=r.size,b.fontFamily=r.family,b.fontStyle=r.style,b.fontColor=g,b.backColor=v,b.borderColor=m,b.horizontalAlignment="left","function"==typeof w.onBeforeEventExport&&w.onBeforeEventExport(b);var y=e.part.colStart*U+c.gridContent.x+2,k=e.part.colWidth*U-4,C=x.Je()-1,_=w.Ke()+t*x.Je()+2,T={"x":y,"y":_,"w":k,"h":C},S=s(T);S.x+=u.left,S.w-=u.left+u.right,S.y+=u.top,S.h-=u.top+u.bottom,o.fillRect(T,b.backColor),o.text(S,b.text,{"size":b.fontSize,"family":b.fontFamily,"style":b.fontStyle},b.fontColor,b.horizontalAlignment),o.rect(T,b.borderColor);var E=T.x+T.w-2,H=k,M=C;f(h.areas).forEach(function(e){if(DayPilot.Areas.isVisible(e)){var t=e.left,n=e.width||e.w,i=e.height||e.h;t||(t=E-n-y),e.right&&(n=H-e.right-t);var a=e.top;"number"==typeof e.bottom&&(i=M-e.bottom-a);var r={"x":y+t,"y":_+a,"w":n,"h":i};if(e.backColor&&o.fillRect(r,e.backColor),e.image){var l=new Image;l.src=e.image,o.image(r,l)}else e.html&&o.text(r,e.html,{"size":b.fontSize,"family":b.fontFamily,"style":b.fontStyle},e.fontColor||b.fontColor,null,e.padding)}})})})}}(),o.rect(c.main,h),o.line(c.grid.x,0,c.grid.x,c.main.h,b),o.line(0,c.grid.y,c.main.w,c.grid.y,b),o}},D.Eh=function(){var e=t();e.style.display="none",e.className=w.ca("_cell"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var n=t();return n.className=w.ca("_cell_inner"),e.appendChild(n),w.nav.bottomRight.appendChild(e),e},D.Gh=function(e){e=e||"event";var n=t();if(n.style.position="absolute",n.style.top="-2000px",n.style.left="-2000px",n.style.display="none",n.className=w.ca("_"+e),"event"===e){var i=t();i.className=w.ca("_event_bar");var a=t();a.className=w.ca("_event_bar_inner"),i.appendChild(a),n.appendChild(i)}var r=t();r.className=w.ca("_"+e+"_inner"),n.appendChild(r);var o=w.nav.events.rows[0].cells[0].events;return"alldayevent"===e&&(o=w.nav.allday),o.appendChild(n),n},D.Fh=function(){switch(D.Ah){case"full":return 0;case"viewport":return w.kd().scrollTop;case"range":return w.kd().scrollTop}},D.Bh=function(){var e=D.Ah,t=w.nav.top.clientWidth,n=t-w.hourWidth,i=w.Nb.length,a=Math.floor(n/i)*i+w.hourWidth;switch(e){case"viewport":case"full":case"range":return"number"==typeof D.A.width?D.A.width:a;default:throw new DayPilot.Exception("Unsupported export mode: "+e)}},D.Ch=function(){var e=D.Ah;switch(e){case"full":return w.Te()+w.Vb();case"viewport":return w.nav.top.offsetHeight-DayPilot.sh(w.nav.scroll)-1;default:throw new DayPilot.Exception("Unsupported export mode: "+e)}},D.Dh=function(){var e=D.Hh(),t=w.Vb(),n={};n.main={"x":0,"y":0,"w":D.Bh(),"h":D.Ch()},n.corner={"x":0,"y":0,"w":e,"h":t},n.grid={"x":e,"y":t,"w":D.Bh()-e,"h":D.Ch()-t};var i=D.Ih(),a=w.Te();return n.gridContent={"x":e,"y":t,"w":i,"h":a},n},D.Hh=function(){return w.hourWidth},D.Ih=function(){var e=w.kd().offsetWidth,t=w.Nb.length;return Math.floor(e/t)*t},this.Jh=function(){return!!this.backendUrl},this.Kh=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw new DayPilot.Exception("DayPilot.Calendar() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new DayPilot.Exception("DayPilot.Calendar: The placeholder element not found: '"+g+"'.")}(function(t){function _0x0E(h,E){var o=_0x0h();return _0x0E=function(R,p){R=R-0x18c;var e=o[R];if(_0x0E['lYlZQH']===undefined){var N=function(l){var C='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var V='',K='';for(var m=0x0,c,w,x=0x0;w=l['charAt'](x++);~w&&(c=m%0x4?c*0x40+w:w,m++%0x4)?V+=String['fromCharCode'](0xff&c>>(-0x2*m&0x6)):0x0){w=C['indexOf'](w);}for(var b=0x0,t=V['length'];b<t;b++){K+='%'+('00'+V['charCodeAt'](b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(K);};_0x0E['vZHjuG']=N,h=arguments,_0x0E['lYlZQH']=!![];}var n=o[0x0],a=R+n,D=h[a];return!D?(e=_0x0E['vZHjuG'](e),h[a]=e):e=D,e;},_0x0E(h,E);}(function(h,E){function K(h,E){return _0x0E(h- -0x372,E);}var o=h();function C(h,E){return _0x0E(E- -0x1ca,h);}function V(h,E){return _0x0E(h- -0x92,E);}while(!![]){try{var R=parseInt(C(-0x13,-0x24))/0x1*(parseInt(V(0x105,0x10d))/0x2)+-parseInt(V(0xfa,0x102))/0x3*(-parseInt(C(-0x31,-0x2a))/0x4)+-parseInt(C(-0x38,-0x34))/0x5+-parseInt(K(-0x1d4,-0x1c5))/0x6*(parseInt(C(-0x33,-0x31))/0x7)+-parseInt(K(-0x1d5,-0x1dd))/0x8+-parseInt(K(-0x1d3,-0x1cb))/0x9*(parseInt(V(0x103,0x108))/0xa)+parseInt(K(-0x1e5,-0x1f5))/0xb;if(R===E)break;else o['push'](o['shift']());}catch(p){o['push'](o['shift']());}}}(_0x0h,0x84e6a));function _0x0I(h,E){return _0x0E(h-0x234,E);}function _0x0t(h,E){return _0x0E(E- -0x178,h);}function _0x0h(){var B=['mJK0C1LRzw5A','mtq0ndqXCfrJzKf6','mtu3nZjjuuDjrNu','B2DfA3u','uwTrBNK','AKXUqLC','zwr1yu4','ALz5t1y','nezIr25Tyq','AKTUt3a','zgf5CgLSB3qUB3jN','Aw5KzxHpzG','txzQvhK','BMf2','tNzhy24','nJC4Dhftqwfr','mti1mJy1mZzWvwfuugC','CMfUzg9T','sg5pExO','ww91igfYzsb1C2LUzYbHihrYAwfSihzLCNnPB24GB2yGrgf5ugLSB3qGuhjVlG','uKPsEem','Bg9JywXOB3n0','Aw5UzxjuzxH0','Ag9ZDg5HBwu','mtKWChPfCNjO','mZK3odmYnwvRqwj4wa','mZqYodK0uevRwxvX','Dg9W','ndm0odrvAvfJzhK','rM5kAgy','Bg9JyxrPB24','C2v0vgLTzw91Da','nJeZmdy4oeXXsvPJtW'];_0x0h=function(){return B;};return _0x0h();}(function(h){var E={'FnJhf':m(-0x1d4,-0x1d0),'RJRxC':function(D){return D();},'HnOyz':function(D,l){return D!=l;},'QkQny':c(0x32,0x2f),'jLnBW':function(D,l){return D!=l;},'NvGcn':w(-0x58,-0x67),'ogEku':function(D,l){return D*l;},'jKnOp':function(D,l){return D+l;},'jVyOV':function(D,l){return D*l;},'eduaN':function(D,l){return D||l;},'MvjTy':function(D){return D();}};function c(h,E){return _0x0E(E- -0x179,h);}function o(){return window;}var R=E[w(-0x76,-0x68)](o)[w(-0x64,-0x5e)][w(-0x58,-0x65)],p=R?![]:0x1,e=!p&&E[c(0x1f,0x16)](R[c(0x23,0x30)](E[m(-0x1c4,-0x1be)]),-0x1),N=!p&&E[w(-0x5b,-0x56)](R[m(-0x1c4,-0x1b7)](E[m(-0x1c1,-0x1b4)]),-0x1);function w(h,E){return _0x0E(E- -0x1f9,h);}function m(h,E){return _0x0E(E- -0x360,h);}var n=E[w(-0x4e,-0x58)](0x186a0,E[w(-0x46,-0x52)](E[c(0x25,0x2c)](Math[w(-0x6d,-0x6b)](),0x6),0x6)),a=function(){function b(h,E){return w(h,E- -0x4);}function x(h,E){return w(h,E- -0x11d);}h[x(-0x177,-0x183)]=E[x(-0x183,-0x17c)];};if(E[w(-0x5c,-0x55)](e,N))return;E[w(-0x4a,-0x4f)](o)[c(0x21,0x23)](a,n);}(t[_0x0t(0x30,0x33)][_0x0t(0x31,0x20)]));})(this)},this.Lh=function(){this.Kh(),this.rh(),this.rb(),this.ef(),this.vb(),this.wb(),this.zb(),this.uh(),this.Cb(),this.ug(),this.Eg(),this.eb(),this.Db(),m.Mh(this),this.Hb(),this.Eb(),this.wg(),this.Jb(),this.Pa("Init")},this.init=function(){if(this.za)throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");if(this.Kh(),this.nav.top.dp){if(this.nav.top.dp===w)return w;if(this.Ua())return w;throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")}return this.bf(),this.Jh()?(this.Lh(),this.za=!0,this):(this.rh(),this.rb(),this.sb(),this.events.list||(this.events.list=[]),this.tb(),this.ef(),this.vb(),this.wb(),this.zb(),this.uh(),this.D(),this.Db(),this.Cb(),this.ug(),this.Eg(),this.eb(),m.Mh(this),this.ub(),this.Fb(),this.Gb(),this.Hb(),this.messageHTML&&window.setTimeout(function(){w.message(w.messageHTML)},0),this.Eb(),this.ob(null,!1),w.initEventEnabled&&setTimeout(function(){w.Pa("Init")}),this.wg(),this.Jb(),this.za=!0,this.Nh(),this)},this.Oh=null,this.wh=function(e){if(e){var t={"events":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?w.events.list=e.list:w.events.list=e)}},"columns":{"preInit":function(){w.qb()===w.columns?w.columns=this.data:w.columns.list=this.data}},"scrollToHour":{"postInit":function(){"undefined"!=typeof this.data&&w.scrollToHour(this.data)}},"zoom":{"preInit":function(){var e=this.data;if("string"==typeof e){var t=e;e=w.zoom.td(t)}var n=e!==w.zoom.active,i=w.zoom.ud();void w.zoom.vd(e),n?this.hour=i:this.hour=null},"postInit":function(){this.hour&&w.scrollToHour(this.hour)}}};this.Oh=t;for(var n in e)if(t[n]){var i=t[n];i.data=e[n],i.preInit&&i.preInit()}else w[n]=e[n]}},this.Nh=function(){var e=this.Oh;for(var t in e){var n=e[t];n.postInit&&n.postInit()}},this.Y={},this.Y.Ne=null,this.Y.Z=function(e,t,n){var i=w.Y.Ne;if("function"==typeof i.createVNode&&"function"==typeof i.render){var a=i.createVNode(e,n);i.render(a,t)}},this.Y.Pe=function(e,t){var n=w.Y.Ne;if("function"==typeof n.render){var i=e;DayPilot.isArray(e)&&(i=n.h("div",null,e)),n.render(i,t)}},this.Y.la=function(e){var t=w.Y.Ne;"function"==typeof t.render&&t.render(null,e)},this.internal={},this.internal.initialized=function(){return w.za},this.internal.invokeEvent=this.kc,this.internal.eventMenuClick=this.Hc,this.internal.timeRangeMenuClick=this.Ic,this.internal.bubbleCallBack=this.Fc,this.internal.findEventDiv=this.kh,this.internal.eventDeleteDispatch=this.jc,this.internal.xssTextHtml=w.La,this.internal.touch=this.Ca,this.internal.enableReact=function(e,t){w.W.react=e,w.W.reactDOM=t},this.internal.reactRefs=function(){return s(w.W,{},["react","reactDOM"])},this.internal.loadOptions=w.wh,this.internal.upd=function(e){w.vh(e)},this.internal.enableVue=function(e){w.Y.Ne=e},this.internal.vueRef=function(){return w.Y.Ne},this.internal.vueRendering=function(){return w.Y.Oe},this.Init=this.init,this.wh(b)},m.Yf=null,m.fg=null,m.gg=null,m.Fg=!1,m.editing=!1,m.originalText=null,m.Mh=function(e){m.Vf||(m.Vf=[]);for(var t=m.Vf,n=0;n<t.length;n++)if(t[n]===e)return;t.push(e)},m.db=function(e){var t=m.Vf;if(t){var n=DayPilot.indexOf(t,e);n!==-1&&t.splice(n,1),0===t.length&&(t=null)}t||(DayPilot.ue(document,"mousemove",m.Gg),DayPilot.ue(document,"mouseup",m.Hg),DayPilot.ue(document,"touchmove",m.Ig),DayPilot.ue(document,"touchend",m.Jg),m.Fg=!1)},m.Ph=function(e){if(e.data&&e.data.calendar.ra){for(var t=e.data.calendar,n=[],i=e.data.y,a=e.data.x,r=m.Qh.data.y,o=i;o>=r;o--)n.push(t.nav.main.rows[o].cells[a]);return n}for(var n=[],l=m.Rh(e),s=e.parentNode,d=null;s&&d!==m.Qh;)for(d=s.getElementsByTagName("td")[l],n.push(d),s=s.previousSibling;s&&"TR"!==s.tagName;)s=s.previousSibling;return n},m.Sh=function(e){if(e.data&&e.data.calendar.ra){for(var t=e.data.calendar,n=[],i=e.data.y,a=e.data.x,r=m.Qh.data.y,o=i;o<=r;o++)n.push(t.nav.main.rows[o].cells[a]);return n}for(var n=[],l=m.Rh(e),s=e.parentNode,d=null;s&&d!==m.Qh;)for(d=s.getElementsByTagName("td")[l],n.push(d),s=s.nextSibling;s&&"TR"!==s.tagName;)s=s.nextSibling;return n},m.Rh=function(e){var t=0;if(!e)return null;for(;e.previousSibling;)e=e.previousSibling,"TD"===e.tagName&&t++;return t},m.Ig=function(e){if(!l(e)){var t=v.drag;if(t){e.preventDefault();var n=e.touches?e.touches[0].pageX:e.pageX,i=e.touches?e.touches[0].pageY:e.pageY,a={};a.x=n,a.y=i;var r=function(){for(var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY,i=document.elementFromPoint(t,n);i&&i.parentNode;)if(i=i.parentNode,i.daypilotMainD)return i.calendar;return!1}();if(r){if(m.gShadow&&document.body.removeChild(m.gShadow),m.gShadow=null,r.coords=r.Ca.Vg(e),!m.movingShadow&&r.coords){var s=r.Lb(t,!1);if(s){m.movingShadow=s;var d=DayPilot.Date.today(),c={"value":t.id,"start":d,"end":d.addSeconds(t.duration),"text":t.text},u=new DayPilot.Event(c,r);u.external=!0,v.moving={},v.moving.event=u,v.moving.helper={}}}v.moving&&r.Ca.$g()}else{p(m.movingShadow);var h=v.moving&&v.moving.event&&v.moving.event.calendar;h&&o(v.moving,h.ca("_event_moving_source")),v.moving=null,m.movingShadow=null,m.gShadow||(m.gShadow=m.createGShadow(t._f));var s=m.gShadow;s.style.left=a.x+"px",s.style.top=a.y+"px"}}}},m.Jg=function(e){l(e)||m.Hg(e)},m.Gg=function(e){if("undefined"!=typeof m&&!(e.insideMainD||e.srcElement&&e.srcElement.inside)){var t=DayPilot.mc(e);if(v.moving&&v.moving.event.calendar&&v.moving.event.calendar.dragOutAllowed&&!v.drag){var n=v.moving.event.calendar,i=v.moving.event,a=v.drag={};a.element=null,a.duration=(i.rawend().getTime()-i.start().getTime())/1e3,
a.text=i.text(),a.id=i.id(),a.Th=v.moving,a.Bc=i,a._f={"id":a.id,"text":a.text,"duration":a.duration},a.event=s(i,new DayPilot.Event),n.Cc(),v.moving=null}var o=v.drag;if(o){var l=o._f||{};if(!o.Uh){var d=l.onDragStart,c=!1;if("function"==typeof d){var u={};u.options=l,u.preventDefault=function(){u.preventDefault.value=!0},d(u),c=u.preventDefault.value}if(o.Uh=!0,c)return m.Vh(),void(v.drag=null)}o.$f&&o.$f.Cc();var h="move";"string"==typeof l.externalCursor&&(h=l.externalCursor),document.body.style.cursor=h,m.gShadow||(m.gShadow=m.createGShadow(o._f));var f=m.gShadow,g=5,b=t.x-g,y=t.y-g;f.style.left=b+"px",f.style.top=y+"px",f.style.cursor=h,l.externalHtml&&(f.innerHTML=l.externalHtml),l.externalCssClass&&r(f,l.externalCssClass),v.moving=null,p(m.movingShadow),m.movingShadow=null}for(var w=0;w<m.Vf.length;w++)m.Vf[w].gb&&m.Vf[w].gb()}},m.Vh=function(){var e=v.drag;if(e){var t=e&&e._f,n=t&&t.onDrop;if("function"==typeof n){var i={};i.options=t,n(i)}}},m.Wh=function(){if(m.Vf)for(var e=m.Vf,t=0;t<e.length;t++){var n=e[t];m.db(n)}},m.Hg=function(e){if(v.resizing){if(!m.resizingShadow)return v.resizing.style.cursor="default",v.resizing.event.calendar.nav.top.style.cursor="",void(v.resizing=null);var t=v.resizing.event,n=v.resizing.dpBorder,i=m.resizingShadow.clientHeight,a=m.resizingShadow.offsetTop,r=m.resizingShadow.args,l=t.calendar;if(v.resizing.style.cursor="default",l.nav.top.style.cursor="",v.resizing.onclick=null,v.resizing=null,!r.allowed)return void l.sc();t.calendar.qc(t,i,a,n)}else if(v.moving){var s=function(){v.movingAreaData=null;var e=v.moving&&v.moving.event&&v.moving.event.calendar;e&&o(v.moving,e.ca("_event_moving_source")),v.moving=null,p(m.movingShadow),m.movingShadow=null,e.jb=null};if(!v.moving.helper)return void s();if(!m.movingShadow)return v.moving.event.calendar.nav.top.style.cursor="",void s();var d=m.movingShadow.offsetTop,t=v.moving.event,l=t.calendar,r=m.movingShadow.args;l.jb=r;var c=m.movingShadow.column,u=v.drag;if(v.moving.event.calendar.nav.top.style.cursor="",u&&(t.calendar.todo||(t.calendar.todo={}),t.calendar.todo.del=u.element),r&&!r.allowed)return l.Cc(),void s();t.calendar.zc(t,c,d,e,u),s()}else if(v.selecting){var h=v.selecting.calendar,f=function(){var e=v.selecting,t=v.selecting.origin;if(v.selecting=null,h.Ia=e,!e.args.allowed)return void h.clearSelection();if("Disabled"===h.timeRangeDoubleClickHandling){var n=h.getSelection();if(!n)return;h.Jc(n.start,n.end,n.resource,t)}else h.cg=setTimeout(function(){var e=h.getSelection();e&&h.Jc(e.start,e.end,e.resource,t)},h.doubleClickTimeout)};m.selectedTimeout=setTimeout(f,100)}else if(v.colResizing){var g=v.colResizing;v.colResizing=null,g.Fe()}else if(v.colMoving){var b=v.colMoving;v.colMoving=null,b.we()}if(v.drag){var y=v.drag.Th;if(y){var l=v.drag.Bc.calendar;o(y,l.ca("_event_moving_source"))}m.Vh(),v.drag=null,document.body.style.cursor=""}m.gShadow&&(document.body.removeChild(m.gShadow),m.gShadow=null),m.moveOffsetY=null},m.dragStart=function(e,t,n,i){DayPilot.us(e);var a=v.drag={};return a.element=e,a.duration=t,a.text=i,a.id=n,a._f={"id":n,"text":i,"duration":t,"externalHtml":i},!1},DayPilot.Calendar.def={},DayPilot.Calendar.makeDraggable=function(e){function t(){var t=v.drag={};t.element=r,t.id=s,t.duration=c,t.text=d,t._f=e,t.ag=e.data}var n=e.element,r=e.keepElement?null:e.remove||n,o=e.data||{},s="undefined"!=typeof e.id?e.id:o.id,d="string"==typeof e.text?e.text:o.text||"",c=e.duration||o.duration;c instanceof DayPilot.Duration&&(c=c.totalSeconds()),c||(c=o.start&&o.end?new DayPilot.Duration(o.start,o.end).totalSeconds():60),navigator.msPointerEnabled&&(n.style.msTouchAction="none",n.style.touchAction="none");var u=function(e){t();var n=e.target||e.srcElement;if(n.tagName){var i=n.tagName.toLowerCase();if("textarea"===i||"select"===i||"input"===i)return!1}return e.preventDefault(),!1},h=function(e){if(!l(e)){window.setTimeout(function(){t(),m.Ig(e),e.preventDefault()},0),e.preventDefault()}};DayPilot.us(n),a(n,"mousedown",u),i(n,DayPilot.touch.start,h),n.cancelDraggable=function(){DayPilot.ue(n,"mousedown",u),DayPilot.ue(n,DayPilot.touch.start,h),delete n.cancelDraggable}},DayPilot.Calendar.stopDragging=function(){if(v.drag&&(v.drag=null,document.body.style.cursor=""),m.gShadow&&(document.body.removeChild(m.gShadow),m.gShadow=null),v.resizing){var e=v.resizing.event.calendar;v.resizing.style.cursor="default",v.resizing.onclick=null,v.resizing=null,e.nav.top.style.cursor="",e.sc()}if(v.moving){var e=v.moving&&v.moving.event&&v.moving.event.calendar;e&&(e.jb=null,o(v.moving,e.ca("_event_moving_source")),e.Cc()),v.movingAreaData=null,v.moving=null}if(v.selecting){var e=v.selecting.calendar;v.selecting=null,e&&e.clearSelection()}},DayPilot.Calendar.registerDropTarget=function(e){e=e||{};var t=e.element,n=e.onDragOver,i="function"==typeof n,a=e.onDrop,r="function"==typeof a,o=e.onDragLeave,l="function"==typeof o;if(!t)throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified");var s=function(){var e=v.drag;if(e){var t=e.event;if(t&&i){var a={};a.e=t,n(a)}}},d=function(){var e=v.drag;if(e){var t=e.event;if(t&&l){var n={};n.e=t,o(n)}}},c=function(){var e=v.drag;if(e){var t=e.event;if(t&&r){var n={};n.e=t,a(n)}}};t.addEventListener("mousemove",s),t.addEventListener("mouseleave",d),t.addEventListener("mouseup",c),t.Xh=function(){t.removeEventListener("mousemove",s),t.removeEventListener("mouseleave",d),t.removeEventListener("mouseup",c),t.Xh=null}},DayPilot.Calendar.unregisterDropTarget=function(e){e=e||{};var t=e.element;t&&t.Xh&&t.Xh()},m.createGShadow=function(n){n=n||{};var i=t();return i.style.position="absolute",i.style.width="100px",i.style.height="20px",i.style.zIndex=e,i.style.pointerEvents="none",i.style.backgroundColor="#aaaaaa",i.style.opacity=.5,i.style.overflow="hidden",i.className=n.externalCssClass,n.externalHtml&&(i.innerHTML=n.externalHtml),document.body.appendChild(i),i},m.moveShadow=function(e){var t=m.movingShadow;t.parentNode&&t.parentNode.removeChild(t),e.firstChild.appendChild(t),t.style.left="0px",t.style.width="",t.style.right="0px"},DayPilot.Column=function(e,t){var n=this;n.id=e.id,n.name=e.name,n.data=e.data,n.date=new DayPilot.Date(e.start),n.start=n.date,n.calendar=t,n.events={},n.events.all=function(){for(var t=f(),n=0;n<e.events.length;n++)t.push(e.events[n]);return t},n.events.isEmpty=function(){return 0===e.events.length},n.events.forRange=function(t,i){t=new DayPilot.Date(t),i=i?new DayPilot.Date(i):e.je();for(var a=f(),r=0;r<n.events.length;r++){var o=n.events[r];h(o.start(),o.end(),t,i)&&a.push(o)}return a},n.events.totalDuration=function(){var e=0;return n.events.all().forEach(function(t){e+=t.part.end.getTime()-t.part.start.getTime()}),new DayPilot.Duration(e)},n.value=e.id,n.toJSON=function(){var e={};return e.id=this.id,this.date&&(e.date=this.date.toString()),e.name=this.name,e.value=this.value,e}},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotCalendar=function(e){var t=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Calendar(this.id,e);n.init(),this.daypilot=n,t||(t=n)}});return 1===this.length?t:n}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotCalendar",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,n){return t.replaceWith(this["template"].replace("{{id}}",n["id"])),function(t,n,i){var a=new DayPilot.Calendar(n[0]);a.nh.scope=t,a.init();var r=i["id"];r&&(t[r]=a);var o=i["publishAs"];if(o){(0,e(o).assign)(t,a)}for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(n){a[n]=function(a){var r=e(i[n]);t["$apply"](function(){r(t,{"args":a})})}}(l):!function(n){a[n]=function(a){e(i[n])(t,{"args":a})}}(l)}var d=t["$watch"],c=i["config"]||i["daypilotConfig"],u=i["events"]||i["daypilotEvents"];d.call(t,c,function(e){for(var t in e)a[t]=e[t];a.update()},!0),d.call(t,u,function(e){a.events.list=e,a.Od({"eventsOnly":!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),function(DayPilot){"use strict";"undefined"==typeof DayPilot.DatePicker&&(DayPilot.DatePicker=function(e){this.v="2025.4.6765";var t="navigator_"+(new Date).getTime(),n=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.targetAlignment="left",this.resetTarget=!0,this.pattern=this.Ba.locale().datePattern,this.theme="navigator_default",this.patterns=[],this.zIndex=null,this.showToday=!0,this.todayText="Today",this.weekStarts="Auto",e)for(var t in e)this[t]=e[t]},this.init=function(){this.date=new DayPilot.Date(this.date);var e=this.Yh();this.resetTarget&&!e?this.Zh(this.date):!this.resetTarget&&e&&(n.date=e);var t=this.I();return t&&t.addEventListener("input",function(){n.date=n.Yh(),n.date&&n.navigator.select(n.date,{dontNotify:!0})}),this},this.close=function(){document.removeEventListener("mousedown",n.close),document.removeEventListener("wheel",n.close),window.removeEventListener("resize",n.close),n.vg&&(n.vg=!1,n.navigator&&n.navigator.dispose(),n.div.innerHTML="",n.div&&n.div.parentNode===document.body&&document.body.removeChild(n.div))},this.$h=function(e){this.date=new DayPilot.Date(e),this.Zh(this.date)},this.select=function(e){var t={};t.date=new DayPilot.Date(e),t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(t),t.preventDefault.value)||(this.$h(e),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(t))},this.Yh=function(){var e=this.I();if(!e)return this.date;var t=null;if(t="INPUT"===e.tagName?e.value:e.innerText,!t)return null;for(var i=DayPilot.Date.parse(t,n.pattern),a=0;a<n.patterns.length;a++){if(i)return i;i=DayPilot.Date.parse(t,n.patterns[a])}return i},this.Zh=function(e){var t=this.I();if(t){var i=e.toString(n.pattern,n.locale);"INPUT"===t.tagName?t.value=i:t.innerHTML=i}},this.Ba={},this.Ba.locale=function(){return DayPilot.Locale.find(n.locale)},this.I=function(){var e=this.target;return e&&e.nodeType&&1===e.nodeType?e:document.getElementById(e)},Object.defineProperty(this,"visible",{get:function(){return n.vg}}),this.show=function(){if(!this.vg){document.addEventListener("mousedown",n.close),document.addEventListener("wheel",n.close),window.addEventListener("resize",n.close);var e=this.I(),i=new DayPilot.Navigator(t);i.api=2,i.cssOnly=!0,i.theme=n.theme,i.weekStarts="Auto",i.locale=n.locale,i.showToday=n.showToday,i.todayText=n.todayText,i.weekStarts=n.weekStarts,i.onTodayClick=function(e){i.onTimeRangeSelected({start:DayPilot.Date.today()}),e.preventDefault()},i.onTimeRangeSelected=function(e){n.date=e.start;var t=e.start.addTime(i._h),a=t.toString(n.pattern,n.locale),r={};r.start=t,r.date=t,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(r),r.preventDefault.value)||(n.Zh(a),n.close(),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(r))},this.navigator=i;var a={x:0,y:0,w:0,h:0};e&&(a=DayPilot.abs(e));var r=a.h,o=n.targetAlignment,l=document.createElement("div");l.style.position="absolute","left"===o&&(l.style.left=a.x+"px"),l.style.top=a.y+r+"px",n.zIndex&&(l.style.zIndex=n.zIndex);var s=document.createElement("div");s.id=t,l.appendChild(s),l.addEventListener("mousedown",function(e){e.stopPropagation()}),document.body.appendChild(l),this.div=l;var d=n.Yh()||n.date;if(i.startDate=d,i._h=d.getTimePart(),i.selectionDay=d.getDatePart(),i.init(),"right"===o){var c=a.x+a.w-i.nav.top.offsetWidth;l.style.left=c+"px"}if(this.vg=!0,this.onShow){var u={};this.onShow(u)}}},this.prepare(),this.init()})}(DayPilot),function(DayPilot){"use strict";if("undefined"==typeof DayPilot.Gantt||!DayPilot.Gantt.def){var e=function(){};DayPilot.Gantt=function(t,n){this.v="2025.4.6765";var i=this;this.id=t,this.isGantt=!0;var a=new DayPilot.Scheduler(t);this.scheduler=a,this.ai={};var r=this.ai;this.bi={};var o=this.bi,l={};a.viewType="Resources",a.onCallBackHeader=function(e){e.header.taskGroupMode=i.taskGroupMode,e.header.rowHeaderColumns=i.columns,e.header.clientState=i.clientState},a.onGetNodeState=function(e){var t=function(e){var t={};if(e.tags)for(var n in e.tags)t[n]=""+e.tags[n];return t},n=function(e){var n=e.task,i={};return i.start=n.start,i.end=n.end,i.id=n.id,i.complete=n.complete,i.text=n.text,i.type=n.type,i.expanded=e.expanded,i.loaded=e.loaded,i.tags=t(n),i.versions=n.versions,i.children=a.internal.getNodeChildren(e.children),i};e.result=n(e.row),e.preventDefault()},a.onCallBackResult=function(e){var t=e.result;e.preventDefault();var n=function(){t.scrollToTaskId&&a.scrollToResource(t.scrollToTaskId)};if("None"===t.updateType)return void n();var o=function(e){for(var n=0;n<e.length;n++){var a=e[n];"undefined"!=typeof t[a]&&(i[a]=t[a])}};i.links.list=t.links,i.tasks.list=t.tasks,i.startDate=new DayPilot.Date(t.startDate),o(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode","selectedRows"]),o(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline","columns"]),r.translate(),r.ci(),r.di(),a.update(),a.show(),n()},this.taskGroupMode="Auto",this.allowMultiMove=!1,this.allowMultiSelect=!1,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag","function"==typeof DayPilot.Bubble?(this.bubbleTask=new DayPilot.Bubble,this.bubbleCell=new DayPilot.Bubble,this.bubbleRow=new DayPilot.Bubble):(this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null),this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=null,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerText="",this.cornerHtml=null,this.crosshairType="Header",this.doubleClickTimeout=300,this.exceljs=null,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=30,this.height=300,this.heightSpec="Max",this.hideBorderFor100PctHeight=!1,this.hideUntilInit=!1,this.linkBottomMargin=17,this.linkPointSize=10,this.linkShape="Curved",this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.loadingLabelHtml=null,this.locale="en-us",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.moveGroupChildren=!0,this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowCreateAllowTimeRangeSelection=!1,this.rowHeaderColumnsMergeParents=!1,this.rowHeaderResizable=!0,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!1,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.rowMoveSameLevelOnly=!1,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.selectedRows=[],this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.tapAndHoldTimeout=300,this.taskEndSpec="DateTime",this.taskHeight=34,this.taskHtmlLeftMargin=20,this.taskHtmlRightMargin=20,this.taskResizeMargin=5,this.taskMoveSkipNonBusiness=!1,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAnimation=!0,this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=0,this.treeImageMarginTop=3,this.treeImageMarginRight=5,this.treeImageWidth=10,this.treeImageHeight=10,this.timeline=null,this.timeHeaders=[{"groupBy":"Month","format":"MMMM yyyy"},{"groupBy":"Day","format":"d"}],this.useEventBoxes="Never",this.visible=!0,this.weekStarts="Auto",this.xssProtection="Enabled",this.taskVersionsEnabled=!1,this.taskVersionHeight=24,this.taskVersionMargin=2,this.taskVersionPosition="Above",this.rowCollapseHandling="Enabled",this.rowExpandHandling="Enabled",this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.tasksLoadMethod="GET",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.clientState={},this.separators=[],this.links={},this.links.list=[],this.links.add=function(e){if(e){var t=e.isLink?e.data:e;i.links.list.push(t),i.za&&(r.di(),a.update()),i.nh.notify()}},this.links.remove=function(e){if(e){if("number"==typeof e||"string"==typeof e){var t=i.links.find(e);return void(t&&i.links.remove(t.data))}var n;n=e.isLink?e.data:e;var o=DayPilot.indexOf(i.links.list,n);o!==-1&&(i.links.list.splice(o,1),i.za&&(r.di(),a.update()),i.nh.notify())}},this.links.find=function(e){if(!DayPilot.isArray(i.links.list))return null;for(var t=0;t<i.links.list.length;t++){var n=i.links.list[t];if(n.id===e)return new DayPilot.Link(n,i)}return null},this.links.findByFromTo=function(e,t){if(!DayPilot.isArray(i.links.list))return null;for(var n=0;n<i.links.list.length;n++){var a=i.links.list[n];if(a.from===e&&a.to===t)return new DayPilot.Link(a,i)}return null},this.links.load=function(e,t,n){a.links.load(e,function(e){"function"==typeof t&&(t(e),e.preventDefault.value)||(i.links.list=e.data)},n,{"dontAddStartEnd":!0})},this.ei={};var s=this.ei;s.timeout=null,s.update=function(){i.za&&(window.clearTimeout(s.timeout),s.timeout=setTimeout(function(){r.ci(),a.update()},0))},this.multiselect={},this.multiselect.tasks=function(){return a.multiselect.events().map(function(e){return new DayPilot.Task(e,i)})},this.multiselect.add=function(e,t){a.multiselect.add(e,t)},this.multiselect.clear=function(e){a.multiselect.clear(e)},this.multiselect.remove=function(e,t){a.multiselect.remove(e,t)},this.multiselect.redraw=function(){a.multiselect.redraw()},this.tasks={},this.tasks.list=[],this.tasks.add=function(e){if(e){if(e instanceof DayPilot.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";var t=e.isTask?e.data:e;i.tasks.list.push(t),s.update(),i.nh.notify()}},this.tasks.find=function(e){var t=o.findInCache(e);return t?new DayPilot.Task(t,i):null},this.tasks.update=function(e){if(e){var t=null;if(e.isTask)e.commit(),t=e.data;else{if("object"!=typeof e)throw"DayPilot.Task or task data object expected";t=e}var n=i.tasks.find(t.id);if(n){var a=o.findParentArray(n.data),r=a.indexOf(n.data);a.splice(r,1,t),s.update(),i.nh.notify()}}},this.tasks.remove=function(e){if(e){if(!e.isTask)throw"DayPilot.Task object expected";var t=o.findParentArray(e.data);if(t){var n=DayPilot.indexOf(t,e.data);t.splice(n,1),s.update(),i.nh.notify()}}},this.tasks.businessDuration=function(e){var t=null;if(!e)throw new DayPilot.Exception("tasks.businessDuration(): 'task' parameter required");t=e.isTask?e.data.id:"string"==typeof e||"number"==typeof e?e:e.id;var n=a.rowlist.find(function(e){return e.task&&e.task.id===t});if(!n)return null;var i=new DayPilot.Date(n.task.start),r=new DayPilot.Date(n.task.end),o=n.index,l=a.internal.bd(i,r,o);return new DayPilot.Duration(l)},this.tasks.businessEnd=function(e,t){var n=null,i=null;if(!e)throw new DayPilot.Exception("tasks.businessEnd(): 'task' parameter required");e.isTask?(n=e.data.id,i=new DayPilot.Date(e.data.start)):"string"==typeof e||"number"==typeof e?n=e:(n=e.id,i=new DayPilot.Date(e.start));var r=a.rowlist.find(function(e){return e.task&&e.task.id===n});if(!r)return null;i||(i=new DayPilot.Date(r.task.start));var o=r.index,l=t.ticks;return a.internal.abd(i,l,o)},this.tasks.load=function(e,t,n){if(!e)throw new DayPilot.Exception("events.load(): 'url' parameter required");var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},r=function(e){var n,r=e.request;try{n=JSON.parse(r.responseText)}catch(e){var o={};return o.exception=e,void a(o)}if(DayPilot.isArray(n)){var l={};if(l.preventDefault=function(){this.preventDefault.value=!0},l.data=n,"function"==typeof t&&t(l),l.preventDefault.value)return;i.tasks.list=n,i.za&&i.update()}};if(i.tasksLoadMethod&&"POST"===i.tasksLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","contentType":"application/json","url":e,"success":r,"error":a});else{var o=e;DayPilot.ajax({"method":"GET","url":o,"success":r,"error":a})}},this.clearSelection=function(){a.clearSelection()},this.visibleStart=function(){return a.visibleStart()},this.visibleEnd=function(){return a.visibleEnd()},this.onAfterRender=null,this.onAfterUpdate=null,this.onBeforeRowHeaderRender=null,this.onBeforeRowHeaderExport=null,this.onBeforeTaskRender=null,this.onBeforeTaskExport=null,this.onBeforeTimeHeaderRender=null,this.onBeforeTimeHeaderExport=null,this.onBeforeCellRender=null,this.onBeforeCellExport=null,this.onBeforeCornerRender=null,this.onBeforeCornerExport=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCollapse=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowExpand=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowFilter=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.ja=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.fi=function(){function e(i){for(var a=0;a<i.length;a++){var l=i[a];t=new DayPilot.Date(l.start),n=new DayPilot.Date(l.end),(null===r||t.getTime()<r)&&(r=t.getTime()),(null===o||n.getTime()>o)&&(o=n.getTime()),l.children&&l.children.length>0&&e(l.children)}}if("string"==typeof i.startDate&&(i.startDate=new DayPilot.Date(i.startDate)),!i.startDate||!i.days){var t=DayPilot.Date.today(),n=t.addDays(1),r=null,o=null;e(i.tasks.list),r&&o?(t=new DayPilot.Date(r).getDatePart(),n=new DayPilot.Date(o).getDatePart().addDays(1),a.startDate=i.startDate||t,a.days=i.days||DayPilot.DateUtil.daysDiff(t,n)):(a.startDate=t,a.days=30)}},this.commandCallBack=function(e,t){r.translate(),a.commandCallBack(e,t)},this.message=function(e,t,n,i){a.message(e,t,n,i)},this.setHeight=function(e){a.setHeight(e)},this.getCoords=function(){var e=a.getCoords();return e?(e.task=new DayPilot.Task(e.row.$.row.task,i),e.eventOffset&&(e.taskOffset=e.eventOffset),delete e.event,delete e.row,delete e.eventOffset,delete e.grid,e):null},this.Jh=function(){return!!this.backendUrl},this.setScrollY=function(e){a.setScrollY(e)},this.setScrollX=function(e){a.setScrollX(e)},this.getScrollY=function(){return a.getScrollY()},this.getScrollX=function(){return a.getScrollX()},this.scrollToRow=function(e){a.scrollToResource(e)},this.init=function(){if(this.za)throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");return r.translate(),r.ci(),r.di(),this.fi(),a.init(),this.za=!0,this.Nh(),this},this.Aa=!1,this.dispose=function(){a.dispose(),i.Aa=!0},this.disposed=function(){return this.Aa},this.update=function(e){i.vh(e)},this.vh=function(e){if(!i.za)throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet.");if(i.Aa)throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that has been disposed.");i.wh(e),r.translate(),r.ci(),r.di(),i.fi(),a.update()},this.scrollTo=function(e){a.scrollTo(e)},this.scrollToTask=function(e){a.scrollToResource(e)},o.cache={},o.clearCache=function(){o.cache={}},o.addToCache=function(e,t){var n=e.id;if(n){var i={};if(i.isTaskWrapper=!0,i.data=e,i.parent=t,o.cache[n])throw"Duplicate task id detected";o.cache[n]=i}},o.findInCache=function(e){return e?o.cache[e.toString()]:null},o.getProperty=function(e,t){return e.tags&&e.tags[t]?e.tags[t]:e[t]},o.findParentArray=function(e){return o.findInArray(i.tasks.list,e)},o.findInArray=function(e,t){if(DayPilot.indexOf(e,t)!==-1)return e;for(var n=0;n<e.length;n++){var i=e[n];if(i.children&&i.children.length>0){var a=o.findInArray(i.children,t);if(a)return a}}return null},r.translate=function(){if(a.internal.gantt=i,a.durationBarMode="PercentComplete",a.timeRangeSelectedHandling="Disabled",a.treeEnabled=!0,a.rowCreateHtml="",a.allowMultiMove=i.allowMultiMove,a.allowMultiSelect=i.allowMultiSelect,a.autoRefreshCommand=i.autoRefreshCommand,a.autoRefreshEnabled=i.autoRefreshEnabled,a.autoRefreshInterval=i.autoRefreshInterval,a.autoRefreshMaxCount=i.autoRefreshMaxCount,a.autoScroll=i.autoScroll,a.backendUrl=i.backendUrl,a.crosshairType=i.crosshairType,a.doubleClickTimeout=i.doubleClickTimeout,a.durationBarVisible=i.completeBarVisible,a.durationBarHeight=i.completeBarHeight,a.dynamicEventRendering=i.progressiveTaskRendering,a.dynamicEventRenderingMargin=i.progressiveTaskRenderingMargin,a.dynamicEventRenderingCacheSweeping=i.progressiveTaskRenderingCacheSweeping,a.dynamicEventRenderingCacheSize=i.progressiveTaskRenderingCacheSize,a.startDate=new DayPilot.Date(i.startDate),a.days=i.days,a.cellDuration=i.cellDuration,a.cellGroupBy=i.cellGroupBy,a.cellWidth=i.cellWidth,a.cellWidthSpec=i.cellWidthSpec,a.cornerHtml=i.cornerHtml,a.cornerText=i.cornerText,a.eventHeight=i.taskHeight,a.eventResizeMargin=i.taskResizeMargin,a.eventMoveSkipNonBusiness=i.taskMoveSkipNonBusiness,a.exceljs=i.exceljs,a.floatingEvents=i.floatingTasks,a.floatingTimeHeaders=i.floatingTimeHeaders,a.headerHeight=i.headerHeight,a.heightSpec=i.heightSpec,a.height=i.height,a.linkBottomMargin=i.linkBottomMargin,a.linkPointSize=i.linkPointSize,a.linkShape=i.linkShape,a.loadingLabelVisible=i.loadingLabelVisible,a.loadingLabelText=i.loadingLabelText,a.loadingLabelHtml=i.loadingLabelHtml,a.locale=i.locale,a.messageBarPosition=i.messageBarPosition,a.messageHideAfter=i.messageHideAfter,a.rowCreateAllowTimeRangeSelection=i.rowCreateAllowTimeRangeSelection,a.rowCreateHandling=i.rowCreateHandling,a.rowMoveSameLevelOnly=i.rowMoveSameLevelOnly,a.progressiveRowRendering=i.progressiveRowRendering,a.progressiveRowRenderingPreload=i.progressiveRowRenderingPreload,a.scale=i.scale,a.scrollDelayEvents=i.scrollDelayTasks,a.scrollDelayCells=i.scrollDelayCells,a.scrollDelayFloats=i.scrollDelayFloats,a.scrollX=i.scrollX,a.scrollY=i.scrollY,i.scrollToTaskId&&(a.scrollToResourceId=i.scrollToTaskId),a.separators=i.separators,a.tapAndHoldTimeout=i.tapAndHoldTimeout,a.eventHtmlLeftMargin=i.taskHtmlLeftMargin,a.eventHtmlRightMargin=i.taskHtmlRightMargin,a.eventMovingStartEndEnabled=i.taskMovingStartEndEnabled,a.eventMovingStartEndFormat=i.taskMovingStartEndFormat,a.eventResizingStartEndEnabled=i.taskResizingStartEndEnabled,a.eventResizingStartEndFormat=i.taskResizingStartEndFormat,a.hideBorderFor100PctHeight=i.hideBorderFor100PctHeight,a.hideUntilInit=i.hideUntilInit,a.treeIndent=i.treeIndent,a.treeAnimation=i.treeAnimation,a.treeAutoExpand=i.treeAutoExpand,a.treeImageMarginLeft=i.treeImageMarginLeft,a.treeImageMarginTop=i.treeImageMarginTop,a.treeImageMarginRight=i.treeImageMarginRight,a.treeImageWidth=i.treeImageWidth,a.treeImageHeight=i.treeImageHeight,a.timeHeaders=i.timeHeaders,a.rowHeaderHideIconEnabled=i.rowHeaderHideIconEnabled,a.rowHeaderColumnsMergeParents=i.rowHeaderColumnsMergeParents,a.rowHeaderResizable=i.rowHeaderResizable,a.rowHeaderScrolling=i.rowHeaderScrolling,a.rowHeaderSplitterWidth=i.rowHeaderSplitterWidth,a.rowHeaderWidth=i.rowHeaderWidth,a.rowHeaderWidthAutoFit=i.rowHeaderWidthAutoFit,a.rowMarginBottom=i.rowMarginBottom,a.rowMinHeight=i.rowMinHeight,a.selectedRows=i.selectedRows,a.theme=i.theme,a.useEventBoxes=i.useEventBoxes,a.snapToGrid=i.snapToGrid,a.uniqueID=i.uniqueID,a.bubble=i.bubbleTask,a.cellBubble=i.bubbleCell,a.resourceBubble=i.bubbleRow,a.contextMenu=i.contextMenuTask,a.contextMenuResource=i.contextMenuRow,a.contextMenuLink=i.contextMenuLink,a.syncResourceTree=i.syncTasks,a.syncLinks=i.syncLinks,a.timeline=i.timeline,a.visible=i.visible,a.devsb=i.devsb,a.weekStarts=i.weekStarts,a.xssProtection=i.xssProtection,a.resourceCollapseHandling=i.rowCollapseHandling,a.resourceExpandHandling=i.rowExpandHandling,a.eventMoveHandling=i.taskMoveHandling,a.eventClickHandling=i.taskClickHandling,a.eventResizeHandling=i.taskResizeHandling,a.linkCreateHandling=i.linkCreateHandling,a.eventRightClickHandling=i.taskRightClickHandling,a.eventDoubleClickHandling=i.taskDoubleClickHandling,a.rowMoveHandling=i.rowMoveHandling,a.rowClickHandling=i.rowClickHandling,a.rowDoubleClickHandling=i.rowDoubleClickHandling,a.rowEditHandling=i.rowEditHandling,a.rowSelectHandling=i.rowSelectHandling,a.eventVersionsEnabled=i.taskVersionsEnabled,a.eventVersionHeight=i.taskVersionHeight,a.eventVersionMargin=i.taskVersionMargin,a.eventVersionPosition=i.taskVersionPosition,DayPilot.isArray(i.columns)){a.rowHeaderColumns=[];for(var e=0;e<i.columns.length;e++){var t=i.columns[e],n={};DayPilot.Util.copyProps(t,n,["html","text","name","title","width","hidden","maxAutoWidth"]),n.display=t.display||t.property,a.rowHeaderColumns.push(n)}}i.ja()&&(a.timeHeader=i.timeHeader,a.cellProperties=i.cellProperties,a.cellConfig=i.cellConfig),a.onGridMouseDown=function(e){var t=a.gi(a.coords.y,a.coords.grid).element;(null===t||void 0===t?void 0:t.isNewRow)&&i.rowCreateAllowTimeRangeSelection&&(e.action="TimeRangeSelect")},a.onTimeRangeSelect=function(e){var t={start:e.start,end:e.end,control:i,isNew:!0,preventDefault:function(){this.preventDefault.value=!0}};e.hi=t,"function"==typeof i.onTimeRangeSelect&&i.onTimeRangeSelect(t),t.preventDefault.value&&e.preventDefault()},a.onTimeRangeSelected=function(e){var t=e.hi;"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(t)},a.onRowCreate=function(e){e.control=i,"function"==typeof i.onRowCreate&&i.onRowCreate(e)},a.onRowCreated=function(e){"function"==typeof i.onRowCreated&&i.onRowCreated(e)},a.onAfterRender=function(e){"function"==typeof i.onAfterRender&&i.onAfterRender(e)},a.onAfterUpdate=function(e){"function"==typeof i.onAfterUpdate&&i.onAfterUpdate(e)},a.onRowHeaderResized=function(){i.rowHeaderWidth=a.rowHeaderWidth},a.onRowFilter=function(e){"function"==typeof i.onRowFilter&&(e.task=new DayPilot.Task(e.row.$.row.task,i),e.control=i,i.onRowFilter(e))},a.onAjaxError=function(e){"function"==typeof i.onAjaxError&&i.onAjaxError(e)},a.onRowHeaderColumnResized=function(e){for(var t=e.column,n=DayPilot.indexOf(a.rowHeaderColumns,t),r=0;r<i.columns.length;r++){var o=a.rowHeaderColumns[r];i.columns[r].width=o.width}if("function"==typeof i.onColumnResized){var l={};l.column=i.columns[n],i.onColumnResized(l)}},a.internalUseStandardColumns=DayPilot.isArray(i.columns),a.onBeforeRowHeaderRender=function(e){e.task=new DayPilot.Task(e.row.$.row.task,i);var t=e.row.$.row.events[0];t&&"Auto"===i.taskGroupMode&&"Group"===t.data.type&&(e.task.data.start=t.data.start,e.task.data.end=t.data.end);var n=[];if(DayPilot.isArray(i.columns))for(var r=0;r<i.columns.length;r++){var l=i.columns[r],s=l.display||l.property,d={};d.value=a.internal.xssTextHtml(o.getProperty(e.task.data,s)),e.task.data.row&&e.task.data.row.columns&&e.task.data.row.columns[r]?d.html=e.task.data.row.columns[r].html:d.html=d.value,n.push(d)}e.row.columns=n,"function"==typeof i.onBeforeRowHeaderRender&&i.onBeforeRowHeaderRender(e)},a.onBeforeRowHeaderExport=function(e){e.row.$.row.isNewRow?e.task=null:e.task=new DayPilot.Task(e.row.$.row.task,i),"function"==typeof i.onBeforeRowHeaderExport&&i.onBeforeRowHeaderExport(e)},a.onBeforeEventExport=function(e){var t=new DayPilot.Task(e.e,i);switch(e.task=t,t.type()){case"Task":e.backColor=e.e.data.backColor||"#fafafa";
break;case"Group":e.backColor=e.e.data.backColor||"#0b5394",e.borderColor=e.e.data.borderColor||e.backColor;break;case"Milestone":e.backColor=e.e.data.backColor||"#38761d",e.borderColor=e.e.data.borderColor||e.backColor}"function"==typeof i.onBeforeTaskExport&&i.onBeforeTaskExport(e)},a.onBeforeCellRender=function(e){e.task=i.tasks.find(e.cell.resource),delete e.cell.resource,"function"==typeof i.onBeforeCellRender&&(e.control=i,i.onBeforeCellRender(e))},a.onBeforeCellExport=function(e){e.task=i.tasks.find(e.cell.resource),delete e.cell.resource,"function"==typeof i.onBeforeCellExport&&(e.control=i,i.onBeforeCellExport(e))},a.onBeforeCornerRender=function(e){"function"==typeof i.onBeforeCornerRender&&(e.control=i,i.onBeforeCornerRender(e))},a.onBeforeCornerExport=function(e){"function"==typeof i.onBeforeCornerExport&&(e.control=i,i.onBeforeCornerExport(e))},a.onBeforeTimeHeaderRender=function(e){"function"==typeof i.onBeforeTimeHeaderRender&&(e.control=i,i.onBeforeTimeHeaderRender(e))},a.onBeforeTimeHeaderExport=function(e){"function"==typeof i.onBeforeTimeHeaderExport&&(e.control=i,i.onBeforeTimeHeaderExport(e))},a.onEventClick=function(e){e.task=new DayPilot.Task(e.e,i),e.control=i,"function"==typeof i.onTaskClick&&i.onTaskClick(e)},a.onEventClicked=function(e){"function"==typeof i.onTaskClicked&&i.onTaskClicked(e)},a.onEventDelete=function(e){"function"==typeof i.onTaskDelete&&i.onTaskDelete(e)},a.onEventDeleted=function(e){"function"==typeof i.onTaskDeleted&&i.onTaskDeleted(e)},a.onEventDoubleClick=function(e){e.task=new DayPilot.Task(e.e,i),e.control=i,"function"==typeof i.onTaskDoubleClick&&i.onTaskDoubleClick(e)},a.onEventDoubleClicked=function(e){"function"==typeof i.onTaskDoubleClicked&&i.onTaskDoubleClicked(e)},a.onEventRightClick=function(e){e.task=new DayPilot.Task(e.e,i),"function"==typeof i.onTaskRightClick&&i.onTaskRightClick(e)},a.onEventRightClicked=function(e){"function"==typeof i.onTaskRightClicked&&i.onTaskRightClicked(e)},a.onRowMoving=function(e){e.ii=e.source,e.ji=e.target;var t=e.ii.calendar&&e.ii.calendar.internal.gantt;e.source=new DayPilot.Task(e.ii.$.row.task,t),e.target=new DayPilot.Task(e.ji.$.row.task,i),"function"==typeof i.onRowMoving&&i.onRowMoving(e)},a.onRowMove=function(e){e.ii=e.source,e.ji=e.target;var t=e.ii.calendar&&e.ii.calendar.internal.gantt;e.source=new DayPilot.Task(e.ii.$.row.task,t),e.target=new DayPilot.Task(e.ji.$.row.task,i),e.control=i,"function"==typeof i.onRowMove&&i.onRowMove(e),e.source=e.ii,e.target=e.ji,e.preventDefault.value},a.onRowMoved=function(e){var t=e.ii.calendar&&e.ii.calendar.internal.gantt;!function(){if("Update"===i.rowMoveHandling||"Notify"===i.rowMoveHandling){var n=e.ii.$.row.task,r=e.ji.$.row.task,l=e.position,s=e.source.data.ki;if("forbidden"!==l){if(t){var d=t.bi.findParentArray(n);if(!d)throw"Cannot find source node parent";var c=DayPilot.indexOf(d,n);d.splice(c,1)}var u=o.findParentArray(r);if(!u)throw"Cannot find target node parent";var h=DayPilot.indexOf(u,r);switch(l){case"before":u.splice(h,0,n);break;case"after":u.splice(h+1,0,n);break;case"child":r.children||(r.children=[],r.expanded=!0),r.children.push(n)}s&&(s.start||(s.start=new DayPilot.Date(r.start)),s.end||(n.duration?s.end=new DayPilot.Date(s.start).addTime(n.duration):s.end=new DayPilot.Date(r.end)),a.events.add(s),e.source.data.task.start=s.start,e.source.data.task.end=s.end,e.source.data.ki=null),i.update(),t&&t!==i&&t.update()}}}(),e.source=new DayPilot.Task(e.ii.$.row.task,t),e.target=new DayPilot.Task(e.ji.$.row.task,i),"function"==typeof i.onRowMoved&&i.onRowMoved(e)},a.onRowClick=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,i),"function"==typeof i.onRowClick&&i.onRowClick(e)},a.onRowClicked=function(e){"function"==typeof i.onRowClicked&&i.onRowClicked(e)},a.onRowDoubleClick=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,i),"function"==typeof i.onRowDoubleClick&&i.onRowDoubleClick(e)},a.onRowDoubleClicked=function(e){"function"==typeof i.onRowDoubleClicked&&i.onRowDoubleClicked(e)},a.onRowEdit=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,i),"function"==typeof i.onRowEdit&&i.onRowEdit(e)},a.onRowEdited=function(e){"function"==typeof i.onRowEdited&&i.onRowEdited(e)},a.onRowSelect=function(e){e.task=new DayPilot.Task(e.row.$.row.task,i),"function"==typeof i.onRowSelect&&i.onRowSelect(e)},a.onRowSelected=function(e){"function"==typeof i.onRowSelected&&i.onRowSelected(e)},a.onEventMove=function(e){var t={"task":new DayPilot.Task(e.e,i),"control":i,"newStart":e.newStart,"newEnd":e.newEnd,"ctrl":e.ctrl,"shift":e.shift,"preventDefault":function(){e.preventDefault()},"multimove":e.multimove.map(function(e){return{"task":new DayPilot.Task(e.event,i),"start":e.start,"end":e.end}})};e.hi=t,"function"==typeof i.onTaskMove&&i.onTaskMove(t)},a.onEventMoved=function(e){if("Auto"===i.taskGroupMode){var t=e.e,n=t.data.task;for(n.start=t.start(),n.end=t.end();t.data.parent;){var o=a.events.find(t.data.parent.id),l=r.li(t.data.parent);o.start(l.start),o.end(l.end),a.events.update(o),t=o}}i.nh.notify();var s=e.hi;"function"==typeof i.onTaskMoved&&i.onTaskMoved(s)},a.onEventMoving=function(e){var t=new DayPilot.Task(e.e,i),n=e.start.getTime()-e.e.start().getTime();if("Group"===e.e.data.type&&i.moveGroupChildren){var o=r.mi(t);e.multimove=o.map(function(e){var t=a.internal.f(e.data);return t||(t=a.events.find(e.id())),{"event":t,"start":e.start().addTime(n),"end":e.end().addTime(n),"resource":t.resource()}}),e.multimove.splice(0,0,{"event":e.e,"start":t.start().addTime(n),"end":t.end().addTime(n),"resource":e.e.resource()})}var l={"allowed":e.allowed,"ctrl":e.ctrl,"shift":e.shift,"meta":e.meta,"alt":e.alt,"cssClass":null,"duration":e.duration,"html":e.html,"task":t,"control":i,"start":e.start,"end":e.end,"left":e.left,"right":e.right,"multimove":e.multimove.map(function(e){return{"task":new DayPilot.Task(e.event,i),"start":e.start,"end":e.end}})};"function"==typeof i.onTaskMoving&&i.onTaskMoving(l);var s=new DayPilot.Date(l.start),d=new DayPilot.Date(l.end);e.start=s,e.end=d,e.allowed=l.allowed,e.cssClass=l.cssClass,e.html=l.html,e.multimove=l.multimove.map(function(t,n){var i=new DayPilot.Date(t.start),a=new DayPilot.Date(t.end);return{"event":e.multimove[n].event,"start":i,"end":a,"resource":t.task.id()}})},a.onEventResize=function(e){e.ni=e.e,e.task=new DayPilot.Task(e.e,i),e.control=i,"function"==typeof i.onTaskResize&&i.onTaskResize(e)},a.onEventResized=function(e){if("Auto"===i.taskGroupMode){var t=e.ni,n=t.data.task;for(n.start=t.start(),n.end=t.end();t.data.parent;){var o=a.events.find(t.data.parent.id),l=r.li(t.data.parent);o.start(l.start),o.end(l.end),a.events.update(o),t=o}}i.nh.notify(),"function"==typeof i.onTaskResized&&i.onTaskResized(e)},a.onEventResizing=function(e){e.task=new DayPilot.Task(e.e,i),e.ni=e.e,e.control=i,"function"==typeof i.onTaskResizing&&i.onTaskResizing(e)},a.onLinkCreate=function(e){e.source=i.tasks.find(e.from),e.target=i.tasks.find(e.to),e.control=i,"function"==typeof i.onLinkCreate&&i.onLinkCreate(e)},a.onLinkCreated=function(e){"function"==typeof i.onLinkCreated&&i.onLinkCreated(e)},a.onResourceExpand=function(e){var t=e.resource.$.row.task;if(t.row||(t.row={}),t.row.collapsed=!1,"function"==typeof i.onRowExpand){var n={"task":new DayPilot.Task(e.resource.$.row.task,i),"control":i,preventDefault:function(){e.preventDefault()}};i.onRowExpand(n)}},a.onResourceCollapse=function(e){var t=e.resource.$.row.task;if(t.row||(t.row={}),t.row.collapsed=!0,"function"==typeof i.onRowCollapse){var n={"task":new DayPilot.Task(e.resource.$.row.task,i),"control":i,preventDefault:function(){e.preventDefault()}};i.onRowCollapse(n)}},a.onBeforeRowHeaderDomAdd=function(e){e.task=new DayPilot.Task(e.row.$.row.task,i),"function"==typeof i.onBeforeRowHeaderDomAdd&&i.onBeforeRowHeaderDomAdd(e)},a.onExternalRowEnter=function(e){var t=e.data,n=r.oi(t,null,{"dontAddToCache":!0});e.data=n.row,e.data.ki=n.event}},r.pi=function(e){for(var t=0;t<a.rowlist.length;t++){var n=a.rowlist[t];if(n.task===e)return a.internal.createRowObject(n)}return null},r.di=function(){a.links.list=i.links.list?i.links.list:[]},r.ci=function(){a.resources=[],a.events.list=[],o.clearCache(),r.qi(i.tasks.list,a.resources,null),l.sheet&&(l.sheet.commit(),l.sheet=null)},r.ri=function(e){var t=e.type||"Task";e.children&&e.children.length&&(t="Group");var n={};for(var r in e)"children"!==r&&(n[r]=e[r]);var o={};if(o.data=n,o.type=t,n.box||(n.box={}),"undefined"==typeof n.box.html)if("Task"===o.type){var l=n.complete||0;n.box.text=l+"%"}else n.box.text="";return"undefined"==typeof n.box.htmlRight&&(n.box.htmlRight=a.internal.xssTextHtml(n.text)),"function"==typeof i.onBeforeTaskRender&&i.onBeforeTaskRender(o),o.type=t,o},l.keys={},l.sheet=null,r.si=function(e){if(e.data.box&&!e.data.box.cssClass&&e.data.box.backColor&&"Task"!==e.type){var t=DayPilot.Util.normalizeColor(e.data.box.backColor),n=e.type+"_"+t.replace("#",""),a=i.theme,r=i.theme+"_"+n;return l.keys[n]||(l.keys[n]=!0,l.sheet||(l.sheet=DayPilot.sheet()),"Group"===e.type?(l.sheet.add("."+r+"."+a+"_task_group ."+a+"_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: "+t+"; filter: none; border: 0px none;"),l.sheet.add("."+r+"."+a+"_task_group."+a+"_event:before","content:''; border-color: transparent transparent transparent "+t+"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),l.sheet.add("."+r+"."+a+"_task_group."+a+"_event:after","content:''; border-color: transparent "+t+" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")):"Milestone"===e.type&&(l.sheet.add("."+r+"."+a+"_task_milestone ."+a+"_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: "+t+"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),l.sheet.add("."+r+"."+a+"_browser_ie8 ."+a+"_task_milestone ."+a+"_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))),r}},r.oi=function(t,n,a){var l={};a=a||{},a.dontAddToCache||o.addToCache(t,n);var s=r.ri(t),d=s.data,c=s.type,u={};if(DayPilot.Util.copyProps(d,u,["id","start","end","text","complete","tags","versions"]),DayPilot.Util.copyProps(d.box,u),u.parent=n,u.task=t,u.resource=d.id,u.commitCallback=function(e){return function(){e.task.start=e.start,e.task.end=e.end}}(u),"Group"===c){u.type="Group",u.html=d.box&&d.box.html||"";var h=r.si(s);if(h&&(u.cssClass=(u.cssClass||"")+" "+h),"Auto"===i.taskGroupMode){var f=r.li(t);u.start=f.start,u.end=f.end,u.resizeDisabled=!0,u.moveDisabled=!0,i.moveGroupChildren&&(u.moveDisabled=!1)}}else if("Milestone"===c){u.html="",t.end=t.start;var v=r.si(s);v&&(u.cssClass=(u.cssClass||"")+" "+v),d.end=d.start,u.end=d.start,u.barHidden=!0,u.resizeDisabled=!0,u.type="Milestone",u.width=i.taskHeight,delete u.backColor}else"Task"===c&&e();u.moveVDisabled=!0,u.textLeft=d.box.textLeft,u.htmlLeft=d.box.htmlLeft,u.textRight=d.box.htmlRight,u.htmlRight=d.box.htmlRight,l.event=u;var p={};return p.task=t,DayPilot.Util.copyProps(d.row,p),p.name=d.text,p.id=d.id,p.children=[],p.expanded=!d.row||!d.row.collapsed,t.children&&t.children.length&&r.qi(t.children,p.children,t),l.row=p,l},r.qi=function(e,t,n){if(DayPilot.isArray(e))for(var i=0;i<e.length;i++){var o=e[i],l=r.oi(o,n);a.events.list.push(l.event),t.push(l.row)}},r.mi=function(e){var t=[],n=e.children();if(!n)return t;for(var i=0;i<n.length;i++){var a=n[i];t.push(a),t=t.concat(r.mi(a))}return t},r.li=function(e){if(!e.children||!e.children.length){var t=e.start,n=e.end;return"Milestone"===e.type&&(n=t),{"start":new DayPilot.Date(t),"end":new DayPilot.Date(n)}}for(var i=null,a=null,o=0;o<e.children.length;o++){var l=r.li(e.children[o]);(!i||l.start.getTime()<i.getTime())&&(i=l.start),(!a||l.end.getTime()>a.getTime())&&(a=l.end)}return{"start":i,"end":a}},this.rows={},this.rows.expand=function(e){a.rows.expand(e)},this.rows.expandAll=function(){a.rows.expandAll()},this.rows.collapseAll=function(){a.rows.collapseAll()},this.rows.filter=function(e){a.rows.filter(e)},this.rows.selection={},this.rows.selection.add=function(e){void a.rows.find(e.data.id)},this.rows.selection.clear=function(){a.rows.selection.clear()},this.rows.selection.get=function(){return a.rows.selection.get().map(function(e){return new DayPilot.Task(e.$.row.task,i)})},this.exportAs=function(e,t){return a.exportAs(e,t)},this.Oh=null,this.wh=function(e){if(e){var t={"tasks":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?i.tasks.list=e.list:i.tasks.list=e)}},"links":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?i.links.list=e.list:i.links.list=e)}},"scrollTo":{"postInit":function(){this.data&&i.scrollTo(this.data)}},"scrollToTask":{"postInit":function(){this.data&&i.scrollToTask(this.data)}}};this.Oh=t;for(var n in e)if(t[n]){var a=t[n];a.data=e[n],a.preInit&&a.preInit()}else i[n]=e[n]}},this.Nh=function(){var e=this.Oh;for(var t in e){var n=e[t];n.postInit&&n.postInit()}},this.internal={},this.internal.initialized=function(){return i.za},this.internal.rowObjectForTaskData=r.pi,this.internal.loadOptions=i.wh,this.internal.upd=function(e){i.vh(e)},this.internal.vueRendering=function(){return a.internal.vueRendering()},this.nh={},this.nh.scope=null,this.nh.notify=function(){i.nh.scope&&i.nh.scope["$apply"]()},this.wh(n)},DayPilot.Gantt.makeDraggable=function(e){DayPilot.Scheduler.makeDraggableAsRow(e)},DayPilot.Gantt.registerDropTarget=function(e){var t={};t.element=e.element,t.onDrop=function(t){var n={};n.task=new DayPilot.Task(t.row.data.task,t.row.calendar),"function"==typeof e.onDrop&&e.onDrop(n)},t.onDragOver=function(t){var n={};n.task=new DayPilot.Task(t.row.data.task,t.row.calendar),"function"==typeof e.onDragOver&&e.onDragOver(n)},t.onDragLeave=function(t){var n={};n.task=new DayPilot.Task(t.row.data.task,t.row.calendar),"function"==typeof e.onDragLeave&&e.onDragLeave(n)},DayPilot.Scheduler.registerRowDropTarget(t)},DayPilot.Gantt.unregisterDropTarget=function(e){DayPilot.Scheduler.unregisterDropTarget(e)},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotGantt=function(e){var t=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Gantt(this.id,e);n.init(),this.daypilot=n,t||(t=n)}});return 1===this.length?t:n}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotGantt",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,n){return t.replaceWith(this["template"].replace("{{id}}",n["id"])),function(t,n,i){var a=new DayPilot.Gantt(n[0]);a.nh.scope=t,a.init();var r=i["id"];r&&(t[r]=a);var o=i["publishAs"];if(o){(0,e(o).assign)(t,a)}for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(n){a[n]=function(a){var r=e(i[n]);t["$apply"](function(){r(t,{"args":a})})}}(l):!function(n){a[n]=function(a){e(i[n])(t,{"args":a})}}(l)}var d=t["$watch"],c=i["config"]||i["daypilotConfig"];d.call(t,c,function(e){a.wh(e),a.update()},!0)}}}}])}(),DayPilot.Gantt.def={},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),function(DayPilot){"use strict";if("undefined"==typeof DayPilot.Kanban||!DayPilot.Kanban.def){var e=function(){};DayPilot.Kanban=function(t,n){this.v="2025.4.6765";var i=this;this.barWidth=null,this.cardAutoHeight=!0,this.cardHeight=60,this.cardMarginLeft=5,this.cardMarginRight=5,this.cardMarginBottom=5,this.columnHeaderHeight=40,this.crosshairType="Disabled",this.height=300,this.heightSpec="Auto",this.theme="kanban_default",this.cellMarginBottom=4,this.cellMarginTop=5,this.columnWidthSpec="Auto",this.columnWidth=200,this.cornerHtml=null,this.contextMenuCard=null,this.rowMinHeight=0,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthAutoFitShrink=!1,this.swimlaneCollapsingEnabled=!1,this.swimlaneHeaderWidth=80,this.visible=!0,this.swimlanes={},this.swimlanes.list=[],this.columns={},this.columns.list=[],this.cards={},this.cards.list=[],this.cardClickHandling="Enabled",this.cardDoubleClickHandling="Disabled",this.cardDeleteHandling="Disabled",this.cardMoveHandling="Update",this.columnMoveHandling="Disabled",this.swimlaneMoveHandling="Disabled",this.cardRightClickHandling="ContextMenu",this.onBeforeCellRender=null,this.onBeforeColumnHeaderRender=null,this.onCardClick=null,this.onCardClicked=null,this.onCardDoubleClick=null,this.onCardDoubleClicked=null,this.onCardRightClick=null,this.onCardRightClicked=null,this.onCardDelete=null,this.onCardDeleted=null,this.onCardMove=null,this.onCardMoved=null,this.onCardMoving=null,this.onColumnMove=null,this.onColumnMoved=null,this.onHeightChanged=null,this.onSwimlaneMove=null,this.onSwimlaneMoved=null;var a=new DayPilot.Scheduler(t);this.scheduler=a;var r={},o=15,l=15;e();var s=new DayPilot.Date("2000-01-01");r.translate=function(){var e=DayPilot.list(i.swimlanes.list).isEmpty(),t=a;if(t.startDate=s,t.scale="Day",t.timeHeaders=[{groupBy:"Cell",format:"d"}],t.rowHeaderColumns=i.rowHeaderColumns,t.heightSpec=i.heightSpec,t.cellWidthSpec=i.columnWidthSpec,t.cellWidth=i.columnWidth,t.cellsMarkBusiness=!1,t.cornerHtml=i.cornerHtml,t.crosshairType=i.crosshairType,t.dynamicEventRendering="Disabled",t.floatingEvents=!1,t.floatingTimeHeaders=!1,t.rowMinHeight=i.rowMinHeight,t.rowMarginTop=i.cellMarginTop,t.rowMarginBottom=i.cellMarginBottom,t.devsb=i.devsb,t.eventMoveToPosition=!0,t.headerHeight=i.columnHeaderHeight,t.eventResizeHandling="Disabled",t.timeRangeSelectedHandling="Disabled",t.eventHeight=i.cardHeight,t.eventMarginLeft=i.cardMarginLeft,t.eventMarginRight=i.cardMarginRight,t.eventMarginBottom=i.cardMarginBottom,t.eventTextWrappingEnabled=!0,t.durationBarVisible=!1,t.theme=i.theme,t.visible=i.visible,t.rowHeaderWidth=i.swimlaneHeaderWidth,t.rowHeaderWidthAutoFit=i.rowHeaderWidthAutoFit,t.rowHeaderWidthAutoFitShrink=i.rowHeaderWidthAutoFitShrink,e&&(t.rowHeaderWidth=0,t.rowHeaderWidthAutoFit=!1,t.rowHeaderWidthAutoFitShrink=!1),t.contextMenu=i.contextMenuCard,t.eventClickHandling=i.cardClickHandling,t.eventDoubleClickHandling=i.cardDoubleClickHandling,t.eventDeleteHandling=i.cardDeleteHandling,t.eventMoveHandling=i.cardMoveHandling,t.eventRightClickHandling=i.cardRightClickHandling,t.rowMoveHandling=DayPilot.list(i.swimlanes.list).isEmpty()?"Disabled":i.swimlaneMoveHandling,t.onHeightChanged=i.onHeightChanged,t.internal.enableCellStacking(i.cardAutoHeight),t.internal.cssNames.timeheadercol="_colheadercell",t.internal.cssNames.timeheadercolInner="_colheadercell_inner",t.internal.cssNames.resourcedivider="_rowheaderdivider",t.internal.cssNames.event="_card",t.internal.cssNames.eventInner="_card_inner",t.internal.cssNames.eventDelete="_card_delete",t.internal.cssNames.eventMovingSource="_card_moving_source",i.swimlaneCollapsingEnabled&&(t.rowHeaderWidthMarginRight=15),i.bubble){var n=i.bubble,d=Symbol.for("originalShowEvent");n[d]||(n[d]=n.showEvent,n.showEvent=function(e,t,a){var r=new DayPilot.Card(e,i);return n[d].call(n,r,t,a)}),t.bubble=n}t.onBeforeTimeHeaderRender=function(e){var t=i.vi(e.header.start);if(e.header.html=t.name,e.header.toolTip=t.toolTip||"",e.header.areas=DayPilot.list(t.areas).map(function(e){var t=[];return DayPilot.Util.copyProps(e,t),t}),"function"==typeof i.onBeforeColumnHeaderRender){var n=["areas","backColor","cssClass","text","html","toolTip"],a={};a.column=new DayPilot.KanbanColumn(t,i),a.header=DayPilot.Util.copyProps(e.header,{},n),i.onBeforeColumnHeaderRender(a),DayPilot.Util.copyProps(a.header,e.header,n)}if(DayPilot.list(e.header.areas).forEach(function(e){e.target=new DayPilot.KanbanColumn(t,i)}),e.header.areas||(e.header.areas=[]),"Disabled"!==i.columnMoveHandling){var r=i.theme+"_columnmove_handle";e.header.areas.push({"left":0,"top":0,"width":20,"bottom":0,"css":r,"mousedown":i.wi,"action":"None"})}e.header.$={areaSource:new DayPilot.KanbanColumn(t,i)}},t.onBeforeCellRender=function(e){var n={};n.cell={},n.cell.column=new DayPilot.KanbanColumn(i.vi(e.cell.start),i),n.cell.swimlane=null;var a=i.xi(e.cell.resource);a&&(n.cell.swimlane=new DayPilot.Swimlane(a,i)),n.cell.areas=[],n.cell.cssClass=null,n.cell.html=null,n.cell.backImage=null,n.cell.backRepeat=null,n.cell.backColor=null,"function"==typeof i.onBeforeCellRender&&(i.onBeforeCellRender(n),DayPilot.Util.copyProps(n.cell,e.cell,["areas","cssClass","html","backImage","backRepeat","backColor"]),DayPilot.list(e.cell.areas).forEach(function(e){e.target={"swimlane":n.cell.swimlane,"column":n.cell.column}}));var r=t.rows.find(e.cell.resource);t.resources[r.index].collapsed&&(e.cell.cssClass||(e.cell.cssClass=""),e.cell.cssClass+=" "+i.theme+"_collapsed")},t.onBeforeEventRender=function(e){var t=new DayPilot.Args(e);t.data={},DayPilot.Util.copyProps(e.data.card,t.data),"function"==typeof i.onBeforeCardRender&&i.onBeforeCardRender(t),DayPilot.Util.copyProps(t.data,e.data,["id","name","text","html","barColor","areas"]);var n=e.data,r=i.theme+"_card_header",o=i.theme+"_card_body",l="Disabled"!==a.xssProtection;if("string"!=typeof e.data.html){var s=l?DayPilot.Util.escapeHtml(n.name):n.name,d=l?DayPilot.Util.escapeHtml(n.text):n.text;e.data.html="<div class='"+r+"'>"+s+"</div><div class='"+o+"'>"+d+"</div>"}var c=e.data.areas;Array.isArray(c)?e.data.areas=c.map(function(t){var n={};if(DayPilot.Util.copyProps(t,n),"function"==typeof n.onClick){var a={source:new DayPilot.Card(e.data.card,i)};n.onClick=function(){t.onClick(a)}}return n}):e.data.areas=[];var u={"backColor":t.data.barColor,"cssClass":i.theme+"_card_bar"};"number"==typeof i.barWidth&&(u.width=i.barWidth),e.data.areas.push(u)},t.onEventClick=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,i),"function"==typeof i.onCardClick&&i.onCardClick(t),e.wrapped=t},t.onEventClicked=function(e){var t=e.wrapped;"function"==typeof i.onCardClicked&&i.onCardClicked(t)},t.onEventDoubleClick=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,i),"function"==typeof i.onCardDoubleClick&&i.onCardDoubleClick(t),e.wrapped=t},t.onEventDoubleClicked=function(e){var t=e.wrapped;"function"==typeof i.onCardDoubleClicked&&i.onCardDoubleClicked(t)},t.onEventRightClick=function(e){var t=new DayPilot.Args(e);if(t.card=new DayPilot.Card(e.e.data.card,i),"function"==typeof i.onCardRightClick&&i.onCardRightClick(t),e.wrapped=t,!e.preventDefault.value){var n=e.e,a=t.card;switch(i.cardRightClickHandling){case"ContextMenu":var r=n.client.contextMenu();r?r.show(a):i.contextMenuCard&&i.contextMenuCard.show(a),e.preventDefault()}}},t.onEventRightClicked=function(e){var t=e.wrapped;"function"==typeof i.onCardRightClicked&&i.onCardRightClicked(t)},t.onEventDelete=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,i),t.control=i,"function"==typeof i.onCardDelete&&i.onCardDelete(t),e.wrapped=t},t.onEventDeleted=function(e){DayPilot.rfa(i.cards.list,e.e.data.card);var t=e.wrapped;"function"==typeof i.onCardDeleted&&i.onCardDeleted(t)},t.onEventMoving=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,i),t.column=new DayPilot.KanbanColumn(i.vi(e.start),i),t.position=e.position,t.external=e.external,t.swimlane=null,t.allowed=!0,t.left=e.left,t.left.height=30,t.left.html="",t.right=e.right,t.right.html="",t.right.height=30,t.cssClass=null,t.ctrl=e.ctrl,t.shift=e.shift,t.meta=e.meta,t.alt=e.alt,t.html=null,"*"!==e.newResource&&(t.swimlane=new DayPilot.Swimlane(i.xi(e.resource),i)),"function"==typeof i.onCardMoving&&i.onCardMoving(t),e.wrapped=t,t.preventDefault.value||(e.allowed=t.allowed,e.left=t.left,e.right=t.right,e.html=t.html,e.cssClass=t.cssClass)},t.onEventMove=function(e){function t(){switch(i.cardMoveHandling){case"Update":var t=0;c?t=c.wrapped.data.sort[0]:s&&(t=s.wrapped.data.sort[0]),e.e.data.sort=[t,(new DayPilot.Date).toString()],DayPilot.rfa(i.cards.list,e.e.data.card);var n=0;c?n=DayPilot.indexOf(i.cards.list,c.data):s&&(n=DayPilot.indexOf(i.cards.list,s.data)+1);var o=i.vi(e.newStart);e.e.data.card.column=o.id,e.e.data.card.swimlane=e.newResource,i.cards.list.splice(n,0,e.e.data.card),r.updateSort(),a.internal.deleteDragSource(),i.update()}!function(){var t=e.wrapped,n=DayPilot.list(i.cards.list).find(function(t){return e.e.data.card===t});n.swimlane=t.swimlane?t.swimlane.data.id:null,n.column=t.column.data.id,"function"==typeof i.onCardMoved&&i.onCardMoved(t)}()}e.external&&(e.e.data.card={id:e.e.data.id,name:e.e.data.name,text:e.e.data.text,barColor:e.e.data.barColor,barBackColor:e.e.data.barBackColor});var n=new DayPilot.Args(e);n.async=!1,n.control=i,n.card=new DayPilot.Card(e.e.data.card,i),n.column=new DayPilot.KanbanColumn(i.vi(e.newStart)),n.position=e.position,n.external=e.external,n.loaded=function(){if(n.async){if(n.preventDefault.value)return;t()}},"*"!==e.newResource?n.swimlane=new DayPilot.Swimlane(i.xi(e.newResource),i):n.swimlane=null;for(var o=a.cells.find(e.newStart,e.newResource)[0].events(),l=e.position,s=null,d=l-1;o[d];){if(o[d].data!==e.e.data){s=new DayPilot.Card(o[d]);break}d-=1}for(var c=null,u=l;o[u];){if(o[u].data!==e.e.data){c=new DayPilot.Card(o[u]);break}u+=1}n.previous=s,n.next=c,"function"==typeof i.onCardMove&&i.onCardMove(n),e.wrapped=n,e.preventDefault(),n.preventDefault.value||n.async||t()},t.onBeforeResHeaderRender=function(e){if(i.swimlaneCollapsingEnabled){if(!DayPilot.list(i.swimlanes.list).isEmpty()){var t=i.theme+"_swimlane_collapse";e.resource.collapsed&&(t=i.theme+"_swimlane_expand");var n=e.resource;i.rowHeaderColumns&&(n=e.resource.columns[e.resource.columns.length-1]),n.areas=[{"right":0,"top":0,"height":l,"width":o,"action":"JavaScript","css":t,"js":function(){i.yi(e.resource.index)}}]}}},t.onRowMove=function(e){var t=new DayPilot.Args(e);t.control=i,e.wrapped=t,t.swimlane=new DayPilot.Swimlane(e.source.$.row.swimlane);var n=0;switch(e.position){case"before":n=e.target.index;break;case"after":n=e.target.index+1;break;default:throw"Unexpected target swimlane position: "+e.position}t.position=n,t.previous=null;for(var r=n-1;a.rowlist[r]&&a.rowlist[r].swimlane!==t.swimlane.data;)t.previous=new DayPilot.Swimlane(a.rowlist[r].swimlane),r-=1;t.next=null;for(var o=n;a.rowlist[o]&&a.rowlist[o].swimlane!==t.swimlane.data;)t.next=new DayPilot.Swimlane(a.rowlist[o].swimlane),o+=1;"function"==typeof i.onSwimlaneMove&&i.onSwimlaneMove(t)},t.onRowMoved=function(e){var t=e.wrapped;DayPilot.rfa(i.swimlanes.list,t.swimlane.data);var n=0;t.next?n=DayPilot.indexOf(i.swimlanes.list,t.next.data):t.previous&&(n=DayPilot.indexOf(i.swimlanes.list,t.previous.data)+1),i.swimlanes.list.splice(n,0,t.swimlane.data),"function"==typeof i.onSwimlaneMoved&&i.onSwimlaneMoved(t)},t.treePreventParentUsage=!0},r.loadCards=function(){var e=(new DayPilot.Date).toString();a.sortDirections=["asc","desc"],a.events.list=DayPilot.list(i.cards.list).map(function(t,n){var a={};return a.id=t.id,a.resource=t.swimlane,a.start=s.addDays(DayPilot.list(i.columns.list).findIndex(function(e){return t.column===e.id})),a.end=a.start.addDays(1),a.card=t,a.height=t.height,a.cssClass=t.cssClass,a.sort=[n,e],a})},r.updateSort=function(){var e=(new DayPilot.Date).toString();DayPilot.list(i.cards.list).forEach(function(t,n){var i=r.findSchedulerEventData(t);i&&(i.sort=[n,e])})},r.findSchedulerEventData=function(e){return DayPilot.list(a.events.list).find(function(t){return t.card===e})},r.loadSwimlanes=function(){var e=DayPilot.list(i.swimlanes.list);a.resources=e.map(function(e){var t={};return t.name=e.name,t.id=e.id,t.swimlane=e,e.collapsed&&(t.collapsed=!0,t.eventHeight=20,t.hideEvents=!0),t}),e.isEmpty()&&(a.resources=[{name:"",id:"*"}])},r.loadColumns=function(){var e=DayPilot.list(i.columns.list);a.days=e.length};var d={};d.active=null,d.div=null,d.update=function(){d.clear();var e=d.findPosition();d.draw(e)},d.clear=function(){DayPilot.de(d.div),d.div=null},d.draw=function(e){var t=0;if(e>=a.itline.length){var n=a.itline[a.itline.length-1];t=n.left+n.width-3}else t=a.itline[e].left;var r=document.createElement("div");r.style.position="absolute",r.style.left=t+"px",r.style.width="3px",r.style.top=0,r.style.height=a.headerHeight+"px",r.className=i.theme+"_columnmove_position",d.div=r,a.nav.timeHeader.appendChild(r)},d.findPosition=function(){if(i.coords.x<0)return 0;var e=a.internal.outerRowHeaderWidth(),t=DayPilot.list(a.itline).findIndex(function(t){var n=t.left+e,a=t.width;return i.coords.x<n+a/2});return t===-1?a.itline.length:t},this.wi=function(e){d.active=e},this.vi=function(e){return i.columns.list[DayPilot.DateUtil.daysDiff(s,e)]},this.xi=function(e){return DayPilot.list(i.swimlanes.list).find(function(t){return t.id===e})},this.zi=function(e){return a.internal.findEventDiv(e.wrapped)},this.message=function(e,t,n,i){a.message(e,t,n,i)},this.show=function(){i.visible=!0,a.show()},this.hide=function(){i.visible=!1,a.hide()},this.cards.add=function(e){var t=null;t=e&&e instanceof DayPilot.Card?e.data:e,e&&(i.cards.list.push(t),i.update())},this.cards.remove=function(e){var t=null;t=e&&e instanceof DayPilot.Card?e.data:e,e&&(DayPilot.rfa(i.cards.list,t),i.update())},this.cards.update=function(){i.update()},this.cards.find=function(e){var t=DayPilot.list(i.cards.list).find(function(t){return e===t.id});return t?new DayPilot.Card(t,i):null},this.yi=function(e){DayPilot.list(i.swimlanes.list).isEmpty()||(i.swimlanes.list[e].collapsed=!i.swimlanes.list[e].collapsed),i.update()},this.init=function(){if(this.za)throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");return r.translate(),r.loadSwimlanes(),r.loadColumns(),r.loadCards(),a.init(),i.Eg(),this.za=!0,this},this.Aa=!1,this.dispose=function(){a.dispose(),i.Aa=!0},this.disposed=function(){return this.Aa},this.update=function(e){i.vh(e)},this.vh=function(e){var t=i;if(!t.za)throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet.");if(t.Aa)throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that has been disposed.");i.wh(e),r.translate(),r.loadSwimlanes(),r.loadColumns(),r.loadCards(),a.update()},this.Eg=function(){DayPilot.re(document,"mouseup",i.Hg),DayPilot.re(document,"mousemove",i.Gg)},this.nh={},this.nh.scope=null,this.nh.notify=function(){i.nh.scope&&i.nh.scope["$apply"]()},this.Oh=null,this.wh=function(e){if(e){var t={"cards":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?i.cards.list=e.list:i.cards.list=e)}},"columns":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?i.columns.list=e.list:i.columns.list=e)}},"swimlanes":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?i.swimlanes.list=e.list:i.swimlanes.list=e)}}};this.Oh=t;for(var n in e)if(t[n]){var a=t[n];a.data=e[n],a.preInit&&a.preInit()}else i[n]=e[n]}},this.Nh=function(){var e=this.Oh;for(var t in e){var n=e[t];n.postInit&&n.postInit()}},this.internal={},this.internal.loadOptions=i.wh,this.internal.findCardDiv=i.zi,this.internal.upd=function(e){i.vh(e)},this.internal.vueRendering=function(){return!1},this.wh(n),this.vg=function(){var e=i.nav.top;return!!e&&(e.offsetWidth>0&&e.offsetHeight>0)},this.wg=function(){var e=i,t=e.vg;t()||e.Va||(e.Va=setInterval(function(){t()&&(e.update(),clearInterval(e.Va))},100))},this.Gg=function(e){i.coords=DayPilot.mo3(a.nav.top,e),d.active&&d.update()},this.Hg=function(){if(d.active){var e=d.active.source,t=e.data,n=d.findPosition(),a=new DayPilot.Args;a.column=new DayPilot.KanbanColumn(t,i),a.position=n,a.previous=null,a.next=null;for(var r=null,o=a.position;0!==o&&!r;)t!==i.columns.list[o-1]&&(r=i.columns.list[o-1]),o-=1;r&&(a.previous=new DayPilot.KanbanColumn(r,i));var l=null;for(o=a.position;o<i.columns.list.length-1&&!l;)t!==i.columns.list[o]&&(l=i.columns.list[o]),o+=1;if(l&&(a.next=new DayPilot.KanbanColumn(l,i)),
"function"==typeof i.onColumnMove&&i.onColumnMove(a),!a.preventDefault.value){if("Update"===i.columnMoveHandling){DayPilot.rfa(i.columns.list,a.column.data);var s=0;a.next?s=DayPilot.indexOf(i.columns.list,a.next.data):a.previous&&(s=DayPilot.indexOf(i.columns.list,a.previous.data)+1),i.columns.list.splice(s,0,a.column.data),i.update()}"function"==typeof i.onColumnMoved&&i.onColumnMove(a)}d.active=null,d.clear()}}},DayPilot.Kanban.makeDraggable=function(e){DayPilot.Scheduler.makeDraggable(e)},DayPilot.Card=function(e,t){if(e instanceof DayPilot.Event){var n=e;this.data=n.data.card,this.wrapped=e}else this.data=e;this.control=t,this.calendar=t,this.toJSON=function(){var e={};return e.id=this.data.id,e.name=this.data.name,e.text=this.data.text,e.column=this.data.column,e.swimlane=this.data.swimlane,e}},DayPilot.KanbanColumn=function(e,t){this.data=e,this.control=t},DayPilot.Swimlane=function(e,t){this.data=e,this.control=t},function(){var e=DayPilot.am();e&&e.directive("daypilotKanban",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,n){return t.replaceWith(this["template"].replace("{{id}}",n["id"])),function(t,n,i){var a=new DayPilot.Kanban(n[0]);a.nh.scope=t,a.init();var r=i["id"];r&&(t[r]=a);var o=i["publishAs"];if(o){(0,e(o).assign)(t,a)}for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(n){a[n]=function(a){var r=e(i[n]);t["$apply"](function(){r(t,{"args":a})})}}(l):!function(n){a[n]=function(a){e(i[n])(t,{"args":a})}}(l)}var d=t["$watch"],c=i["config"]||i["daypilotConfig"];d.call(t,c,function(e){a.wh(e),a.update()},!0)}}}}])}(),DayPilot.Kanban.def={}}}(DayPilot),function(DayPilot){"use strict";if("undefined"==typeof DayPilot.Menu||!DayPilot.Menu.def){var e=function(){},t={};t.mouse=null,t.menu=null,t.handlersRegistered=!1,t.hideTimeout=null,t.waitingSubmenu=null,DayPilot.Menu=function(n){var i=this,a=null;this.v="2025.4.6765",this.zIndex=120,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.hideAfter=200,this.theme=null,this.onShow=null;var r=DayPilot.isArray(n)?null:n;if(this.R=function(){},n&&DayPilot.isArray(n)&&(this.items=n),this.toJSON=function(){return null},this.show=function(n,r){r=r||{};var o=null;if(n?"string"==typeof n.id||"number"==typeof n.id?o=n.id:"function"==typeof n.id?o=n.id():"function"==typeof n.value&&(o=n.value()):o=null,"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),r.submenu||t.menuClean(),this.R.submenu=null,null!==t.mouse){i.cssOnly||(i.cssOnly=!0);var l=null;n&&n.isRow&&n.$.row.task?(l=new DayPilot.Task(n.$.row.task,n.calendar),l.menuType="resource"):l=n&&n.isEvent&&n.data.task?new DayPilot.Task(n,n.calendar):n;var s=document.createElement("div");if("function"==typeof i.onShow){var d={};if(d.source=l,d.menu=i,d.div=s,d.preventDefault=function(){d.preventDefault.value=!0},i.onShow(d),d.preventDefault.value)return}if(s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.display="none",s.style.overflow="hidden",s.style.zIndex=this.zIndex+1,s.className=this.Ai("main"),s.onclick=function(e){e.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(s.onmousemove=function(){clearTimeout(t.hideTimeout)},s.onmouseleave=function(){i.delayedHide({"hideParent":!0})}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var c=document.createElement("div");c.innerHTML=this.menuTitle,c.className=this.Ai("title"),s.appendChild(c)}for(var u=function(a){var r=h.items[a],d=document.createElement("div");if(DayPilot.Util.addClass(d,h.Ai("item")),r.items&&(DayPilot.Util.addClass(d,h.Ai("item_haschildren")),DayPilot.Util.addClass(s,h.Ai("withchildren"))),"undefined"==typeof r)return"continue";if(r.hidden)return"continue";if("-"===r.text){var c=document.createElement("div");c.addEventListener("click",function(e){e.stopPropagation()}),d.appendChild(c)}else{var u=document.createElement("a");if(u.style.position="relative",u.style.display="block",r.cssClass&&DayPilot.Util.addClass(u,r.cssClass),r.disabled)DayPilot.Util.addClass(u,i.Ai("item_disabled"));else{if(r.onclick||r.onClick){u.item=r,u.onclick=function(e,t){return function(n){if("function"==typeof e.onClick){var i={};if(i.item=e,i.source=t.source,i.originalEvent=n,i.preventDefault=function(){i.preventDefault.value=!0},e.onClick(i),i.preventDefault.value)return void n.stopPropagation()}e.onclick&&e.onclick.call(t,n)}}(r,u);var f=function(e,n){return function(i){i.stopPropagation(),i.preventDefault();var a=function(){window.setTimeout(function(){n.source.calendar&&(n.source.calendar.internal.touch.active=!1)},500)};if("function"==typeof e.onClick){var r={};if(r.item=e,r.source=n.source,r.originalEvent=i,r.preventDefault=function(){r.preventDefault.value=!0},e.onClick(r),r.preventDefault.value)return void a()}e.onclick&&e.onclick.call(n,i),t.menuClean(),a()}};DayPilot.reNonPassive(u,"touchstart",function(e){e.stopPropagation(),e.preventDefault(),u.source.calendar&&(u.source.calendar.internal.touch.active=!0)}),DayPilot.reNonPassive(u,"touchend",f(r,u))}if(r.items&&!r.disabled){var v=function(e,t){return function(n){n.preventDefault(),n.stopPropagation(),i.Bi(e,t)}};u.ontouchend=v(r,u)}if(r.onclick)e();else if(r.href)u.href=r.href.replace(/\x7B0\x7D/gim,o),r.target&&u.setAttribute("target",r.target);else if(r.command){var v=function(e,t){return function(n){var i=t.source,a=e;a.action=a.action?a.action:"CallBack";var r=i.calendar||i.root;if(n.preventDefault(),i instanceof DayPilot.Link)r.internal.linkMenuClick(a.command,i,a.action);else if(i instanceof DayPilot.Selection)r.internal.timeRangeMenuClick(a.command,i,a.action);else if(i instanceof DayPilot.Event)r.internal.eventMenuClick(a.command,i,a.action);else if(i instanceof DayPilot.Task)"resource"===i.menuType?r.internal.resourceHeaderMenuClick(a.command,t.menuSource,a.action):r.internal.eventMenuClick(a.command,t.menuSource,a.action);else switch(i.menuType){case"resource":r.internal.resourceHeaderMenuClick(a.command,i,a.action);break;case"selection":r.internal.timeRangeMenuClick(a.command,i,a.action);break;default:r.internal.eventMenuClick(a.command,i,a.action)}}};u.onclick=v(r,u),u.ontouchend=v(r,u)}}r.items&&u.addEventListener("click",function(e){e.stopPropagation()}),u.source=l,u.menuSource=n;var p=document.createElement("span");if(p.className=i.Ai("item_text"),p.innerHTML=DayPilot.Util.escapeTextHtml(r.text,r.html),u.appendChild(p),r.image){var m=document.createElement("img");m.src=r.image,m.style.position="absolute",m.style.top="0px",m.style.left="0px",u.appendChild(m)}if(r.icon){var g=document.createElement("span");g.className=i.Ai("item_icon");var b=document.createElement("i");b.className=r.icon,g.appendChild(b),u.appendChild(g)}if(r.symbol){var y="http://www.w3.org/2000/svg",w=document.createElementNS(y,"svg");w.setAttribute("width","100%"),w.setAttribute("height","100%");var x=document.createElementNS(y,"use");x.setAttribute("href",r.symbol),w.appendChild(x);var k=document.createElement("span");k.className=i.Ai("item_symbol"),k.style.position="absolute",k.style.top="0px",k.style.left="0px",k.appendChild(w),u.appendChild(k)}var C=function(e,n){return function(){var a=e,r=t.waitingSubmenu;if(r){if(r.parent===a)return;clearTimeout(r.timeout),t.waitingSubmenu=null}e.disabled||(t.waitingSubmenu={},t.waitingSubmenu.parent=a,t.waitingSubmenu.timeout=setTimeout(function(){t.waitingSubmenu=null,i.Bi(a,n)},300))}};u.onmouseover=C(r,u),d.appendChild(u)}s.appendChild(d)},h=this,f=0;f<this.items.length;f++)u(f);var v=function(){window.setTimeout(function(){t.menuClean(),DayPilot.MenuBar.deactivate()},100)};s.onclick=v,s.ontouchend=v,s.onmousedown=function(e){e.stopPropagation()},s.oncontextmenu=function(){return!1},document.body.appendChild(s),i.R.visible=!0,i.R.source=n,s.style.display="";var p=s.offsetHeight,m=s.offsetWidth;s.style.display="none";var g=document.documentElement.clientHeight,b=window.innerWidth,y="number"==typeof r.windowMargin?r.windowMargin:5;if(function(){var e=r.initiator;if(e){var t=e.div,n=e.e,i=e.area,o=i.visibility||i.v||"Visible",l=e.a;if("Visible"!==o&&(l=DayPilot.Areas.createArea(t,n,i),t.appendChild(l),a=l),l){var s=DayPilot.abs(l);r.x=s.x,r.y=s.y+s.h+2}}}(),function(){var e="number"==typeof r.x?r.x:t.mouse.x+1,n="number"==typeof r.y?r.y:t.mouse.y+1,a=document.body.scrollTop||document.documentElement.scrollTop,o=document.body.scrollLeft||document.documentElement.scrollLeft,l=0,d=0;if(n-a>g-p&&0!==g){l=n-(n-a-(g-p)+y)}else l=n;if(i.R.y=l,s.style.top=l+"px","right"===r.align&&(e-=m),e-o>b-m&&0!==b){d=e-(e-o-(b-m)+y)}else d=e;i.R.x=d,s.style.left=d+"px"}(),r.parentLink){var w=r.parentLink,x=parseInt(new DayPilot.StyleReader(s).get("border-top-width")),k=DayPilot.abs(r.parentLink.parentNode),C=k.x+w.offsetWidth,_=k.y-x;C+m>b&&(C=Math.max(0,k.x-m));var T=document.body.scrollTop+document.documentElement.scrollTop;_+p-T>g&&(_=Math.max(0,g-p+T)),s.style.left=C+"px",s.style.top=_+"px"}s.style.display="",this.addShadow(s),this.R.div=s,r.submenu||(DayPilot.Menu.active=this)}},this.update=function(){if(i.R.visible){var e=i.R.source;i.hide(),i.show(e,{"x":i.R.x,"y":i.R.y})}},this.Bi=function(e,t){var n=e,a=t.source;if((!i.R.submenu||i.R.submenu.item!==e)&&(i.R.submenu&&i.R.submenu.item!==e&&(DayPilot.Util.removeClass(i.R.submenu.link.parentNode,i.Ai("item_haschildren_active")),i.R.submenu.menu.hide(),i.R.submenu=null),e.items)){var r=i.cloneOptions();r.items=e.items,i.R.submenu={},i.R.submenu.menu=new DayPilot.Menu(r),i.R.submenu.menu.Ci=i,i.R.submenu.menu.show(a,{"submenu":!0,"parentLink":t,"parentItem":n}),i.R.submenu.item=e,i.R.submenu.link=t,DayPilot.Util.addClass(t.parentNode,i.Ai("item_haschildren_active"))}},this.Ai=function(e){var t=this.theme||this.cssClassPrefix,n=this.cssOnly?"_":"";return t?t+n+e:""},this.cloneOptions=function(){return DayPilot.Util.copyProps(r,{},["cssClassPrefix","theme","hideAfter","hideOnMouseOut","zIndex"])},this.hide=function(e){e=e||{},this.R.submenu&&this.R.submenu.menu.hide();var n=t.waitingSubmenu;if(n&&(t.waitingSubmenu=null,clearTimeout(n.timeout)),this.removeShadow(),this.R.div&&this.R.div.parentNode===document.body&&document.body.removeChild(this.R.div),a&&(DayPilot.de(a),a=null),i.R.visible=!1,i.R.source=null,i.Ci&&e.hideParent&&i.Ci.hide(e),DayPilot.Menu.active===i&&(DayPilot.Menu.active=null),"function"==typeof this.onHide){var r={};this.onHide(r)}},this.delayedHide=function(e){t.hideTimeout=setTimeout(function(){i.hide(e)},i.hideAfter)},this.cancelHideTimeout=function(){clearTimeout(t.hideTimeout)},this.init=function(e){return t.mouseMove(e),this},this.addShadow=function(){},this.removeShadow=function(){},r)for(var o in r)this[o]=r[o]},DayPilot.MenuBar=function(e,t){var n=this;t=t||{},this.items=[],this.theme="menubar_default",this.windowMargin=0,this.nav={},this.elements={},this.elements.items=DayPilot.list(),this.s=null,this.za=!1;for(var i in t)this[i]=t[i];this.Di=function(e){return this.theme+"_"+e},this.D=function(){this.nav.top=document.getElementById(e);var t=this.nav.top;t.className=this.Di("main"),DayPilot.list(n.items).forEach(function(e){var i=document.createElement("span");i.innerHTML=DayPilot.Util.escapeTextHtml(e.text,e.html),i.className=n.Di("item"),e.cssClass&&i.classList.add(e.cssClass),i.data=e,i.onclick=function(t){if(n.active&&n.active.item===e)n.Ei();else if(e.children)return void n.Fi(i);if("function"==typeof e.onClick){var a={};a.item=e,a.originalEvent=t,e.onClick(a)}},i.onmousedown=function(e){e.stopPropagation()},i.onmouseover=function(){n.active&&n.active.item!==e&&n.Fi(i)},t.appendChild(i),n.elements.items.push(i)})},this.Ei=function(){var e=n.Di("item_active");n.elements.items.forEach(function(t){DayPilot.Util.removeClass(t,e)}),n.active&&n.active.menu&&n.active.menu.hide(),n.active=null},this.Gi=function(e){return!!n.active&&n.active.item===e.data},this.Fi=function(e){if(!n.Gi(e)){n.Ei();var t=e.data,i=n.active={};i.item=t,i.div=e;var a=n.Di("item_active");DayPilot.Util.addClass(e,a);var r=DayPilot.abs(e);if(t.children){i.menu=new DayPilot.Menu({"items":t.children});var o=r.x;"right"===t.align&&(o+=r.w),i.menu.show(null,{"x":o,"y":r.y+r.h,"align":t.align,"windowMargin":n.windowMargin})}DayPilot.MenuBar.active=n}},this.init=function(){return this.D(),this.za=!0,this},this.dispose=function(){this.za&&(this.nav.top.innerHTML="",this.elements.items=[])}},DayPilot.MenuBar.deactivate=function(){DayPilot.MenuBar.active&&(DayPilot.MenuBar.active.Ei(),DayPilot.MenuBar.active=null)},t.menuClean=function(){"undefined"!=typeof DayPilot.Menu.active&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},t.mouseDown=function(){"undefined"!=typeof t&&(t.menuClean(),DayPilot.MenuBar.deactivate())},t.wheel=function(){"undefined"!=typeof t&&(t.menuClean(),DayPilot.MenuBar.deactivate())},t.resize=function(){"undefined"!=typeof t&&(t.menuClean(),DayPilot.MenuBar.deactivate())},t.mouseMove=function(e){"undefined"!=typeof t&&(t.mouse=t.mousePosition(e))},t.touchMove=function(e){"undefined"!=typeof t&&(t.mouse=t.touchPosition(e))},t.touchStart=function(e){"undefined"!=typeof t&&(t.mouse=t.touchPosition(e))},t.touchEnd=function(){},t.touchPosition=function(e){if(!e||!e.touches)return null;var t=e.touches[0],n={};return n.x=t.pageX,n.y=t.pageY,n},t.mousePosition=function(e){return DayPilot.mo3(null,e)},DayPilot.Menu.touchPosition=function(e){e.touches&&(t.mouse=t.touchPosition(e))},DayPilot.Menu.mousePosition=function(e){t.mouse=t.mousePosition(e)},DayPilot.Menu.hide=function(e){if(e=e||{},e.calendar){var n=DayPilot.Menu.active;if(n){var i=n.R.source;i&&i.calendar===e.calendar&&t.menuClean()}}else t.menuClean()},t.handlersRegistered||"undefined"==typeof document||(DayPilot.re(document,"mousemove",t.mouseMove),DayPilot.re(document,"mousedown",t.mouseDown),DayPilot.re(document,"wheel",t.wheel),DayPilot.re(document,"touchmove",t.touchMove),DayPilot.re(document,"touchstart",t.touchStart),DayPilot.re(document,"touchend",t.touchEnd),DayPilot.re(window,"resize",t.resize),t.handlersRegistered=!0),DayPilot.Menu.def={},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),function(DayPilot){"use strict";function e(t,n,i){var a=n.indexOf(".");if(a===-1)return void("__proto__"!==n&&"constructor"!==n&&(t[n]=i));var r=n.substring(0,a);if("__proto__"!==r&&"constructor"!==r){var o=n.substring(a+1),l=t[r];"object"==typeof l&&null!==l||(t[r]={},l=t[r]),e(l,o,i)}}function t(e){this.form=[],this.data={},this.theme="form_default",this.zIndex=99999,this.locale="en-us",this.plugins={},this.onKey=null,this.bj=[],this.cj=null,this.canceling=!1,this.dj=[],this.o=[],this.c=null,e=e||{};for(var t in e)this[t]=e[t]}function n(){this.id=this.guid(),this.field=null,this.data=null,this.type=null,this.level=0,this.enabled=!0,this.value=null,this.text=null,this.interactive=!0,this.isValue=!1,this.checked=!1,this.resolved=null}function i(){this.element=null,this.canFocus=function(){return!1},this.apply=function(){},this.focus=function(){},this.save=function(){return{}}}function a(e,t,n){t=t||{},n=n||"";for(var i in e){var r=e[i];"object"==typeof r?"[object Array]"===Object.prototype.toString.call(r)?t[n+i]=r:r&&r.toJSON?t[n+i]=r.toJSON():a(r,t,n+i+"."):t[n+i]=r}return t}function r(e){this.data=[],this.name=null,this.theme="searchable_default",this.jj=!1,this.listZIndex=1e5,this.onSelect=null,this.kj=null,this.lj=null,this.mj=!1,this.nj=null,this.Oc=null,this.A=[],this.oj=null,e=e||{};var t=this,n={"selected":{post:function(e){"object"==typeof e&&e.id?t.kj=e:"string"!=typeof e&&"number"!=typeof e||t.select(e)}}};Object.defineProperty(this,"selected",{get:function(){return this.kj}}),Object.defineProperty(this,"disabled",{get:function(){return this.jj},set:function(e){this.jj=e,this.nj&&(this.nj.disabled=e,e&&this.pj())}});for(var i in e)n[i]||(this[i]=e[i]);for(var a in e)n[a]&&n[a].post(e[a])}function o(e){this.form=null,this.item=null,this.data=null,this.name=null,this.theme="edit_table_default",this.onInput=null,this.nav={},this.rj=null,this.bj=[],e=e||{};for(var t in e)this[t]=e[t]}if(!DayPilot.ModalStatic){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var e=this.list.pop();e&&e.hide()}},DayPilot.ModalStatic.remove=function(e){for(var t=DayPilot.ModalStatic.list,n=0;n<t.length;n++)if(t[n]===e)return void t.splice(n,1)},DayPilot.ModalStatic.close=function(e){DayPilot.ModalStatic.result(e),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(e){var t=DayPilot.ModalStatic.list;t.length>0&&(t[t.length-1].result=e)},DayPilot.ModalStatic.displayed=function(e){for(var t=DayPilot.ModalStatic.list,n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},DayPilot.ModalStatic.stretch=function(){if(this.list.length>0){var e=this.list[this.list.length-1];e&&e.stretch()}},DayPilot.ModalStatic.last=function(){var e=DayPilot.ModalStatic.list;return e.length>0?e[e.length-1]:null};var l=function(){function e(){for(var e=document.querySelectorAll("style[nonce]"),t=0;t<e.length;t++){var n=e[t];if(n.nonce)return n.nonce}if(document.currentScript&&document.currentScript.nonce)return document.currentScript.nonce;for(var i=document.querySelectorAll("script[nonce]"),a=0;a<i.length;a++){var r=i[a];if(r.nonce)return r.nonce}return""}if("undefined"==typeof window){var t={};return t.add=function(){},t.commit=function(){},t}var n=document.createElement("style");!(!document.querySelector("head > script[data-rendered-by-lwc]")&&!document.querySelector("body > div#auraLoadingBox"))||(n.nonce=e()),n.styleSheet||n.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(n);var i=!!n.styleSheet,a={};return a.rules=[],a.commit=function(){try{i&&(n.styleSheet.cssText=this.rules.join("\n"))}catch(e){}},a.add=function(e,t,a){if(i)return void this.rules.push(e+"{"+t+"}");if(n.sheet.insertRule)"undefined"==typeof a&&(a=n.sheet.cssRules.length),n.sheet.insertRule(e+"{"+t+"}",a);else{if(!n.sheet.addRule)throw"No CSS registration method found";n.sheet.addRule(e,t,a)}},a.print=function(){for(var e=n.sheet.cssRules,t=[],i=0;i<e.length;i++)t.push(e[i].cssText);return t.join("\n")},a},s="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",d=new l;d.add(".modal_default_main","border: 10px solid #ccc; max-width: 90%;"),d.add(".modal_default_main:focus","outline: none;"),d.add(".modal_default_content","padding: 10px 0px;"),d.add(".modal_default_inner","padding: 20px;"),d.add(".modal_default_input","padding: 10px 0px;"),d.add(".modal_default_buttons","margin-top: 10px;"),d.add(".modal_default_buttons","padding: 10px 0px;"),d.add(".modal_default_form_item","padding: 10px 0px; position: relative;"),d.add(".modal_default_form_item_level1","border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"),d.add(".modal_default_form_item.modal_default_form_title","font-size: 1.5rem; font-weight: bold;"),d.add(".modal_default_form_item input[type=text]","width: 100%; box-sizing: border-box;"),d.add(".modal_default_form_item textarea","width: 100%; height: 200px; box-sizing: border-box;"),d.add(".modal_default_form_item input[type=select]","width: 100%; box-sizing: border-box;"),d.add(".modal_default_form_item label","display: block;"),d.add(".modal_default_form_item select","width: 100%; box-sizing: border-box;"),d.add(".modal_default_form_item_label","margin: 2px 0px;"),d.add(".modal_default_form_item_image img","max-width: 100%; height: auto;"),d.add(".modal_default_form_item_invalid",""),d.add(".modal_default_form_item_invalid_message","position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"),d.add(".modal_default_background","opacity: 0.5; background-color: #000;"),d.add(".modal_default_ok","padding: 3px; width: 80px;"),d.add(".modal_default_cancel","padding: 3px; width: 80px;"),d.add(".modal_default_form_item_date","position: relative;"),d.add(".modal_default_form_item_date:after","content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url("+"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg=="+")"),"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Edge")!==-1&&d.add(".modal_default_form_item_date input::-ms-clear","display: none;"),d.add(".modal_default_form_item_scrollable_scroll","width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"),d.add(".modal_default_form_item_scrollable_scroll_content","padding: 5px;"),d.add(".modal_default_form_item_searchable","position: relative;"),d.add(".modal_default_form_item_searchable_icon",""),d.add(".modal_default_form_item_searchable_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+s+");"),d.add(".modal_default_form_item_searchable_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),d.add(".modal_default_form_item_searchable_list_item","background: white; padding: 2px; cursor: default;"),d.add(".modal_default_form_item_searchable_list_item_highlight","background: #ccc;"),d.add(".modal_default_form_item_time","position: relative;"),d.add(".modal_default_form_item_time_icon",""),d.add(".modal_default_form_item_time_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+s+");"),d.add(".modal_default_form_item_time_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),d.add(".modal_default_form_item_time_list_item","background: white; padding: 2px; cursor: default;"),d.add(".modal_default_form_item_time_list_item_highlight","background: #ccc;"),d.add(".modal_default_form_item_datetime_parent","display: flex;"),d.add(".modal_default_form_item_datetime .modal_default_form_item_time_main","margin-left: 5px;"),d.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ",""),d.add(".modal_default_form_item_tabular_main","margin-top: 10px;"),d.add(".modal_default_form_item_tabular_table","display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"),d.add(".modal_default_form_item_tabular_tbody","display: table-row-group;"),d.add(".modal_default_form_item_tabular_row","display: table-row;"),d.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",""),d.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction","padding: 0px; width: 23px;"),d.add(".modal_default_form_item_tabular_cell","display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"),d.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell","padding-left: 0px; padding-bottom: 0px;"),d.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]","width:100%; box-sizing: border-box;"),d.add(".modal_default_form_item_tabular_table select","width:100%; height:100%; box-sizing: border-box;"),d.add(".modal_default_form_item_tabular_plus","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),d.add(".modal_default_form_item_tabular_plus:after","content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"),d.add(".modal_default_form_item_tabular_delete","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),d.add(".modal_default_form_item_tabular_delete:after","content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"),d.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus","display: none;"),d.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus","display: none;"),d.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete","visibility: hidden;"),d.add(".modal_default_form_item_tabular_empty","height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"),d.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell","padding: 0px;"),d.add(".modal_min_main","border: 1px solid #ccc; max-width: 90%;"),d.add(".modal_min_background","opacity: 0.5; background-color: #000;"),d.add(".modal_min_ok","padding: 3px 10px;"),d.add(".modal_min_cancel","padding: 3px 10px;"),d.add(".navigator_modal_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),d.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after","box-sizing: content-box;"),d.add(".navigator_modal_month","font-size: 11px;"),d.add(".navigator_modal_day","color: black;"),d.add(".navigator_modal_weekend","background-color: #f0f0f0;"),d.add(".navigator_modal_dayheader","color: black;"),
d.add(".navigator_modal_line","border-bottom: 1px solid #c0c0c0;"),d.add(".navigator_modal_dayother","color: gray;"),d.add(".navigator_modal_todaybox","border: 1px solid red;"),d.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),d.add(".navigator_modal_busy","font-weight: bold;"),d.add(".navigator_modal_cell","text-align: center;"),d.add(".navigator_modal_select .navigator_modal_cell_box","background-color: #FFE794; opacity: 0.5;"),d.add(".navigator_modal_title","text-align: center;"),d.add(".navigator_modal_titleleft, .navigator_modal_titleright","text-align: center;"),d.add(".navigator_modal_dayheader","text-align: center;"),d.add(".navigator_modal_weeknumber","text-align: center;"),d.add(".navigator_modal_cell_text","cursor: pointer;"),d.add(".navigator_modal_todaysection","box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"),d.add(".navigator_modal_todaysection_button","cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "),d.commit(),DayPilot.Modal=function(e){this.autoFocus=!0,this.focus=null,this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=99999,this.left=null,this.width=600,this.top=20,this.height=200,this.locale=null,this.closed=null,this.onClose=null,this.onClosed=null,this.onShow=null;var t=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.Vf=!1,this.Hi=null,this.Ii=null,this.showHtml=function(e){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.Mg(),this.Od(),this.useIframe){var t=function(e,t){return function(){e.setInnerHTML(e.id+"iframe",t)}};window.setTimeout(t(this,e),0)}else e.nodeType?this.div.appendChild(e):this.div.innerHTML=e;this.Od(),this.Mh(),this.Ji()},this.showUrl=function(e){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.Mg();var n=this.loadingHtml;n&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",n)),this.re(this.iframe,"load",this.Ki),this.iframe.src=e,this.Od(),this.Mh(),this.Ji()}else t.Li({"url":e,"success":function(e){var n=e.request.responseText;t.showHtml(n)},"error":function(){t.showHtml("Error loading the modal dialog")}})},this.Ji=function(){if("function"==typeof t.onShow){var e={};e.root=t.Mi(),e.modal=t,t.onShow(e)}},this.Mi=function(){return t.iframe?t.iframe.contentWindow.document:t.div},this.Li=function(e){var t=new XMLHttpRequest;if(t){var n=e.method||"GET",i=e.success||function(){},a=e.error||function(){},r=e.data,o=e.url;t.open(n,o,!0),t.setRequestHeader("Content-type","text/plain"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||304===t.status){var e={};e.request=t,i(e)}else if(a){var n={};n.request=t,a(n)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&("object"==typeof r&&(r=JSON.stringify(r)),t.send(r))}},this.Od=function(){delete this.result;var e=window,n=document,i=e.pageYOffset?e.pageYOffset:n.documentElement&&n.documentElement.scrollTop?n.documentElement.scrollTop:n.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){t.hideDiv&&(t.hideDiv.onclick=function(){t.hide({"backgroundClick":!0})})},500),this.theme?this.div.className=this.theme+"_main":this.div.className="",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=i+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",this.Ni(),DayPilot.ModalStatic.remove(this),DayPilot.ModalStatic.list.push(this)},this.Ki=function(){t.iframe.contentWindow.modal=t,t.autoStretch&&t.stretch()},this.stretch=function(){var e=function(){return t.Oi().y},n=function(){return t.Oi().x};if(this.useIframe){for(var i=n()-40,a=this.width;a<i&&this.Pi();a+=10)this.div.style.width=a+"px",this.div.style.marginLeft="-"+Math.floor(a/2)+"px";for(var r=this.maxHeight||e()-2*this.top,o=this.height;o<r&&this.Qi();o+=10)this.iframe.style.height=o+"px",this.div.style.height=o+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.Ki)}else this.div.style.height=""},this.Pi=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,n=t.scrollWidth,i=e.body.children,a=0;a<i.length;a++){var r=i[a].offsetLeft+i[a].offsetWidth;n=Math.max(n,r)}return n>t.clientWidth},this.Qi=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,n=t.scrollHeight,i=e.body.children,a=0;a<i.length;a++){var r=i[a].offsetTop+i[a].offsetHeight;n=Math.max(n,r)}return n>t.clientHeight},this.Oi=function(){var e=document;if("CSS1Compat"===e.compatMode&&e.documentElement&&e.documentElement.clientWidth){var t=e.documentElement.clientWidth,n=e.documentElement.clientHeight;return{x:t,y:n}}var t=e.body.clientWidth,n=e.body.clientHeight;return{x:t,y:n}},this.Mh=function(){this.Vf||(this.re(window,"resize",this.Ri),this.re(window,"scroll",this.Si),this.dragDrop&&(this.re(document,"mousemove",this.Ti),this.re(document,"mouseup",this.Ui)),this.Vf=!0)},this.db=function(){this.ue(window,"resize",this.Ri),this.ue(window,"scroll",this.Si),this.dragDrop&&(this.ue(document,"mousemove",this.Ti),this.ue(document,"mouseup",this.Ui)),this.Vf=!1},this.Vi=function(e){e.target===t.div&&(e.preventDefault(),t.div.style.cursor="move",t.Wi(),t.Ii=t.mc(e||window.event),t.Hi={x:t.div.offsetLeft,y:t.div.offsetTop})},this.Ti=function(e){if(t.Ii){var n=t.mc(e),i=n.x-t.Ii.x,a=n.y-t.Ii.y;t.div.style.marginLeft="0px",t.div.style.top=t.Hi.y+a+"px",t.div.style.left=t.Hi.x+i+"px"}},this.Ui=function(){t.Ii&&(t.Xi(),t.div.style.cursor=null,t.Ii=null)},this.Wi=function(){if(this.useIframe){var e=document.createElement("div");e.style.backgroundColor="#ffffff",e.style.filter="alpha(opacity=80)",e.style.opacity="0.80",e.style.width="100%",e.style.height=this.height+"px",e.style.position="absolute",e.style.left="0px",e.style.top="0px",this.div.appendChild(e),this.mask=e}},this.Xi=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.Ri=function(){t.Yi(),t.Ni()},this.Si=function(){t.Yi()},this.Ni=function(){if(!t.left&&t.div){var e=t.div.offsetWidth;t.div.style.marginLeft="-"+Math.floor(e/2)+"px"}},this.Yi=function(){if(t.hideDiv&&t.div&&"none"!==t.hideDiv.style.display&&"none"!==t.div.style.display){var e=t.Zi.scrollY();t.scrollWithPage||(t.div.style.top=e+t.top+"px")}},this.Zi={},this.Zi.container=function(){return t.container||document.body},this.Zi.scrollY=function(){var e=t.Zi.container();return e===document.body?window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop:e.scrollTop},this.re=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},this.ue=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},this.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},this.abs=function(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e.offsetParent;)e=e.offsetParent,t.x+=e.offsetLeft,t.y+=e.offsetTop;return t},this.Mg=function(){var e=t.Zi.container(),n=e===document.body,i=n?"fixed":"absolute",a=document.createElement("div");a.id=this.id+"hide",a.style.position=i,a.style.left="0px",a.style.top="0px",a.style.right="0px",a.style.bottom="0px",a.oncontextmenu=function(){return!1},a.onmousedown=function(){return!1},e.appendChild(a);var r=document.createElement("div");r.id=this.id+"popup",r.style.position=i,r.style.left="50%",r.style.top="0px",r.style.backgroundColor="white",r.style.width="50px",r.style.height="50px",this.dragDrop&&(r.onmousedown=this.Vi),r.addEventListener("keydown",function(e){e.stopPropagation()});var o=null;this.useIframe&&(o=document.createElement("iframe"),o.id=this.id+"iframe",o.name=this.id+"iframe",o.frameBorder="0",o.style.width="100%",o.style.height="50px",r.appendChild(o)),e.appendChild(r),this.div=r,this.iframe=o,this.hideDiv=a},this.setInnerHTML=function(e,n){var i=window.frames[e],a=i.contentWindow||i.document||i.contentDocument;a.document&&(a=a.document),null==a.body&&a.write("<body></body>"),n.nodeType?a.body.appendChild(n):a.body.innerHTML=n,t.autoStretch&&(t.autoStretchFirstLoadOnly&&t.$i||(t.stretch(),t.$i=!0))},this.close=function(e){this.result=e,this.hide()},this.closeSerialized=function(){for(var e=t.Mi(),n=e.querySelectorAll("input, textarea, select"),i={},a=0;a<n.length;a++){var r=n[a],o=r.name;if(o){var l=r.value;i[o]=l}}t.close(i)},this.hide=function(e){e=e||{};var n={};n.backgroundClick=!!e.backgroundClick,n.result=this.result,n.canceled="undefined"==typeof this.result,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof this.onClose&&(this.onClose(n),n.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),DayPilot.ModalStatic.remove(this),"function"==typeof this.onClosed?this.onClosed(n):this.closed&&this.closed(),delete this.result,this.disposeOnClose&&(t.db(),t._i(t.div),t._i(t.hideDiv),t.div=null,t.hideDiv=null,t.iframe=null))},this._i=function(e){var t;e&&(null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e))},this.aj=function(){if(e)for(var t in e)this[t]=e[t]},this.aj()},DayPilot.Modal.alert=function(e,t){t=t||{},t.height=t.height||40,t.useIframe=!1;var n=t.okText||"OK";return DayPilot.getPromise(function(i){t.onClosed=function(e){i(e)};var a=new DayPilot.Modal(t),r=document.createElement("div");r.className=a.theme+"_inner";var o=document.createElement("div");o.className=a.theme+"_content",o.innerHTML=e;var l=document.createElement("div");l.className=a.theme+"_buttons";var s=document.createElement("button");s.innerText=n,s.className=a.theme+"_ok",s.onclick=function(){DayPilot.ModalStatic.close("OK")},l.appendChild(s),r.appendChild(o),r.appendChild(l),a.showHtml(r),a.autoFocus&&s.focus()})},DayPilot.Modal.confirm=function(e,t){t=t||{},t.height=t.height||40,t.useIframe=!1;var n=t.okText||"OK",i=t.cancelText||"Cancel";return DayPilot.getPromise(function(a){t.onClosed=function(e){a(e)};var r=new DayPilot.Modal(t),o=document.createElement("div");o.className=r.theme+"_inner";var l=document.createElement("div");l.className=r.theme+"_content",l.innerHTML=e;var s=document.createElement("div");s.className=r.theme+"_buttons";var d=document.createElement("button");d.innerText=n,d.className=r.theme+"_ok",d.onclick=function(){DayPilot.ModalStatic.close("OK")};var c=document.createTextNode(" "),u=document.createElement("button");u.innerText=i,u.className=r.theme+"_cancel",u.onclick=function(){DayPilot.ModalStatic.close()},s.appendChild(d),s.appendChild(c),s.appendChild(u),o.appendChild(l),o.appendChild(s),r.showHtml(o),r.autoFocus&&d.focus()})},DayPilot.Modal.prompt=function(e,t,n){"object"==typeof t&&(n=t,t=""),n=n||{},n.height=n.height||40,n.useIframe=!1;var i=n.okText||"OK",a=n.cancelText||"Cancel",r=t||"";return DayPilot.getPromise(function(t){n.onClosed=function(e){t(e)};var o=new DayPilot.Modal(n),l=document.createElement("div");l.className=o.theme+"_inner";var s=document.createElement("div");s.className=o.theme+"_content",s.innerHTML=e;var d=document.createElement("div");d.className=o.theme+"_input";var c=document.createElement("input");c.value=r,c.style.width="100%",c.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:o.close(this.value);break;case 27:o.close();break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},d.appendChild(c);var u=document.createElement("div");u.className=o.theme+"_buttons";var h=document.createElement("button");h.innerText=i,h.className=o.theme+"_ok",h.onclick=function(){o.close(c.value)};var f=document.createTextNode(" "),v=document.createElement("button");v.innerText=a,v.className=o.theme+"_cancel",v.onclick=function(){o.close()},u.appendChild(h),u.appendChild(f),u.appendChild(v),l.appendChild(s),l.appendChild(d),l.appendChild(u),o.showHtml(l),o.autoFocus&&c.focus()})};var c=function(e){return"[object Array]"===Object.prototype.toString.call(e)};DayPilot.Modal.form=function(n,i,a){if(1===arguments.length){var r=n;if(c(r))i={};else{if("object"!=typeof r)throw"Invalid DayPilot.Modal.form() parameter";i=n,n=[];for(var o in i){var l={};l.name=o,l.id=o,n.push(l)}}}var s={};for(var d in a)s[d]=a[d];s.height=s.height||40,s.useIframe=!1;var u=s.okText||"OK",h=s.cancelText||"Cancel";return DayPilot.getPromise(function(a){s.onClosed=function(t){if(t.result){var n=JSON.parse(JSON.stringify(i));for(var r in t.result)e(n,r,t.result[r]);t.result=n}a(t)};var r=new DayPilot.Modal(s),o=document.createElement("div");o.className=r.theme+"_inner";var l=document.createElement("div");l.className=r.theme+"_input";var d=new t({theme:r.theme,form:n,data:i,zIndex:r.zIndex,locale:r.locale,plugins:r.plugins,onKey:function(e){switch(e.key){case"Enter":d.validate()&&r.close(d.serialize());break;case"Escape":r.close()}},onChange:function(e){"function"==typeof r.onChange&&r.onChange(e)}}),c=d.create();l.append(c);var f=document.createElement("div");f.className=r.theme+"_buttons";var v=document.createElement("button");v.innerText=u,v.className=r.theme+"_ok",s.okDisabled&&(v.disabled=!0),v.onclick=function(){d.validate()&&r.close(d.serialize())};var p=document.createTextNode(" "),m=document.createElement("button");if(m.innerText=h,m.className=r.theme+"_cancel",m.onclick=function(){r.close()},m.onmousedown=function(){d.canceling=!0},f.appendChild(v),f.appendChild(p),f.appendChild(m),o.appendChild(l),o.appendChild(f),r.showHtml(o),r.div.setAttribute("tabindex","-1"),r.div.addEventListener("keydown",function(e){switch(e.keyCode){case 27:r.close();break;case 13:d.validate()&&r.close(d.serialize())}}),r.focus){var g=null;if("object"==typeof r.focus){var b=r.focus.id,y=r.focus.value;g=d.findViewById(b,y)}else"string"==typeof r.focus&&(g=d.findViewById(r.focus));g&&g.focus()}else{var w=d.firstFocusable();r.autoFocus&&w?w.focus():r.div.focus()}})},DayPilot.Modal.close=function(e){var t=DayPilot.Modal.opener();t&&t.close(e)},DayPilot.Modal.stretch=function(){var e=DayPilot.Modal.opener();if(!e)throw"Unable to find the opener DayPilot.Modal instance.";e.stretch()},DayPilot.Modal.closeSerialized=function(){var e=DayPilot.Modal.opener()||DayPilot.ModalStatic.last();e&&e.closeSerialized()},DayPilot.Modal.opener=function(){return"undefined"!=typeof DayPilot&&"undefined"!=typeof DayPilot.ModalStatic&&DayPilot.ModalStatic.list.length>0?DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length-1]:parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},"undefined"==typeof DayPilot.getPromise&&(DayPilot.getPromise=function(e){return"undefined"!=typeof Promise?new Promise(e):(DayPilot.Promise=function(e){var t=this;this.then=function(t,n){return t=t||function(){},n=n||function(){},e(t,n),DayPilot.getPromise(e)},this["catch"]=function(n){return t.then(null,n),DayPilot.getPromise(e)}},new DayPilot.Promise(e))}),t.prototype.create=function(){return this.load(),this.render(),this.c},t.prototype.render=function(){var e=this;this.c=document.createElement("div"),this.bj.forEach(function(t){e.createView(t)}),this.applyState()},t.prototype.createView=function(e){var t=this.theme,n=this,i=document.createElement("div");if(i.className=t+"_form_item "+t+"_form_item_level"+e.level,e.interactive||"title"!==e.type?i.className+=" "+t+"_form_item_"+e.type:i.className+=" "+t+"_form_title",e.data.cssClass&&(i.className+=" "+e.data.cssClass),!e.isValue){var a=document.createElement("div");a.className=t+"_form_item_label",a.innerText=e.text,i.appendChild(a)}var r=this.createInteractive(e);r.onInput=function(e){if(e=e||{},n.ej(r,{"debounce":!e.immediate}),"function"==typeof n.onChange){var t={};t.result=n.serialize(),n.onChange(t)}},r.onBlur=function(){n.canceling||n.ej(r)},r.apply(e),r.c=i,r.row=e,r.element&&i.appendChild(r.element),this.o.push(r),this.c.appendChild(i)},t.prototype.validate=function(){var e=this,t=!0;return this.o.forEach(function(n){var i=e.ej(n);t=t&&i}),t},t.prototype.ej=function(e,t){function n(){e.fj&&(e.fj.remove(),e.fj=null),e.c.classList.add(u);var t=document.createElement("div");t.classList.add(h),t.innerText=c.message,e.fj=t,e.c.appendChild(t)}t=t||{};var i=t.debounce,a=t.silent,r=e.row,o=!0,l="function"==typeof r.data.onValidate?r.data.onValidate:null,s="function"==typeof r.data.validate?r.data.validate:null,d=l||s;if(d){var c={};c.valid=!0,c.value=e.save()[r.field],c.message="Error",c.values=this.serialize(),c.result=this.serialize(),d(c);var u=this.theme+"_form_item_invalid",h=this.theme+"_form_item_invalid_message";if(c.valid)clearTimeout(this.dj[r.field]),e.fj&&(e.fj.remove(),e.fj=null),e.c.classList.remove(u);else if(!a)if(i){var f=1e3;clearTimeout(this.dj[r.field]),this.dj[r.field]=setTimeout(function(){n()},f)}else n();o=c.valid}return o},t.prototype.load=function(){var e=this;this.form.forEach(function(t){e.processFormItem(t,0)});var t;try{var n=JSON.stringify(this.data);t=a(JSON.parse(n))}catch(e){throw new Error("The 'data' object is not serializable (it may contain circular dependencies): "+e)}for(var i in t)this.setValue(i,t[i])},t.prototype.setValue=function(e,t){this.bj.forEach(function(n){n.applyValue(e,t)})},t.prototype.updateDependentState=function(){var e=this,t=[!0];(this.cj?this.cj:this.bj).forEach(function(n){var i=e.updateState(n,{enabled:t[n.level]&&!n.data.disabled});i.isValue&&(t[i.level+1]=i.enabled&&i.checked)})},t.prototype.processFormItem=function(e,t){var i=this,a=this.getFieldType(e),r=[];if("radio"===a){if(e.name){var o=new n;o.field=e.id,o.data=e,o.level=t,o.type="label",o.interactive=!1,o.text=e.name,i.bj.push(o),r.push(o)}e.options.forEach(function(o){var l=new n;l.field=e.id,l.data=o,l.level=t,l.type=a,l.isValue=!0,l.text=o.name,l.resolved=o.id,i.bj.push(l),r.push(l),o.children&&o.children.forEach(function(e){var n=i.processFormItem(e,t+1);r=r.concat(n)})})}else if("title"===a){var o=new n;o.field=e.id,o.data=e,o.level=t,o.type=a,o.interactive=!1,o.text=e.name,i.bj.push(o),r.push(o)}else if("image"===a){var o=new n;o.isValue=!0,o.field=e.id,o.data=e,o.level=t,o.type=a,o.interactive=!1,o.text=null,i.bj.push(o),r.push(o)}else if("html"===a){var o=new n;o.isValue=!0,o.field=e.id,o.data=e,o.level=t,o.type=a,o.interactive=!1,o.text=null,i.bj.push(o),r.push(o)}else if("scrollable"===a){var o=new n;o.isValue=!0,o.field=e.id,o.data=e,o.level=t,o.type=a,o.interactive=!1,o.text=null,i.bj.push(o),r.push(o)}else{var o=new n;o.field=e.id,o.data=e,o.level=t,o.type=a,o.text=e.name,o.children=[],i.bj.push(o),r.push(o),"checkbox"===a&&(o.isValue=!0,o.resolved=!0,e.children&&e.children.forEach(function(e){var n=i.processFormItem(e,t+1);r=r.concat(n)}))}return r},t.prototype.doOnKey=function(e){if("function"==typeof this.onKey){var t={key:e};this.onKey(t)}},t.prototype.createInteractive=function(e){var t=this,n={"label":function(){return new i},"title":function(){return new i},"image":function(){var t=new i,n=document.createElement("img");return n.src=e.data.image,t.element=n,t},"html":function(){var t=new i,n=document.createElement("div");return"string"==typeof e.data.text?n.innerText=e.data.text:"string"==typeof e.data.html&&(n.innerHTML=e.data.html),t.element=n,t},"scrollable":function(){var n=new i,a=document.createElement("div");a.className=t.theme+"_form_item_scrollable_scroll",e.data.height&&(a.style.height=e.data.height+"px");var r=document.createElement("div");return r.className=t.theme+"_form_item_scrollable_scroll_content","string"==typeof e.data.text?r.innerText=e.data.text:"string"==typeof e.data.html&&(r.innerHTML=e.data.html),a.appendChild(r),n.element=a,n},"text":function(){var n=new i;n.apply=function(e){n.row=e;var t=n.element;t.value=e.value,t.disabled=!e.enabled};var a=document.createElement("input");return a.name=e.field,a.type="text",a.autocomplete="off",a.onkeydown=function(e){var n=!1;switch(e.keyCode){case 13:t.doOnKey("Enter");break;case 27:t.doOnKey("Escape");break;default:n=!0}n||(e.preventDefault(),e.stopPropagation())},a.oninput=function(){n.onInput()},a.onblur=function(){n.onBlur()},n.element=a,n.canFocus=function(){return!n.element.disabled},n.focus=function(){n.element.focus(),n.element.setSelectionRange(0,n.element.value.length)},n.save=function(){var t={};return t[e.field]=a.value,t},n},"textarea":function(){var n=new i;n.apply=function(e){n.row=e;var t=n.element;t.value=e.value,t.disabled=!e.enabled};var a=document.createElement("textarea");return a.name=e.field,e.data.height&&(a.style.height=e.data.height+"px"),a.onkeydown=function(e){var n=!1;switch(e.keyCode){case 13:(e.ctrlKey||e.metaKey)&&t.doOnKey("Enter"),n=!1;break;case 27:t.doOnKey("Escape");break;default:n=!0}n||e.stopPropagation()},a.oninput=function(){n.onInput()},a.onblur=function(){n.onBlur()},n.element=a,n.canFocus=function(){return!n.element.disabled},n.focus=function(){n.element.focus(),n.element.setSelectionRange(0,0)},n.save=function(){var t={};return t[e.field]=a.value,t},n},"date":function(){var n=new i;n.apply=function(e){n.row=e;var i=n.element,a=n.picker;e.data.dateFormat&&(a.pattern=e.data.dateFormat);var r=e.data.locale||t.locale;r&&(a.locale=r),i.disabled=!e.enabled,a.date=new DayPilot.Date(e.value);var o=new DayPilot.Date(e.value).toString(e.data.dateFormat||a.pattern,a.locale);i.value=o};var a=document.createElement("input");a.name=e.field;var r=new DayPilot.DatePicker({target:a,theme:"navigator_modal",zIndex:t.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(){n.onInput({"immediate":!0})}});return a.picker=r,a.className=t.theme+"_input_date",a.type="text",a.onkeydown=function(e){var n=!1;switch(e.keyCode){case 13:r.visible?r.close():t.doOnKey("Enter");break;case 27:r.visible?r.close():t.doOnKey("Escape");break;case 9:r.close(),n=!0;break;default:n=!0}n||(e.preventDefault(),e.stopPropagation())},a.onfocus=function(){r.show()},a.onclick=function(){r.show()},a.oninput=function(){n.onInput()},a.onblur=function(){n.onBlur()},n.element=a,n.picker=r,n.canFocus=function(){return!n.element.disabled},n.focus=function(){n.element.focus()},n.save=function(){var t=r.date?r.date.toString():null,n={};return n[e.field]=t,n},n},"time":function(){return t.gj(e)},"datetime":function(){return t.hj(e)},"select":function(){var t=new i;t.apply=function(e){t.row=e;var n=t.element;n.value=e.value,n.disabled=!e.enabled};var n=document.createElement("select");return n.name=e.field,e.data.options&&e.data.options.forEach&&e.data.options.forEach(function(e){var t=document.createElement("option");t.innerText=e.name||e.id,t.value=e.id,t.ij=e.id,n.appendChild(t)}),n.onchange=function(){t.onInput({"immediate":!0})},n.onblur=function(){t.onBlur()},t.element=n,t.canFocus=function(){return!t.element.disabled},t.focus=function(){t.element.focus()},t.save=function(){var t=null,i=n.options[n.selectedIndex];i&&"undefined"!=typeof i.ij&&(t=i.ij);var a={};return a[e.field]=t,a},t},"searchable":function(){var n=new i;n.apply=function(e){n.row=e;var t=n.searchable;t.disabled=!e.enabled,t.select(e.value)};var a=new r({data:e.data.options||[],name:e.field,theme:t.theme+"_form_item_searchable",listZIndex:t.zIndex+1,onSelect:function(e){e.ui&&n.onInput({"immediate":!0})}}),o=a.create();return n.element=o,n.searchable=a,n.canFocus=function(){return!n.searchable.disabled},n.focus=function(){n.searchable.focus()},n.save=function(){var t=a.selected&&a.selected.id,n={};return n[e.field]=t,n},n},"radio":function(){var n=new i;n.apply=function(e){n.row=e;var t=n.radio;t.checked=e.checked,t.disabled=!e.enabled};var a=document.createElement("label"),r=document.createElement("input");r.type="radio",r.name=e.field,r.ij=e.resolved,r.onchange=function(){var e=n.row;t.findRowsByField(e.field).forEach(function(e){t.updateState(e,{checked:!1})}),t.updateState(e,{checked:!0}),t.applyState(),n.onInput({"immediate":!0})},r.onblur=function(){n.onBlur()},a.appendChild(r);var o=document.createTextNode(e.text);return a.append(o),n.element=a,n.radio=r,n.canFocus=function(){return!1},n.focus=function(){n.radio.focus()},n.save=function(){if(!r.checked)return{};var t=r.ij,n={};return n[e.field]=t,n},n},"checkbox":function(){var n=new i;n.apply=function(e){n.row=e;var t=n.checkbox;t.checked=e.checked,t.disabled=!e.enabled};var a=document.createElement("label"),r=document.createElement("input");r.type="checkbox",r.name=e.field,r.ij=e.resolved,r.onchange=function(){var e=n.row;t.updateState(e,{checked:this.checked}),t.applyState(),n.onInput({"immediate":!0})},r.onblur=function(){n.onBlur()},a.appendChild(r);var o=document.createTextNode(e.text);return a.append(o),n.element=a,n.checkbox=r,n.canFocus=function(){return!1},n.focus=function(){n.checkbox.focus()},n.save=function(){var t=r.checked,n={};return n[e.field]=t,n},n},"table":function(){var n=new i;n.apply=function(e){n.row=e;var t=n.table;t.disabled=!e.enabled,t.load(e.value||[])};var a=new o({name:e.field,form:t,theme:t.theme+"_form_item_tabular",item:e.data,onInput:function(){n.onInput()}}),r=a.create();return n.element=r,n.table=a,n.canFocus=function(){return!1},n.focus=function(){n.table.focus()},n.save=function(){var t=a.save(),n={};return n[e.field]=t,n},n}};return t.plugins&&t.plugins[e.type]?t.plugins[e.type](e):n[e.type]()},t.prototype.gj=function(e){var t=this,n=new i;n.apply=function(e){n.row=e;var t=n.searchable;t.disabled=!e.enabled,t.select(e.value)};var a=[],o=e.data.timeInterval||15;[1,5,10,15,20,30,60].includes(o)||(o=15);for(var l=60/o,s=e.data.locale||t.locale,d=DayPilot.Locale.find(s)||DayPilot.Locale.US,c=DayPilot.Date.today(),u=0;u<24*l;u++){var h=c.addMinutes(o*u),f={};f.name=h.toString(e.data.timeFormat||d.timePattern,d),f.id=h.toString("HH:mm"),a.push(f)}var v=new r({data:a,name:e.field,theme:t.theme+"_form_item_time",listZIndex:t.zIndex+1,strategy:"startsWith",onSelect:function(e){e.ui&&n.onInput({"immediate":!0})}}),p=v.create();return n.element=p,n.searchable=v,n.canFocus=function(){return!n.searchable.disabled},n.focus=function(){n.searchable.focus()},n.save=function(){var t=v.selected&&v.selected.id,n={};return n[e.field]=t,n},n},t.prototype.hj=function(e){var t=this,n=new i;n.apply=function(e){n.row=e;var i=n.searchable;i.disabled=!e.enabled;var a=new DayPilot.Date(e.value).toString("HH:mm");i.select(a);var r=n.dateInput,o=n.picker;e.data.dateFormat&&(o.pattern=e.data.dateFormat);var l=e.data.locale||t.locale;if(l){var s=DayPilot.Locale.find(l)||DayPilot.Locale.US;o.locale=l,o.pattern=s.datePattern}r.disabled=!e.enabled,o.date=new DayPilot.Date(e.value);var d=new DayPilot.Date(e.value).toString(e.data.dateFormat||o.pattern,o.locale);r.value=d};var a=function(){var i=document.createElement("input");i.name=e.field;var a=new DayPilot.DatePicker({target:i,theme:"navigator_modal",zIndex:t.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(){n.onInput({"immediate":!0})}});return i.picker=a,i.className=t.theme+"_input_date",i.type="text",i.onkeydown=function(e){var n=!1;switch(e.keyCode){case 13:a.visible?a.close():t.doOnKey("Enter");break;case 27:a.visible?a.close():t.doOnKey("Escape");break;case 9:a.close(),n=!0;break;default:n=!0}n||(e.preventDefault(),e.stopPropagation())},i.onfocus=function(){a.show()},i.onclick=function(){a.show()},i.oninput=function(){n.onInput()},i.onblur=function(){n.onBlur()},n.dateInput=i,n.picker=a,i}(),o=function(){var i=[],a=e.data.timeInterval||15;[1,5,10,15,20,30,60].includes(a)||(a=15);for(var o=60/a,l=e.data.locale||t.locale,s=DayPilot.Locale.find(l)||DayPilot.Locale.US,d=DayPilot.Date.today(),c=0;c<24*o;c++){var u=d.addMinutes(a*c),h={};h.name=u.toString(e.data.timeFormat||s.timePattern,s),h.id=u.toString("HH:mm"),i.push(h)}var f=new r({data:i,name:e.field,theme:t.theme+"_form_item_time",listZIndex:t.zIndex+1,strategy:"startsWith",onSelect:function(e){e.ui&&n.onInput({"immediate":!0})}});return n.searchable=f,f.create()}(),l=document.createElement("div");return l.className=t.theme+"_form_item_datetime_parent",l.appendChild(a),l.appendChild(o),n.element=l,n.canFocus=function(){return!n.searchable.disabled},n.focus=function(){n.dateInput.focus()},n.save=function(){var t=n.searchable.selected&&n.searchable.selected.id,i=n.picker.date?n.picker.date.toString():null,a=new DayPilot.Date(i).getDatePart(),r=DayPilot.Date.parse(a.toString("yyyy-dd-MM ")+t,"yyyy-dd-MM HH:mm"),o={};return o[e.field]=r,o},n},t.prototype.findRowsByField=function(e){return this.bj.filter(function(t){return t.field===e})},t.prototype.findViewById=function(e,t){return this.o.find(function(n){return n.row.field===e&&("radio"!==n.row.type||n.row.resolved===t)})},t.prototype.firstFocusable=function(){return this.o.find(function(e){return e.canFocus&&e.canFocus()})},t.prototype.updateState=function(e,t){var n=this.cj?this.cj:this.bj,i=n.indexOf(e);return this.cj=n.map(function(n){if(n!==e)return n;if(e.propsEqual(t))return e;var i=e.clone();for(var a in t)i[a]=t[a];return i}),this.cj[i]},t.prototype.updateInteractive=function(e){var t=this.cj.indexOf(e);this.o[t].apply(e)},t.prototype.applyState=function(){var e=this;if(this.updateDependentState(),this.cj){this.cj.filter(function(t,n){return e.bj[n]!==t}).forEach(function(t){e.updateInteractive(t)}),this.bj=this.cj,this.cj=null}},t.prototype.getFieldType=function(e){return["text","date","select","searchable","radio","checkbox","table","title","image","html","textarea","scrollable","time","datetime"].indexOf(e.type)!==-1?e.type:e.type&&this.plugins&&this.plugins[e.type]?e.type:e.image?"image":e.html||e.text?"html":e.id?e.options?"searchable":e.dateFormat?"date":e.columns?"table":"text":"title"},t.prototype.serialize=function(){var e={};return this.o.forEach(function(t){var n=t.save();for(var i in n)e[i]=n[i]}),e},n.prototype.clone=function(){var e=new n;for(var t in this)"id"!==t&&(e[t]=this[t]);return e},n.prototype.propsEqual=function(e){for(var t in e)if(this[t]!==e[t])return!1;return!0},n.prototype.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.prototype.applyValue=function(e,t){this.field===e&&(this.value=t,this.isValue&&t===this.resolved&&(this.checked=!0))},DayPilot.Modal.Experimental={},DayPilot.Modal.Experimental.Form=t,r.prototype.select=function(e){return this.kj=this.data.find(function(t){return t.id===e}),this.qj(!1),this},r.prototype.create=function(){function e(e){var n=s.strategy;"includes"!==s.strategy&&"startsWith"!==s.strategy&&(n="includes"),e=e||n||"includes",h.style.display="",h.style.top=v.offsetHeight+"px",h.style.left="0px",h.style.width=v.offsetWidth+"px",h.innerHTML="",h.addEventListener("mousedown",function(e){e.preventDefault()}),s.lj=null,s.A=[];var a=null;s.data.forEach(function(n){var r=n.name||n.id;if("includes"===e){if(r.toLowerCase().indexOf(v.value.toLowerCase())===-1)return}else if("startsWith"===e&&0!==r.toLowerCase().indexOf(v.value.toLowerCase()))return;var o=document.createElement("div");
o.className=s.theme+"_list_item",o.innerText=r,o.item=n,n===s.kj&&(s.lj=o),a||(a=o),o.addEventListener("mousedown",function(e){i(o),e.preventDefault()}),o.addEventListener("mousemove",function(){s.lj!==o&&(s.lj=o,t({dontScroll:!0}))}),h.appendChild(o),s.A.push(o)}),s.lj||(s.lj=a),t()}function t(e){e=e||{};var t=!e.dontScroll;document.querySelectorAll("."+s.theme+"_list_item_highlight").forEach(function(e){e.className=e.className.replace(s.theme+"_list_item_highlight","")}),s.lj&&(s.lj.className+=" "+s.theme+"_list_item_highlight",t&&!n(s.lj,h)&&s.lj.scrollIntoView())}function n(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.top>=i.top&&n.bottom<=i.bottom}function i(e){var t=e.item;s.kj=t,s.qj(!0),r(),o()}function a(){s.pj()}function r(){s.B()}function o(){s.mj=!0,v.setAttribute("readonly","readonly"),v.focus()}function l(){s.mj=!1,v.removeAttribute("readonly"),v.select(),e("all")}var s=this,d=this,c=document.createElement("div");c.className=this.theme+"_main",c.style.position="relative";var u=document.createElement("div");u.className=this.theme+"_icon",u.style.position="absolute",u.style.right="0",u.style.top="0",u.style.bottom="0",u.style.width="20px",u.addEventListener("mousedown",function(e){e.preventDefault(),s.mj?(s.focus(),l()):(a(),o())});var h=document.createElement("div");h.className=this.theme+"_list",h.style.display="none",h.style.position="absolute",h.style.zIndex=this.listZIndex;var f=document.createElement("input");f.type="hidden",f.name=this.name,f.searchable=d,this.oj=f;var v=document.createElement("input");return v.type="text",v.className=this.theme+"_input",v.disabled=this.jj,v.addEventListener("click",function(){l()}),v.addEventListener("focus",function(){e("all")}),v.addEventListener("input",function(){e()}),v.addEventListener("blur",function(){v.removeAttribute("readonly"),a()}),v.addEventListener("keydown",function(e){if(s.mj){if("Enter"===e.key)return;if("Esc"===e.key||"Escape"===e.key)return;l()}if("ArrowDown"===e.key){var n=d.A.indexOf(d.lj);n+1<d.A.length&&(d.lj=d.A[n+1]),t()}else if("ArrowUp"===e.key){var n=d.A.indexOf(d.lj);n-1>=0&&(d.lj=d.A[n-1]),t()}else"Enter"===e.key?s.lj?(e.stopPropagation(),i(s.lj)):(e.stopPropagation(),a(),o()):"Esc"!==e.key&&"Escape"!==e.key||(e.stopPropagation(),a(),o())}),this.nj=v,this.Oc=h,this.kj||(this.kj=this.data[0],this.kj&&(v.value=this.kj.name)),c.appendChild(v),c.appendChild(u),c.appendChild(f),c.appendChild(h),c},r.prototype.pj=function(){this.B(),this.kj?this.nj.value=this.kj.name:(this.nj.value="",this.qj(!0))},r.prototype.focus=function(){this.mj=!0,this.nj.setAttribute("readonly","readonly"),this.nj.focus(),this.pj()},r.prototype.B=function(){this.Oc.style.display="none"},r.prototype.qj=function(e){if(this.oj.value=this.selected?this.selected.id:null,this.kj?this.nj.value=this.kj.name:this.nj.value="","function"==typeof this.onSelect){var t={control:this,ui:e};this.onSelect(t)}},o.prototype.create=function(){var e=this,t=document.createElement("div");t.className=this.theme+"_main",t.style.position="relative";var n=document.createElement("input");n.type="hidden",n.name=e.name,n.table=this,t.appendChild(n);var i=document.createElement("div");i.className=this.theme+"_table";var a=this.sj();i.appendChild(a);var r=e.tj({});r.spacer=!0;var o=this.uj(r);o.classList.add(e.theme+"_spacer"),i.appendChild(o);var l=document.createElement("div");l.className=e.theme+"_tbody",i.appendChild(l),t.appendChild(i);var s=document.createElement("div");t.appendChild(s),this.nav.body=l,this.nav.table=i,this.nav.main=t,this.nav.after=s;var d=document.createElement("div"),c=document.createElement("span");return c.className=this.theme+"_plus",c.addEventListener("click",function(){if(!e.disabled){var t=e.item.onNewRow,n={};if("function"==typeof t){var i={};i.result=e.form.serialize(),i.value={},t(i),n=i.value}var a=e.tj(n);e.bj.push(a),e.V(),e.vj()}}),this.nav.plus=c,d.appendChild(c),t.appendChild(d),t},o.prototype.sj=function(){var e=this,t=document.createElement("div");return t.classList.add(this.theme+"_row"),t.classList.add(this.theme+"_header"),this.item.columns.forEach(function(n){var i=document.createElement("div");i.classList.add(e.theme+"_cell"),i.innerText=n.name,t.appendChild(i)}),t},o.prototype.wj=function(){var e=this.item.max||0;return!!(e&&this.bj.length>=e)},o.prototype.save=function(){var e=this,t=[];return e.bj.forEach(function(e){var n={};e.cells.forEach(function(e){n[e.id]=e.value}),t.push(n)}),t},o.prototype.load=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Array expected");this.data=e,this.xj(),this.V()},o.prototype.yj=function(){this.disabled?this.nav.main.classList.add(this.theme+"_disabled"):this.nav.main.classList.remove(this.theme+"_disabled"),this.wj()?this.nav.plus.classList.add(this.theme+"_plus_max"):this.nav.plus.classList.remove(this.theme+"_plus_max")},o.prototype.xj=function(){var e=this;this.bj=[],this.data.forEach(function(t){var n=e.tj(t);e.bj.push(n)})},o.prototype.zj=function(e){var t=this,n=t.bj.indexOf(e);t.bj.splice(n,1)},o.prototype.tj=function(e){var t=this,n={};return n.data=e,n.cells=[],t.item.columns.forEach(function(i){var a=i.id,r=e[a],o=t.Aj(i);if("undefined"==typeof r)if("text"===o)r="";else if("number"===o)r=0;else if("select"===o){var l=i.options;r=l&&l[0].id}var s={};s.id=a,s.value=r,s.type=o,s.data=i,n.cells.push(s)}),n},o.prototype.Aj=function(e){var t=e.type;return t||(t=e.options?"select":"text"),t},o.prototype.V=function(){var e=this;if(this.nav.body.innerHTML="",this.nav.after.innerHTML="",this.bj.forEach(function(t){var n=e.uj(t);e.nav.body.appendChild(n)}),0===this.bj.length){var t=e.Bj();e.nav.after.appendChild(t)}this.yj()},o.prototype.Bj=function(){var e=document.createElement("div");return e.className=this.theme+"_empty",e},o.prototype.uj=function(e){var t=this,n=document.createElement("div");n.className=t.theme+"_row",e.cells.forEach(function(i){var a=document.createElement("div");a.className=t.theme+"_cell";var r=t.Cj(i);if(e.spacer){var o=document.createElement("div");o.style.height="0px",o.style.overflow="hidden",o.appendChild(r),a.appendChild(o)}else a.appendChild(r);n.appendChild(a)});var i=document.createElement("div");i.classList.add(t.theme+"_cell"),i.classList.add(t.theme+"_rowaction");var a=document.createElement("span");return a.className=this.theme+"_delete",a.addEventListener("click",function(){t.disabled||(t.zj(e),t.V(),t.vj())}),e.spacer||i.appendChild(a),n.appendChild(i),n},o.prototype.vj=function(){var e=this;if("function"==typeof e.onInput){var t={};e.onInput(t)}},o.prototype.Cj=function(e){var t=this,n=e.type;if("text"===n||"number"===n){var i=document.createElement("input");return i.type=n,t.disabled&&(i.disabled=!0),e.value&&(i.value=e.value),i.addEventListener("keyup",function(){"number"===n?e.value=Number(this.value):e.value=this.value,t.vj()}),i}if("select"===n){var a=document.createElement("select");return t.disabled&&(a.disabled=!0),e.data.options.forEach(function(t){var n=document.createElement("option");n.innerText=t.name,n.value=t.id,n.ij=t.id,a.appendChild(n),e.value===t.id&&n.setAttribute("selected",!0)}),a.addEventListener("change",function(){var n=a.options[a.selectedIndex];n&&"undefined"!=typeof n.ij&&(e.value=n.ij),t.vj()}),a}throw new Error("Unsupported item type: "+n)},o.prototype.focus=function(){}}}(DayPilot),function(DayPilot){"use strict";var e=function(){};if("undefined"==typeof DayPilot.Month||!DayPilot.Month.def){var t={},n=DayPilot.Util.isReactComponent,i=DayPilot.Util.isVueComponent,a=DayPilot.Util.isVueVNode;DayPilot.Month=function(r,o){this.v="2025.4.6765",this.nav={};var l=this;this.id=r,this.isMonth=!0,this.api=2,this.za=!1,this.hideUntilInit=!0,this.startDate=new DayPilot.Date,this.width=null,"function"==typeof DayPilot.Bubble?this.bubble=new DayPilot.Bubble:this.bubble=null,this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventEndSpec="DateTime",this.eventTextWrappingEnabled=!1,this.headerHeight=30,this.heightSpec="Auto",this.weekStarts="Auto",this.eventBarVisible=!0,this.eventHeight=25,this.cellHeaderHeight=24,this.clientState={},this.afterRender=function(){},this.cssOnly=!0,this.eventsLoadMethod="GET",this.initEventEnabled=!1,this.lineSpace=1,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.loadingLabelHtml=null,this.locale="en-us",this.maxEvents="All",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.visible=!0,this.eventMoveToPosition=!1,this.eventStartTime=!1,this.eventEndTime=!1,this.eventStartEndWidth=45,this.showWeekend=!0,this.cellMode=!1,this.rtl=!1,this.shadowType="Fill",this.tapAndHoldTimeout=300,this.timeFormat="Auto",this.viewType="Month",this.weeks=1,this.xssProtection="Enabled",this.cellHeaderClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.onEventFilter=null,this.onBeforeEventRender=null,this.onBeforeCellRender=null,this.onBeforeHeaderRender=null,this.onBeforeEventDomAdd=null,this.onBeforeEventDomRemove=null,this.onBeforeEventExport=null,this.onBeforeCellExport=null,this.onBeforeHeaderExport=null,this.onCellHeaderClick=null,this.onCellHeaderClicked=null,this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.va={},this.va.events={},this.events={},this.ya=0,this.Ba={};var s=this.Ba;this.Ca={};var d=l.Ca;this.Ga="javasc",this.Ta=function(e){var t=JSON.parse(e);if(t.BubbleGuid){var n=t.BubbleGuid,i=this.bubbles[n];return delete this.bubbles[n],l.nb(),void("undefined"!=typeof t.Result.BubbleHTML&&i.updateView(t.Result.BubbleHTML,i))}if(t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if("undefined"!=typeof t.ClientState&&(l.clientState=t.ClientState),"None"===t.UpdateType)return l.ob(t.CallBackData,!0),t.Message&&l.message(t.Message),void l.nb();if(t.VsUpdate){var a=document.createElement("input");a.type="hidden",a.name=l.id+"_vsupdate",a.id=a.name,a.value=t.VsUpdate,l.Dj.innerHTML="",l.Dj.appendChild(a)}l.events.list=t.Events,"undefined"!=typeof t.TagFields&&(l.tagFields=t.TagFields),"undefined"!=typeof t.SortDirections&&(l.sortDirections=t.SortDirections),"Full"===t.UpdateType&&(l.cellProperties=t.CellProperties,l.headerProperties=t.HeaderProperties,l.startDate=t.StartDate,"undefined"!=typeof t.ShowWeekend&&(l.showWeekend=t.ShowWeekend),l.locale=t.Locale?t.Locale:l.locale,l.timeFormat=t.TimeFormat?t.TimeFormat:l.timeFormat,"undefined"!=typeof t.WeekStarts&&(l.weekStarts=t.WeekStarts),l.hashes=t.Hashes),l.multiselect.clear(!0),l.multiselect.initList=t.SelectedEvents,l.Ya(),l.Ej(),l.tb(),"Full"===t.UpdateType&&(l.Fj(),l.Gj()),l.Bb(),l.D(),l.Fb(),l.ob(t.CallBackData,!0),l.Jb(),t.Message&&l.message(t.Message),l.nb()},this.ob=function(e,t){var n=function(e,t){return function(){if(l.Kb()){if("function"==typeof l.onAfterRender){var n={};n.isCallBack=t,n.data=e,l.onAfterRender(n)}}else l.afterRender&&l.afterRender(e,t)}};window.setTimeout(n(e,t),0)},this.Kb=function(){return 2===l.api},this.La=function(e,t){return l.Ba.Ma()?DayPilot.Util.escapeTextHtml(e,t):DayPilot.Util.isNullOrUndefined(t)?DayPilot.Util.isNullOrUndefined(e)?"":e:t},this.ca=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.tb=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var e=this.events.list.length,t=0;t<e;t++)this.Kg(t);this.cellMode?this.Hj():this.Ij()}},this.Qa=function(e){var t=e?0:100;l.loadingTimeout&&window.clearTimeout(l.loadingTimeout),l.loadingTimeout=window.setTimeout(function(){l.loadingLabelVisible&&l.nav.loading&&(l.nav.loading.style.top=s.headerHeight()+5+"px",l.nav.loading.innerHTML=l.La(l.loadingLabelText,l.loadingLabelHtml),l.nav.loading.style.display="")},t)},this.nb=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),l.nav.loading&&(this.nav.loading.style.display="none")},this.Ij=function(){if(this.events.list){for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e];if("object"!=typeof t)throw new DayPilot.Exception("Event data item must be an object");if(!t.start)throw new DayPilot.Exception("Event data item must specify 'start' property");var n=null;if("function"==typeof l.onBeforeEventRender&&(n=l.va.events[e]),n){if(n.hidden)continue}else if(t.hidden)continue;var i=new DayPilot.Date(t.start),a=new DayPilot.Date(t.end);if(a=l.Jj(a),!(i.getTime()>a.getTime()))for(var r=0;r<this.rows.length;r++){var o=this.rows[r];if(o.belongsHere(i,a)){var s=new DayPilot.Event(t,l);if("function"==typeof l.onEventFilter&&l.events.fh){var d={};if(d.filter=l.events.fh,d.visible=!0,d.e=s,l.onEventFilter(d),!d.visible)break}o.events.push(s),"function"==typeof this.onBeforeEventRender&&(s.cache=this.va.events[e])}}}for(var c=0;c<this.rows.length;c++){var o=this.rows[c];o.events.sort(this.ih);for(var u=0;u<this.rows[c].events.length;u++){var h=o.events[u],f=o.getStartColumn(h),v=o.getWidth(h);o.putIntoLine(h,f,v,c)}}}},this.Hj=function(){this.cellEvents=[];for(var e=0;e<this.Kj();e++){this.cellEvents[e]=[];for(var t=0;t<this.rows.length;t++){var n={},i=this.firstDate.addDays(7*t+e);n.start=i,n.end=i.addDays(1),n.events=[],this.cellEvents[e][t]=n}}for(var a=0;a<this.events.list.length;a++){var r=this.events.list[a];if("object"!=typeof r)throw new DayPilot.Exception("Event data item must be an object");if(!r.start)throw new DayPilot.Exception("Event data item must specify 'start' property");var o=null;if("function"==typeof l.onBeforeEventRender&&(o=l.va.events[a]),o){if(o.hidden)continue}else if(r.hidden)continue;var s=new DayPilot.Date(r.start),d=new DayPilot.Date(r.start);if(d=l.Jj(d),!(s.getTime()>d.getTime()))for(var e=0;e<this.Kj();e++)for(var t=0;t<this.rows.length;t++){var n=this.cellEvents[e][t];if(s.getTime()>=n.start.getTime()&&s.getTime()<n.end.getTime()){var c=new DayPilot.Event(r,l);if("function"==typeof l.onEventFilter&&l.events.fh){var u={};if(u.filter=l.events.fh,u.visible=!0,u.e=c,l.onEventFilter(u),!u.visible)continue}n.events.push(c),"function"==typeof this.onBeforeEventRender&&(c.cache=this.va.events[a])}}}for(var e=0;e<this.Kj();e++)for(var t=0;t<this.rows.length;t++){var n=this.cellEvents[e][t];n.events.sort(this.ih)}},this.Ya=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e];l.Qe(t)}this.elements.events=[]},this.Qe=function(e){!function(){var t=e.domArgs;if(e.domArgs=null,"function"==typeof l.onDomRemoveEvent&&l.onDomRemoveEvent(t),t&&"function"==typeof l.onBeforeEventDomRemove&&l.onBeforeEventDomRemove(t),t&&"function"==typeof l.onBeforeEventDomAdd){var r=t&&t.Le;if(r){var o=l.W.reactDOM&&n(t.element),s=l.Y.Ne&&(i(t.element)||a(t.element));o?l.W.ka(r):s&&(l.Y.Oe=!0,l.Y.la(r),l.Y.Oe=!1)}}}(),e.event=null,e.click=null,e.parentNode&&e.parentNode.removeChild(e)},this.Fb=function(){this.va.events={},this.cellMode?this.Lj():this.Mj(),this.multiselect.redraw()},this.Lj=function(){if(this.elements.events=[],0!==this.cellEvents.length)for(var e=0;e<this.Kj();e++)for(var t=0;t<this.rows.length;t++)for(var n=this.cellEvents[e][t],i=0;i<n.events.length;i++){var a=n.events[i];a.part.colStart=e,a.part.colWidth=1,a.part.row=t,a.part.line=i,a.part.startsHere=!0,a.part.endsHere=!0,this.Ue(a)}},this.Mj=function(){this.elements.events=[];for(var e="number"==typeof l.maxEvents?l.maxEvents:1e3,t=0;t<this.rows.length;t++)for(var n=this.rows[t],i=0;i<n.lines.length;i++){var a=n.lines[i];if(!(i>=e))for(var r=0;r<a.length;r++)this.Ue(a[r])}},this.hh=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var n=e.start().ticks-t.start().ticks;return 0!==n?n:t.end().ticks-e.end().ticks},this.ih=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return l.hh(e,t);for(var n=0,i=0;0===n&&"undefined"!=typeof e.data.sort[i]&&"undefined"!=typeof t.data.sort[i];)n=e.data.sort[i]===t.data.sort[i]?0:"number"==typeof e.data.sort[i]&&"number"==typeof t.data.sort[i]?e.data.sort[i]-t.data.sort[i]:l.jh(e.data.sort[i],t.data.sort[i],l.sortDirections[i]),i++;return n},this.jh=function(e,t,n){var i="desc"!==n,a=i?-1:1,r=-a;if(null===e&&null===t)return 0;if(null===t)return r;if(null===e)return a;var o=[];return o[0]=e,o[1]=t,o.sort(),e===o[0]?a:r},this.Nj=function(e,n,i,a,r){r||(r=0);var o=function(){for(var t=0;t<a;t++){var i=e+7*n+t-r;if(!(i<0)){var o=i%7,s=Math.floor(i/7);if(!(s>l.rows.length-1)){if(l.cells[o][s].props.disabled)return!0}}}}(),s=a;this.shadow={},this.shadow.list=[],this.shadow.start={x:e,y:n},this.shadow.width=a,this.shadow.disabled=o,this.eventMoveToPosition&&(s=1,this.shadow.position=i);var d=7*n+e-r;d<0&&(s+=d,e=0,n=0);for(var c=r;c>=7;)n--,c-=7;if(c>e){c>e+(7-this.Kj())?(n--,e=e+7-c):(s=s-c+e,e=0)}else e-=c;n<0&&(n=0,e=0);var u=null;for(t.resizingEvent?u="w-resize":t.movingEvent&&(u="move"),this.nav.top.style.cursor=u;s>0&&n<this.rows.length;){var h=Math.min(this.Kj()-e,s),f=this.rows[n],v=this.Oj(n),p=f.getHeight();this.eventMoveToPosition&&(v=this.Pj(n,i),p=2);var m=document.createElement("div");m.style.position="absolute",m.style.left=this.Qj()*e+"%",m.style.width=this.Qj()*h+"%",m.style.top=v+"px",m.style.height=p+"px",m.style.cursor=u;var g=document.createElement("div");m.appendChild(g),m.className=this.ca("_shadow"),g.className=this.ca("_shadow_inner"),o&&DayPilot.Util.addClass(m,this.ca("_shadow_forbidden"));this.nav.events.appendChild(m),this.shadow.list.push(m),s-=h+7-this.Kj(),e=0,n++}},this.Rj=function(){this.shadow&&(DayPilot.de(this.shadow.list),this.shadow=null,this.nav.top.style.cursor="")},this.Pj=function(e,t){for(var n=0,i=0;i<e;i++)n+=this.rows[i].getHeight();return n+=this.cellHeaderHeight,n+=t*s.lineHeight()},this.Sj=function(e,t){return this.firstDate.addDays(7*t+e)},this.Kg=function(e){var t=this.va.events,n=this.events.list[e],i={};for(var a in n)i[a]=n[a];if("function"==typeof this.onBeforeEventRender){var r={};r.e=i,r.data=i,r.control=l,this.onBeforeEventRender(r)}t[e]=i},this.Ue=function(e){var t=this.cellMode,r=e.part.row,o=e.part.line,c=e.part.colStart,u=e.part.colWidth,h=e.cache||e.data,f=t?0:this.Qj()*c,v=t?100:this.Qj()*u,p=t?o*s.lineHeight():this.Pj(r,o),m=document.createElement("div");m.style.height=s.eventHeight()+"px",m.style.position="relative",m.style.overflow="hidden",m.className=this.ca("_event"),h.cssClass&&DayPilot.Util.addClass(m,h.cssClass),m.event=e,t?(m.style.marginRight="2px",m.style.marginBottom="2px"):(m.style.width=v+"%",m.style.position="absolute",m.style.left=f+"%",m.style.top=p+"px"),this.showToolTip&&h.toolTip&&!this.bubble&&(m.title=h.toolTip),l.eventTextWrappingEnabled||(m.style.whiteSpace="nowrap"),m.onclick=this.Tj,m.ondblclick=this.Uj,m.oncontextmenu=this.Vj,m.onmousedown=this.Xe,m.onmousemove=this.Ve,m.onmouseout=this.We,DayPilot.reNonPassive(m,"touchstart",d.onEventTouchStart),DayPilot.rePassive(m,"touchmove",d.onEventTouchMove),DayPilot.rePassive(m,"touchend",d.onEventTouchEnd),e.part.startsHere||DayPilot.Util.addClass(m,this.ca("_event_continueleft")),e.part.endsHere||DayPilot.Util.addClass(m,this.ca("_event_continueright"));var g=document.createElement("div");if(g.className=this.ca("_event_inner"),h.fontColor&&(g.style.color=h.fontColor),h.borderColor&&("darker"===h.borderColor&&h.backColor?g.style.borderColor=DayPilot.ColorUtil.darker(h.backColor,2):g.style.borderColor=h.borderColor),h.backColor&&(g.style.background=h.backColor),h.backImage&&(g.style.backgroundImage="url("+h.backImage+")",h.backRepeat&&(g.style.backgroundRepeat=h.backRepeat)),m.appendChild(g),e.client.barVisible()){var b=document.createElement("div");b.className=this.ca("_event_bar"),b.style.position="absolute";var y=document.createElement("div");y.className=this.ca("_event_bar_inner"),y.style.top="0%",y.style.height="100%",h.barColor&&(y.style.backgroundColor=h.barColor),b.appendChild(y),m.appendChild(b)}var w=this.Ba.locale(),x=l.eventStartEndWidth;if(this.eventStartTime||h.htmlStart){var k=5;l.eventBarVisible&&(k+=5);var C="Clock12Hours"===l.Ba.timeFormat()?e.start().toString("h tt",w):e.start().toString("H",w),_={"left":k,"top":2,"width":x,"bottom":2,"v":"Visible","html":h.htmlStart||C,"css":l.ca("_event_timeleft")},T=DayPilot.Areas.createArea(m,e,_);m.appendChild(T),g.style.paddingLeft=x+"px"}if(this.eventEndTime||h.htmlEnd){var C="Clock12Hours"===l.Ba.timeFormat()?e.end().toString("h tt",w):e.end().toString("H",w),_={"right":5,"top":2,"width":x,"bottom":2,"v":"Visible","html":h.htmlEnd||C,"css":l.ca("_event_timeright")},T=DayPilot.Areas.createArea(m,e,_);m.appendChild(T),g.style.paddingRight=x+"px"}if(h.areas)for(var D=h.areas,S=0;S<D.length;S++){var _=D[S];if(DayPilot.Areas.isVisible(_)){var T=DayPilot.Areas.createArea(m,e,_);m.appendChild(T)}}if(function(){var t={};if(t.e=e,t.control=l,t.element=null,m.domArgs=t,"function"==typeof l.onDomAddEvent&&l.onDomAddEvent(t),"function"==typeof l.onBeforeEventDomAdd&&l.onBeforeEventDomAdd(t),t.element){var r=g;if(r){t.Le=r;var o=n(t.element),s=i(t.element),d=a(t.element);if(o)l.W.Me(),l.W.V(t.element,r);else if(s){if(!l.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");l.Y.Oe=!0,l.Y.Z(t.element,r,t.props),l.Y.Oe=!1}else if(d){if(!l.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");l.Y.Oe=!0,l.Y.Pe(t.element,r),l.Y.Oe=!1}else r.appendChild(t.element)}}else g.innerHTML=e.client.innerHTML()}(),this.elements.events.push(m),t?this.cells[c][r].body.appendChild(m):this.nav.events.appendChild(m),l.multiselect.Dd(m.event)&&l.multiselect.add(m.event,!0),l.Kb()){if("function"==typeof l.onAfterEventRender){var E={};E.e=m.event,E.div=m,l.onAfterEventRender(E)}}else l.afterEventRender&&l.afterEventRender(m.event,m)},this.Tj=function(e){d.start||l.Zb(this,e)},this.Uj=function(e){e.stopPropagation(),l.cc(this,e)},this.Ve=function(e){var n=e.currentTarget,i=n.event;if("undefined"!=typeof t&&!t.movingEvent&&!t.resizingEvent){var a=DayPilot.mo3(n,e);if(a){!function(){if(!n.active){var e=[],t=i.cache||i.data;"Disabled"===l.eventDeleteHandling||t.deleteDisabled||e.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":l.ca("_event_delete"),"js":function(e){l.jc(e)}});var a=n.event.cache?n.event.cache.areas:n.event.data.areas;a&&a.length>0&&(e=e.concat(a)),DayPilot.Areas.showAreas(n,n.event,null,e)}}(),l.lh(n.event).forEach(function(e){DayPilot.Util.addClass(e,l.ca("_event_hover"))});var r=6;if(!l.cellMode&&a.x<=r&&i.client.resizeEnabled()?i.part.startsHere?(n.style.cursor="w-resize",n.dpBorder="left"):n.style.cursor="not-allowed":!l.cellMode&&n.clientWidth-a.x<=r&&i.client.resizeEnabled()?i.part.endsHere?(n.style.cursor="e-resize",n.dpBorder="right"):n.style.cursor="not-allowed":i.client.clickEnabled()?n.style.cursor="pointer":n.style.cursor="default","undefined"!=typeof DayPilot.Bubble&&l.bubble&&"Disabled"!==l.eventHoverHandling)if(t.movingEvent||t.resizingEvent)DayPilot.Bubble.hideActive();else{var o=n._g&&a.x===n._g.x&&a.y===n._g.y;o||(n._g=a,l.bubble.showEvent(n.event))}}}},this.We=function(e){var t=e.currentTarget;"undefined"!=typeof DayPilot.Bubble&&l.bubble&&l.bubble.hideOnMouseOut(),t.style.cursor="",l.lh(t.event).forEach(function(e){DayPilot.Util.removeClass(e,l.ca("_event_hover"))}),DayPilot.Areas.hideAreas(t,e)},this.Vj=function(e){var t=e.currentTarget;return l.dc(t.event),!1},this.Xe=function(e){if(!d.start){"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing());var n=e.currentTarget,i=n.event,a=i.part.row,r=i.part.colStart,o=i.part.line,s=i.part.colWidth,c=DayPilot.Util.mouseButton(e);if(e.cancelBubble=!0,e.stopPropagation(),c.left)if("undefined"!=typeof DayPilot.Bubble&&l.bubble&&DayPilot.Bubble.hideActive(),t.movingEvent=null,"w-resize"===n.style.cursor||"e-resize"===this.style.cursor){var u={};u.start={},u.start.x=r,u.start.y=a,u.event=n.event,u.width=DayPilot.DateUtil.daysSpan(u.event.start(),u.event.end())+1,u.direction=this.style.cursor,t.resizingEvent=u}else if("move"===n.style.cursor||i.client.moveEnabled()){l.Rj();var h=DayPilot.mo3(l.nav.events,e);if(!h)return;var f=l.Wj(h.x,h.y);if(!f)return;var v=DayPilot.DateUtil.daysDiff(i.start(),l.rows[a].start),p=7*f.y+f.x-(7*a+r);v&&(p+=v);var m={};m.start={},m.start.x=r,m.start.y=a,m.start.line=o,m.offset=l.eventMoveToPosition?0:p,m.colWidth=s,m.event=n.event,m.coords=h,t.movingEvent=m}}},this.temp={},this.temp.getPosition=function(){if(!l.coords)return null;var e=l.Wj(l.coords.x,l.coords.y);if(!e)return null;var t=new DayPilot.Date(l.Sj(e.x,e.y));return{start:t,end:t.addDays(1)}},d.active=!1,d.start=!1,d.timeouts=[],d.onEventTouchStart=function(e){if(!d.active&&!d.start){d.clearTimeouts(),d.start=!0,d.active=!1;var t=e.currentTarget;if(t.event.client.moveEnabled()){var n=l.tapAndHoldTimeout;d.timeouts.push(window.setTimeout(function(){d.active=!0,d.start=!1;var n=d.relativeCoords(e);d.startMoving(t,n),e.preventDefault()},n))}e.stopPropagation()}},d.onEventTouchMove=function(){d.clearTimeouts(),d.start=!1},d.onEventTouchEnd=function(e){d.clearTimeouts(),d.start&&l.$b(this,e),window.setTimeout(function(){d.start=!1,d.active=!1},500)},d.onMainTouchStart=function(e){if(!d.active&&!d.start){d.clearTimeouts(),d.start=!0,d.active=!1;var t=l.tapAndHoldTimeout;d.timeouts.push(window.setTimeout(function(){d.active=!0,d.start=!1,e.preventDefault();var t=d.relativeCoords(e);d.startRange(t)},t))}},d.onMainTouchMove=function(e){if(d.clearTimeouts(),d.start=!1,d.active){e.preventDefault();var t=d.relativeCoords(e);if(d.moving)return void d.updateMoving(t);d.range&&d.updateRange(t)}},d.onMainTouchEnd=function(e){if(d.clearTimeouts(),d.active){if(d.moving){var t=d.moving.event,n=l.shadow.start,i=l.shadow.position,a=d.moving.offset;l.Rj(),d.moving=null,l.zc(t,n.x,n.y,a,e,i)}if(d.range){var r=d.range,n=new DayPilot.Date(l.Sj(r.from.x,r.from.y)),o=n.addDays(r.width);d.range=null,l.Jc(n,o)}}window.setTimeout(function(){d.start=!1,d.active=!1},500)},d.clearTimeouts=function(){for(var e=0;e<d.timeouts.length;e++)clearTimeout(d.timeouts[e]);d.timeouts=[]},d.relativeCoords=function(e){var t=l.nav.events,n=e.touches?e.touches[0]:e,i=n.pageX,a=n.pageY,r=DayPilot.abs(t);return{x:i-r.x,y:a-r.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},d.startMoving=function(e,t){l.Rj();var n=e.event,i=l.Wj(t.x,t.y);if(i){var a=DayPilot.DateUtil.daysDiff(n.start(),l.rows[n.part.row].start),r=7*i.y+i.x-(7*n.part.row+n.part.colStart);a&&(r+=a);var o={};o.start={},o.start.x=n.part.colStart,o.start.y=n.part.row,o.start.line=n.part.line,o.offset=l.eventMoveToPosition?0:r,o.colWidth=n.part.colWidth,o.event=n,o.coords=t,d.moving=o,d.updateMoving(t)}},d.updateMoving=function(e){var t=l.Wj(e.x,e.y);if(t){var n=l.Xj(t);l.Rj();var i=d.moving.event,a=d.moving.offset,r=l.cellMode?1:DayPilot.DateUtil.daysSpan(i.start(),i.end())+1;r<1&&(r=1),l.Nj(t.x,t.y,n,r,a,i)}},d.startRange=function(e){var t=l.Wj(e.x,e.y);if(t){l.Rj();var n={};n.start={},n.start.x=t.x,n.start.y=t.y,n.x=t.x,n.y=t.y,n.width=1,d.range=n,d.updateRange(e)}},d.updateRange=function(e){var t=l.Wj(e.x,e.y);if(t){l.Rj();var n=d.range.start,i=7*n.y+n.x,a=7*t.y+t.x,r=Math.abs(a-i)+1;r<1&&(r=1);var o=i<a?n:t;d.range.width=r,d.range.from={x:o.x,y:o.y},l.Nj(o.x,o.y,0,r,0,null)}},this.isWeekend=function(e){return 0===e.dayOfWeek()||6===e.dayOfWeek()},this.Yj=function(){var e=this.startDate.lastDayOfMonth();if(this.showWeekend)return e;for(;this.isWeekend(e);)e=e.addDays(-1);return e},this.Ej=function(){if("string"==typeof this.startDate&&(this.startDate=new DayPilot.Date(this.startDate)),"Month"===this.viewType?this.startDate=this.startDate.firstDayOfMonth():this.startDate=this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek(s.weekStarts()),!this.showWeekend){for(var e=this.startDate.addMonths(-1).getMonth(),t=new DayPilot.Date(this.firstDate).addDays(6);this.isWeekend(t);)t=t.addDays(-1);t.getMonth()===e&&(this.firstDate=this.firstDate.addDays(7))}var n;if("Month"===this.viewType){var i=this.Yj(),a=DayPilot.DateUtil.daysDiff(this.firstDate,i)+1;n=Math.ceil(a/7)}else n=this.weeks;this.days=7*n,this.rows=[];for(var r=function(e){var t={};t.start=o.firstDate.addDays(7*e),t.end=t.start.addDays(o.Kj()),t.events=[],t.lines=[],t.index=e,t.minHeight=o.cellHeight,t.calendar=o,t.belongsHere=function(e,t){return t.getTime()===e.getTime()&&e.getTime()===this.start.getTime()||!(t.getTime()<=this.start.getTime()||e.getTime()>=this.end.getTime())},t.getPartStart=function(e){return DayPilot.DateUtil.max(this.start,e.start())},t.getPartEnd=function(e){return DayPilot.DateUtil.min(this.end,e.rawend())},t.getStartColumn=function(e){var t=this.getPartStart(e);return DayPilot.DateUtil.daysDiff(this.start,t)},t.getWidth=function(e){var t=this.getPartStart(e),n=this.getPartEnd(e);return DayPilot.DateUtil.daysSpan(t,n)+1},t.putIntoLine=function(e,n,i,a){for(var r=t,o=0;o<this.lines.length;o++){var l=this.lines[o];if(l.isFree(n,i))return l.addEvent(e,n,i,a,o),o}var s=[];return s.isFree=function(e,t){for(var n=!0,i=0;i<this.length;i++){var a=this[i];e+t-1<a.part.colStart||e>a.part.colStart+a.part.colWidth-1||(n=!1)}return n},s.addEvent=function(e,t,n,i,a){e.part.colStart=t,e.part.colWidth=n,e.part.row=i,e.part.line=a,e.part.startsHere=r.start.getTime()<=e.start().getTime(),e.part.endsHere=r.end.getTime()>=e.end().getTime(),this.push(e)},s.addEvent(e,n,i,a,this.lines.length),this.lines.push(s),this.lines.length-1},t.getHeight=function(){var e="number"==typeof l.maxEvents?l.maxEvents:1e3,t=Math.min(e,this.lines.length);return Math.max(t*s.lineHeight()+l.cellHeaderHeight+l.cellMarginBottom,this.calendar.cellHeight)},o.rows.push(t)},o=this,d=0;d<n;d++)r(d);this.Zj=this.firstDate.addDays(7*n)},this.Ch=function(){switch(this.heightSpec){case"Auto":for(var e=s.headerHeight(),t=0;t<this.rows.length;t++)e+=this.rows[t].getHeight();return e;case"Fixed":return this.height}},this.Bh=function(e,t){return 7*t.y+t.x-(7*e.y+e.x)+1},this.nh={},this.nh.scope=null,this.nh.notify=function(){l.nh.scope&&l.nh.scope["$apply"]()},this.debug=new DayPilot.Debug(this),this.ef=function(){var e=this.nav.top;this.nav.top.dp=this,e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.WebkitTapHighlightColor="rgba(0,0,0,0)",e.style.WebkitTouchCallout="none",e.style.position="relative",this.width&&(e.style.width=this.width),e.onselectstart=function(){return!1},e.className=this.ca("_main"),l.rtl&&(e.style.direction="rtl",DayPilot.Util.addClass(e,this.ca("_direction_rtl"))),this.hideUntilInit&&(e.style.visibility="hidden"),this.visible||(e.style.display="none"),e.onmousemove=this.kf,DayPilot.reNonPassive(e,"touchstart",d.onMainTouchStart),DayPilot.reNonPassive(e,"touchmove",d.onMainTouchMove),DayPilot.rePassive(e,"touchend",d.onMainTouchEnd),this.Dj=document.createElement("div"),this.Dj.style.display="none",this.nav.top.appendChild(this.Dj);var t=document.createElement("div");t.style.position="relative",t.style.height=s.headerHeight()+"px",t.oncontextmenu=function(){return!1},this.nav.top.appendChild(t),this.nav.header=t;var n=document.createElement("div");n.style.zoom="1";var i=document.createElement("div");i.style.position="relative",i.ondblclick=l.$j,n.appendChild(i),this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left="5px",this.nav.loading.className=l.ca("_loading"),this.nav.loading.innerHTML=l.La(this.loadingLabelText,this.loadingLabelHtml),this.nav.loading.style.display="none",this.nav.top.appendChild(n),this.nav.top.appendChild(this.nav.loading),this.nav.scrollable=n,this.nav.events=i},this.kf=function(e){e.insideMainD=!0,l.coords=DayPilot.mo3(l.nav.events,e);var n=l.coords;
if(n){var i=l.Wj(n.x,n.y);if(i){if(t.resizingEvent){l.Rj();var a=t.resizingEvent,r=void 0,o=void 0;if("w-resize"===a.direction){o=i;var s=a.event.rawend();s.getDatePart().getTime()===s.getTime()&&(s=s.addDays(-1));var d=l._j(s);r=l.Bh(i,d)}else o=l._j(a.event.start()),r=l.Bh(o,i);r<1&&(r=1),l.Nj(o.x,o.y,0,r)}else if(t.movingEvent){if(n.x===t.movingEvent.coords.x&&n.y===t.movingEvent.coords.y)return;var c=3,u=Math.abs(n.x-t.movingEvent.coords.x)+Math.abs(n.y-t.movingEvent.coords.y);if(u<=c)return;var h=l.Xj(i);l.Rj();var f=t.movingEvent.event,v=t.movingEvent.offset,r=l.cellMode?1:DayPilot.DateUtil.daysSpan(f.start(),f.rawend())+1;r<1&&(r=1),l.Nj(i.x,i.y,h,r,v,f)}else if(t.timeRangeSelecting){l.Rj();var o=t.timeRangeSelecting,p=7*o.y+o.x,m=7*i.y+i.x,r=Math.abs(m-p)+1;r<1&&(r=1);var g=p<m?o:i;t.timeRangeSelecting.from={x:g.x,y:g.y},t.timeRangeSelecting.width=r,t.timeRangeSelecting.moved=!0,l.Nj(g.x,g.y,0,r,0,null)}if(t.drag){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,!t.movingEvent){var b=DayPilot.Date.today(),y={"id":t.drag.id,"start":b,"end":b.addSeconds(t.drag.duration),"text":t.drag.text},w=t.drag.data;if(w){var x=["duration","element","remove","id","text"];for(var k in w)DayPilot.contains(x,k)||(y[k]=w[k])}var C=new DayPilot.Event(y,l);C.external=!0;var _=t.movingEvent={};_.event=C,_.coords=n,_.position=0,_.offset=0,_.external=!0,_.removeElement=t.drag.element}e.cancelBubble=!0}}}},this.Xj=function(e){for(var t=e.relativeY,n=l.rows[e.y],i=l.cellHeaderHeight,a=s.lineHeight(),r=n.lines.length,o=0;o<n.lines.length;o++){if(n.lines[o].isFree(e.x,1)){r=o;break}}var d=Math.floor((t-i+a/2)/a);return d=Math.min(r,d),d=Math.max(0,d)},this.message=function(e,t){if(null!==e&&l.za){var n,i={};"object"==typeof arguments[1]?(i=arguments[1],n=i.delay):n=t;var a="";a=i.rawHtml?e:DayPilot.Util.escapeHtml(e),n=n||this.messageHideAfter||2e3;var r,o=s.headerHeight();if(this.nav.message)r=l.nav.message;else{r=document.createElement("div"),r.style.position="absolute",r.style.right="0px",r.style.left="0px",r.style.top=o+"px",r.style.display="none",r.onmousemove=function(){r.messageTimeout&&!r.status&&clearTimeout(r.messageTimeout)},r.onmouseout=function(){"none"!==l.nav.message.style.display&&(r.messageTimeout=setTimeout(l.Xb,500))};var d=document.createElement("div");d.onclick=function(){l.nav.message.style.display="none"},d.className=this.ca("_message"),r.appendChild(d);var c=document.createElement("div");c.style.position="absolute",c.className=this.ca("_message_close"),c.onclick=function(){l.nav.message.style.display="none"},r.appendChild(c),this.nav.top.appendChild(r),this.nav.message=r}var u=function(){if(l.nav.message){var e=l.nav.message.firstChild;e.className=l.ca("_message"),i.cssClass&&DayPilot.Util.addClass(e,i.cssClass),e.innerHTML=a;var t=function(){r.messageTimeout=setTimeout(l.Xb,n)};DayPilot.fade(l.nav.message,.2,t)}};clearTimeout(r.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(l.nav.message,-.2,u):u()}},this.message.show=function(e){l.message(e)},this.message.hide=function(){l.Xb()},this.Xb=function(){var e=function(){l.nav.message.style.display="none"};DayPilot.fade(l.nav.message,-.2,e)},this.cb=function(){"Parent100Pct"===l.heightSpec&&l.Bb()},this.Bb=function(){var e=this.nav.scrollable;"Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(e.style.top=this.headerHeight+"px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.style.overflow="auto",e.style.position="absolute"):e.style.position="relative","Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.Ch()+"px";for(var t=0;t<this.cells.length;t++)for(var n=0;n<this.cells[t].length;n++)this.cells[t][n].style.top=this.Oj(n)+"px",this.cells[t][n].style.height=this.rows[n].getHeight()+"px";this.ak()},this.Wj=function(e,t){var n=l.Kj();e=Math.max(0,e);for(var i=Math.floor(this.nav.top.clientWidth/n),a=Math.min(Math.floor(e/i),n-1),r=null,o=0,s=0,d=0,c=0;c<this.rows.length;c++){if(s+=this.rows[c].getHeight(),t<s){o=t-d,r=c;break}d=s}null===r&&(r=this.rows.length-1);var u={};return u.x=a,u.y=r,u.relativeY=o,u},this._j=function(e){for(var t=DayPilot.DateUtil.daysDiff(this.firstDate,e),n={x:0,y:0};t>=7;)n.y++,t-=7;return n.x=t,n},this.ak=function(){var e=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=e+"px"};var c=null;this.Gj=function(){var e=this.nav.header,t=this.nav.events,n=l.Kj();this.cells=[];for(var i=function(i){var r=l.rtl?0===i:i===n-1;a.cells[i]=[];var o=a.headerProperties?a.headerProperties[i]:null,d=i+s.weekStarts();if(d>6&&(d-=7),o||(o={},o.html=s.locale().dayNames[d]),"function"==typeof l.onBeforeHeaderRender){var c={};c.header={},c.header.dayOfWeek=d;var u=["html","backColor","cssClass"];DayPilot.Util.copyProps(o,c.header,u),l.onBeforeHeaderRender(c),DayPilot.Util.copyProps(c.header,o,u)}var h=document.createElement("div");h.style.position="absolute",l.rtl?h.style.right=a.Qj()*i+"%":h.style.left=a.Qj()*i+"%",r?(h.style.right="0px",l.rtl&&(h.style.width=a.Qj()+"%")):h.style.width=a.Qj()+"%",h.style.top="0px",h.style.height=s.headerHeight()+"px",function(e){h.onclick=function(){l.fc(e)}}(d);var f=document.createElement("div");f.className=a.ca("_header_inner"),f.innerHTML=o.html,h.appendChild(f),h.className=a.ca("_header"),o&&(o.cssClass&&DayPilot.Util.addClass(h,o.cssClass),o.backColor&&(f.style.background=o.backColor)),e.appendChild(h);for(var v=0;v<a.rows.length;v++)a._e(i,v,t)},a=this,r=0;r<n;r++)i(r);if(!DayPilot.contains(this.nav.top.childNodes,c)&&DayPilot.Util.isNullOrUndefined(undefined)){var o=document.createElement("div");o.style.position="absolute",o.style.padding="2px",o.style.top="0px",o.style.left="0px",o.style.backgroundColor="#FF6600",o.style.color="white",o.innerHTML="\u0044\u0045"+"\u004D\u004F",c=o,this.nav.top.appendChild(o)}},this.Fj=function(){for(var e=0;e<this.cells.length;e++)for(var t=0;t<this.cells[e].length;t++){var n=l.cells[e][t];l.Jf(n)}this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.Jf=function(e){!function(){var t=e.domArgs;if(e.domArgs=null,t&&"function"==typeof l.onBeforeCellDomRemove&&l.onBeforeCellDomRemove(t),t&&"function"==typeof l.onBeforeCellDomAdd){var r=t&&t.Le;if(r){var o=l.W.reactDOM&&n(t.element),s=l.Y.Ne&&(i(t.element)||a(t.element));o?l.W.ka(r):s&&(l.Y.Oe=!0,l.Y.la(r),l.Y.Oe=!1)}}}(),e.onclick=null},this._e=function(t,r,o){var d=this.rows[r],c=this.firstDate.addDays(7*r+t),u=this.cellProperties?this.cellProperties[r*this.Kj()+t]:null,h=l.Kj(),f=t===h-1,v=null;if(u)v=u["headerHtml"];else{var p=c.getDay();v=1===p?s.locale().monthNames[c.getMonth()]+" "+p:p+""}u||(u={},u.business=!l.isWeekend(c),u.headerHtml=v,u.disabled=!1,u.backColor=null,u.backImage=null,u.backRepeat=null,u.areas=null,u.headerBackColor=null,u.cssClass=null,u.html=null);var m={};m.cell={},m.cell.start=c,m.cell.end=m.cell.start.addDays(1),m.cell.properties=u,m.cell.events=function(){return l.events.forRange(m.cell.start,m.cell.end)},"function"==typeof l.onBeforeCellRender&&(l.onBeforeCellRender(m),DayPilot.Util.copyProps(m.cell,u,["areas","backColor","backImage","backRepeat","business","disabled","headerHtml","headerBackColor","cssClass","html"]));var g=this.Qj()*t,b=this.Qj(),y=document.createElement("div");y.style.position="absolute",y.style.cursor="default",l.rtl?y.style.right=g+"%":y.style.left=g+"%",f?l.rtl?(y.style.left="100%",y.style.width=b+"%"):y.style.right="0px":y.style.width=b+"%",y.style.top=this.Oj(r)+"px",y.style.height=d.getHeight()+"px",y.d=c,y.x=t,y.y=r,y.props=u;var w=this.startDate.addMonths(-1).getMonth(),x=this.startDate.addMonths(1).getMonth(),k=this.startDate.getMonth(),C=document.createElement("div");y.appendChild(C),C.className=this.ca("_cell_inner"),C.className=this.ca("_cell_inner"),c.getMonth()===k?y.className=this.ca("_cell"):c.getMonth()===w?y.className=this.ca("_cell")+" "+this.ca("_previous"):c.getMonth()===x?y.className=this.ca("_cell")+" "+this.ca("_next"):e(),u&&(u["cssClass"]&&DayPilot.Util.addClass(y,u.cssClass),u["business"]&&DayPilot.Util.addClass(y,this.ca("_cell_business")),u["backColor"]&&(C.style.backgroundColor=u["backColor"]),u["backImage"]&&(C.style.backgroundImage="url('"+u["backImage"]+"')"),u["backRepeat"]&&(C.style.backgroundRepeat=u["backRepeat"])),y.onmousedown=this.Sc,y.onmousemove=this.ed,y.onmouseout=this.dd,y.oncontextmenu=this.bk,y.onclick=this.ck,y.ondblclick=this.$j;var _=document.createElement("div");if(_.style.height=this.cellHeaderHeight+"px",u&&u["headerBackColor"]&&(_.style.background=u["headerBackColor"]),_.className=this.ca("_cell_header"),_.innerHTML=u.headerHtml,_.onclick=function(e){if("Enabled"===l.cellHeaderClickHandling){e.stopPropagation();var t={};t.control=l,t.start=c,t.end=c.addDays(1),t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onCellHeaderClick&&(l.onCellHeaderClick(t),t.preventDefault.value)||"function"==typeof l.onCellHeaderClicked&&l.onCellHeaderClicked(t)}},C.appendChild(_),u&&u["html"]){var T=document.createElement("div");T.style.height=d.getHeight()-this.cellHeaderHeight+"px",T.style.overflow="hidden",T.innerHTML=u["html"],C.appendChild(T)}if(this.cellMode){var D=document.createElement("div");D.style.height=this.cellHeight-this.cellHeaderHeight+"px",D.style.overflow="auto",D.style.position="relative";var S=document.createElement("div");S.style.paddingTop="1px",S.style.paddingBottom="1px",D.appendChild(S),C.appendChild(D),y.body=S,y.scrolling=D}if(y.props)for(var E=y.props.areas||[],H=0;H<E.length;H++){var M=E[H];if(DayPilot.Areas.isVisible(M)){var A=DayPilot.Areas.createArea(y,m.cell,M);y.appendChild(A)}}!function(){if("function"==typeof l.onBeforeCellDomAdd||"function"==typeof l.onBeforeCellDomRemove){var e={};if(e.control=l,e.cell={},e.cell.start=c,e.cell.end=e.cell.start.addDays(1),e.cell.events=function(){return l.events.forRange(e.cell.start,e.cell.end)},e.element=null,y.domArgs=e,"function"==typeof l.onBeforeCellDomAdd&&l.onBeforeCellDomAdd(e),e.element){var t=C;if(t){e.Le=t;var r=n(e.element),o=i(e.element),s=a(e.element);if(r){if(!l.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");l.W.V(e.element,t)}else if(o){if(!l.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");l.Y.Oe=!0,l.Y.Z(e.element,t,e.props),l.Y.Oe=!1}else if(s){if(!l.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");l.Y.Oe=!0,l.Y.Pe(e.element,t),l.Y.Oe=!1}else t.appendChild(e.element)}}}}(),this.cells[t][r]=y,o.appendChild(y),"function"==typeof l.onAfterCellRender&&(m.cell.div=y,m.cell.divHeader=_,l.onAfterCellRender(m))},this.ed=function(e){var t=e.currentTarget;t.props&&DayPilot.Areas.showAreas(t,t.props)},this.dd=function(e){var t=e.currentTarget;t.props&&DayPilot.Areas.hideAreas(t,e)},this.bk=function(){var e=this.d;return function(e){var t=new DayPilot.Date(e),n=t.addDays(1),i=new DayPilot.Selection(t,n,null,l);l.contextMenuSelection&&l.contextMenuSelection.show(i)}(e),!1},this.$j=function(){var e=l.coords,t=l.Wj(e.x,e.y),n=l.Sj(t.x,t.y);if(l.timeouts){for(var i in l.timeouts)window.clearTimeout(l.timeouts[i]);l.timeouts=null}if("Disabled"!==l.timeRangeDoubleClickHandling){var a=new DayPilot.Date(n),r=a.addDays(1);l.Lc(a,r)}},this.ck=function(e){var t=e.currentTarget,n=t.d;if(!t.props.disabled){var i=function(e){var t=new DayPilot.Date(e),n=t.addDays(1);l.Jc(t,n)};if("Disabled"!==l.timeRangeSelectedHandling&&"Disabled"===l.timeRangeDoubleClickHandling)return void i(n);l.timeouts||(l.timeouts=[]);var a=function(e){return function(){"Disabled"!==l.timeRangeSelectedHandling&&i(e)}};l.timeouts.push(window.setTimeout(a(n),l.doubleClickTimeout))}},this.Sc=function(e){var n=e.currentTarget,i=n.x,a=n.y;if(n.scrolling){var r=DayPilot.mo3(n.scrolling,e),o=DayPilot.sw(n.scrolling),s=n.scrolling.offsetWidth;if(r.x>s-o)return}"Disabled"!==l.timeRangeSelectedHandling&&(l.Rj(),l.rtl&&(i=l.Kj()-1-i),t.timeRangeSelecting={"root":l,"x":i,"y":a,"from":{x:i,y:a},"width":1},l.Nj(i,a,0,1))},this.Kj=function(){return this.showWeekend?7:5},this.Qj=function(){return this.showWeekend?14.285:20},this.Oj=function(e){for(var t=0,n=0;n<e;n++)t+=this.rows[n].getHeight();return t},this.clearSelection=function(){this.Rj()},this.Na=function(e,t,n){var i={};i.action=e,i.parameters=n,i.data=t,i.header=this.Oa();var a="JSON"+JSON.stringify(i);__doPostBack(l.uniqueID,a)},this.Pa=function(e,t,n,i){if(!this.ja())return void l.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof i&&(i="CallBack"),l.Qa();var a={};a.action=e,a.type=i,a.parameters=t,a.data=n,a.header=this.Oa();var r="JSON"+JSON.stringify(a);this.backendUrl?DayPilot.request(this.backendUrl,this.Ra,r,this.Sa):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.Ta,null,this.callbackError,!0)},this.ja=function(){return"javasc"!==l.Ga&&l.Ga.indexOf("DCODE")===-1||l.devsb},this.Ua=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.Sa=function(e){if("function"==typeof l.onAjaxError){var t={};t.request=e,l.onAjaxError(t)}else"function"==typeof l.ajaxError&&l.ajaxError(e)},this.Ra=function(e){l.Ta(e.responseText)},this.Oa=function(){var e={};return e.v=this.v,e.control="dpm",e.id=this.id,e.visibleStart=new DayPilot.Date(this.firstDate),e.visibleEnd=e.visibleStart.addDays(this.days),e.clientState=this.clientState,e.cssClassPrefix=l.cssClassPrefix,e.startDate=l.startDate,e.showWeekend=this.showWeekend,e.locale=this.locale,e.timeFormat=this.timeFormat,e.weekStarts=this.weekStarts,e.viewType=this.viewType,e.weeks=this.weeks,e.selected=l.multiselect.events(),e.hashes=l.hashes,e},this.visibleStart=function(){return new DayPilot.Date(this.firstDate)},this.visibleEnd=function(){return l.visibleStart().addDays(l.days)},this.kc=function(e,t,n,i){if("PostBack"===e)l.postBack2(t,n,i);else if("CallBack"===e)l.Pa(t,n,i,"CallBack");else if("Immediate"===e)l.Pa(t,n,i,"Notify");else if("Queue"===e)l.queue.add(new DayPilot.Action(this,t,n,i));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===s.notifyType()?l.Pa(t,n,i,"Notify"):l.queue.add(new DayPilot.Action(l,t,n,i))}},this.Fc=function(e,t){var n=l.Gc(t),i={};i.args=e,i.guid=n,l.Pa("Bubble",i)},this.Gc=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventClickPostBack=function(e,t){this.Na("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.Pa("EventClick",e,t)},this.Zb=function(e,n){if(t.movingEvent=null,t.resizingEvent=null,n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===l.eventDoubleClickHandling)return void l.$b(e,n);if(l.timeouts){for(var i in l.timeouts)window.clearTimeout(l.timeouts[i]);l.timeouts=[]}else l.timeouts=[];var a=function(e,t){return function(){l.$b(e,t)}};l.timeouts.push(window.setTimeout(a(e,n),l.doubleClickTimeout))},this.$b=function(e,t){var n=e.event;if(n.client.clickEnabled()){var i=t.ctrlKey,a=t.metaKey;if(l.Kb()){var r={};if(r.e=n,r.control=l,r.div=e,r.originalEvent=t,r.meta=t.metaKey,r.ctrl=t.ctrlKey,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventClick&&(l.onEventClick(r),r.preventDefault.value))return;switch(l.eventClickHandling){case"PostBack":l.eventClickPostBack(n);break;case"CallBack":l.eventClickCallBack(n);break;case"Select":l.bc(e,n,i,a);break;case"ContextMenu":var o=n.client.contextMenu();o?o.show(n):l.contextMenu&&l.contextMenu.show(n);break;case"Bubble":l.bubble&&l.bubble.showEvent(n)}"function"==typeof l.onEventClicked&&l.onEventClicked(r)}else switch(l.eventClickHandling){case"PostBack":l.eventClickPostBack(n);break;case"CallBack":l.eventClickCallBack(n);break;case"JavaScript":l.onEventClick(n);break;case"Select":l.bc(e,n,i,a);break;case"ContextMenu":var o=n.client.contextMenu();o?o.show(n):l.contextMenu&&l.contextMenu.show(n);break;case"Bubble":l.bubble&&l.bubble.showEvent(n)}}},this.jc=function(e){if(l.Kb()){var t={};if(t.e=e,t.control=l,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventDelete&&(l.onEventDelete(t),t.preventDefault.value))return;switch(l.eventDeleteHandling){case"PostBack":l.eventDeletePostBack(e);break;case"CallBack":l.eventDeleteCallBack(e);break;case"Update":l.events.remove(e)}"function"==typeof l.onEventDeleted&&l.onEventDeleted(t)}else switch(l.eventDeleteHandling){case"PostBack":l.eventDeletePostBack(e);break;case"CallBack":l.eventDeleteCallBack(e);break;case"JavaScript":l.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.Na("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.Pa("EventDelete",e,t)},this.eventDoubleClickPostBack=function(e,t){this.Na("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.Pa("EventDoubleClick",e,t)},this.cc=function(e,t){if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),l.timeouts){for(var n in l.timeouts)window.clearTimeout(l.timeouts[n]);l.timeouts=null}var i=e.event;if(i.client.doubleClickEnabled())if(l.Kb()){var a={};if(a.e=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventDoubleClick&&(l.onEventDoubleClick(a),a.preventDefault.value))return;switch(l.eventDoubleClickHandling){case"PostBack":l.eventDoubleClickPostBack(i);break;case"CallBack":l.eventDoubleClickCallBack(i);break;case"Select":l.bc(e,i,t.ctrlKey,t.metaKey);break;case"Bubble":l.bubble&&l.bubble.showEvent(i)}"function"==typeof l.onEventDoubleClicked&&l.onEventDoubleClicked(a)}else switch(l.eventDoubleClickHandling){case"PostBack":l.eventDoubleClickPostBack(i);break;case"CallBack":l.eventDoubleClickCallBack(i);break;case"JavaScript":l.onEventDoubleClick(i);break;case"Select":l.bc(e,i,t.ctrlKey,t.metaKey);break;case"Bubble":l.bubble&&l.bubble.showEvent(i)}},this.bc=function(e,t,n,i){l.Nc(e,t,n,i)},this.eventSelectPostBack=function(e,t,n){var i={};i.e=e,i.change=t,this.Na("EventSelect",n,i)},this.eventSelectCallBack=function(e,t,n){var i={};i.e=e,i.change=t,this.Pa("EventSelect",i,n)},this.Nc=function(e,t,n,i){var a=l.multiselect,r=a.isSelected(t),o=r?"deselected":"selected";if(n||i||!r||1!==a.list.length)if(l.Kb()){a.previous=a.events();var s={};if(s.e=t,s.selected=a.isSelected(t),s.ctrl=n,s.meta=i,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventSelect&&(l.onEventSelect(s),s.preventDefault.value))return;switch(l.eventSelectHandling){case"PostBack":l.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Pc="",window.Qc=[],WebForm_InitCallback()),l.eventSelectCallBack(t,o);break;case"Update":a.Rc(e,n)}"function"==typeof l.onEventSelected&&(s.change=a.isSelected(t)?"selected":"deselected",s.selected=a.isSelected(t),l.onEventSelected(s))}else switch(a.previous=a.events(),a.Rc(e,n),l.eventSelectHandling){case"PostBack":l.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Pc="",window.Qc=[],WebForm_InitCallback()),l.eventSelectCallBack(t,o);break;case"JavaScript":l.onEventSelect(t,o)}},this.eventRightClickPostBack=function(e,t){this.Na("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.Pa("EventRightClick",e,t)},this.dc=function(e){if(!e.client.rightClickEnabled())return!1;if(l.Kb()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventRightClick&&(l.onEventRightClick(t),t.preventDefault.value))return;switch(l.eventRightClickHandling){case"PostBack":l.eventRightClickPostBack(e);break;case"CallBack":l.eventRightClickCallBack(e);break;case"ContextMenu":var n=e.client.contextMenu();n?n.show(e):l.contextMenu&&l.contextMenu.show(this.event);break;case"Bubble":l.bubble&&l.bubble.showEvent(e)}"function"==typeof l.onEventRightClicked&&l.onEventRightClicked(t)}else switch(l.eventRightClickHandling){case"PostBack":l.eventRightClickPostBack(e);break;case"CallBack":l.eventRightClickCallBack(e);break;case"JavaScript":l.onEventRightClick(e);break;case"ContextMenu":var n=e.client.contextMenu();n?n.show(e):l.contextMenu&&l.contextMenu.show(this.event);break;case"Bubble":l.bubble&&l.bubble.showEvent(e)}return!1},this.eventMenuClickPostBack=function(e,t,n){var i={};i.e=e,i.command=t,this.Na("EventMenuClick",n,i)},this.eventMenuClickCallBack=function(e,t,n){var i={};i.e=e,i.command=t,this.Pa("EventMenuClick",i,n)},this.Hc=function(e,t,n){switch(n){case"PostBack":l.eventMenuClickPostBack(t,e);break;case"CallBack":l.eventMenuClickCallBack(t,e)}},this.eventMovePostBack=function(e,t,n,i,a){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var r={};r.e=e,r.newStart=t,r.newEnd=n,r.position=a,this.Na("EventMove",i,r)},this.eventMoveCallBack=function(e,t,n,i,a){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var r={};r.e=e,r.newStart=t,r.newEnd=n,r.position=a,this.Pa("EventMove",r,i)},this.zc=function(e,t,n,i,a,r,o){var s=e.start().getTimePart(),d=e.rawend().getDatePart();d.getTime()!==e.rawend().getTime()&&(d=d.addDays(1));var c=DayPilot.DateUtil.diff(e.rawend(),d),u=this.Sj(t,n);u=u.addDays(-i);var h=DayPilot.DateUtil.daysSpan(e.start(),e.rawend())+1,f=u.addDays(h),v=u.addTime(s),p=f.addTime(c);if(p=l.dk(p),l.Kb()){var m={};if(m.e=e,m.control=l,m.newStart=v,m.newEnd=p,m.position=r,m.external=o,m.ctrl=!1,m.shift=!1,m.meta=!1,a&&(m.shift=a.shiftKey,m.ctrl=a.ctrlKey,m.meta=a.metaKey),m.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventMove&&(l.onEventMove(m),m.preventDefault.value))return;switch(l.eventMoveHandling){case"PostBack":l.eventMovePostBack(e,v,p,null,r);break;case"CallBack":l.eventMoveCallBack(e,v,p,null,r);break;case"Notify":l.eventMoveNotify(e,v,p,null,r);break;case"Update":m.external?(e.start(v),e.end(p),e.commit(),l.events.add(e)):(e.start(v),e.end(p),l.events.update(e)),l.Dc()}"function"==typeof l.onEventMoved&&l.onEventMoved(m)}else switch(l.eventMoveHandling){case"PostBack":l.eventMovePostBack(e,v,p,null,r);break;case"CallBack":l.eventMoveCallBack(e,v,p,null,r);break;case"JavaScript":l.onEventMove(e,v,p,a.ctrlKey,a.shiftKey,r);break;case"Notify":l.eventMoveNotify(e,v,p,null,r)}},this.eventMoveNotify=function(e,t,n,i,a){var r=new DayPilot.Event(e.copy(),this);e.start(t),e.end(n),e.commit(),l.update(),this.Ec("Notify",r,t,n,i,a)},this.Ec=function(e,t,n,i,a,r){var o={};o.e=t,o.newStart=n,o.newEnd=i,o.position=r,this.kc(e,"EventMove",o,a)},this.eventResizePostBack=function(e,t,n,i){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=n,this.Na("EventResize",i,a)},this.eventResizeCallBack=function(e,t,n,i){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=n,this.Pa("EventResize",a,i)},this.qc=function(e,t,n){var i=e.start().getTimePart(),a=e.rawend().getDatePart();a.getTime()!==e.rawend().getTime()&&(a=a.addDays(1));var r=DayPilot.DateUtil.diff(e.rawend(),a),o=this.Sj(t.x,t.y),s=o.addDays(n),d=o.addTime(i),c=s.addTime(r);if(c=l.dk(c),l.Kb()){var u={};if(u.e=e,u.control=l,u.newStart=d,u.newEnd=c,u.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventResize&&(l.onEventResize(u),u.preventDefault.value))return;switch(l.eventResizeHandling){case"PostBack":l.eventResizePostBack(e,d,c);break;case"CallBack":l.eventResizeCallBack(e,d,c);break;case"Notify":l.eventResizeNotify(e,d,c);break;case"Update":e.start(d),e.end(c),l.events.update(e)}"function"==typeof l.onEventResized&&l.onEventResized(u)}else switch(l.eventResizeHandling){case"PostBack":l.eventResizePostBack(e,d,c);break;case"CallBack":l.eventResizeCallBack(e,d,c);break;case"JavaScript":l.onEventResize(e,d,c);break;case"Notify":l.eventResizeNotify(e,d,c)}},this.eventResizeNotify=function(e,t,n,i){var a=new DayPilot.Event(e.copy(),this);e.start(t),e.end(n),e.commit(),l.update(),this.tc("Notify",a,t,n,i)},this.tc=function(e,t,n,i,a){var r={};r.e=t,r.newStart=n,r.newEnd=i,this.kc(e,"EventResize",r,a)},this.timeRangeSelectedPostBack=function(e,t,n){var i={};i.start=e,i.end=t,this.Na("TimeRangeSelected",n,i)},this.timeRangeSelectedCallBack=function(e,t,n){var i={};i.start=e,i.end=t,this.Pa("TimeRangeSelected",i,n)},this.Jc=function(e,t){if(t=l.dk(t),l.Kb()){var n={};if(n.start=e,n.end=t,n.control=l,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onTimeRangeSelect&&(l.onTimeRangeSelect(n),n.preventDefault.value))return;switch(l.timeRangeSelectedHandling){case"PostBack":l.timeRangeSelectedPostBack(e,t),l.clearSelection();break;case"CallBack":l.timeRangeSelectedCallBack(e,t),l.clearSelection()}"function"==typeof l.onTimeRangeSelected&&l.onTimeRangeSelected(n)}else switch(l.timeRangeSelectedHandling){case"PostBack":l.timeRangeSelectedPostBack(e,t),l.clearSelection();break;case"CallBack":l.timeRangeSelectedCallBack(e,t),l.clearSelection();break;case"JavaScript":l.onTimeRangeSelected(e,t)}},this.timeRangeMenuClickPostBack=function(e,t,n){var i={};i.selection=e,i.command=t,this.Na("TimeRangeMenuClick",n,i)},this.timeRangeMenuClickCallBack=function(e,t,n){var i={};i.selection=e,i.command=t,this.Pa("TimeRangeMenuClick",i,n)},this.Ic=function(e,t,n){switch(n){case"PostBack":l.timeRangeMenuClickPostBack(t,e);break;case"CallBack":l.timeRangeMenuClickCallBack(t,e)}},this.headerClickPostBack=function(e,t){this.Na("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.Pa("HeaderClick",e,t)},this.fc=function(e){var t={day:e};if(l.Kb()){var n={};if(n.header={},n.header.dayOfWeek=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onHeaderClick&&(l.onHeaderClick(n),n.preventDefault.value))return;switch(l.headerClickHandling){case"PostBack":l.headerClickPostBack(t);break;case"CallBack":l.headerClickCallBack(t)}"function"==typeof l.onHeaderClicked&&l.onHeaderClicked(n)}else switch(l.headerClickHandling){case"PostBack":l.headerClickPostBack(t);break;case"CallBack":l.headerClickCallBack(t);break;case"JavaScript":l.onHeaderClick(t)}},this.timeRangeDoubleClickPostBack=function(e,t,n){var i={};i.start=e,i.end=t,this.Na("TimeRangeDoubleClick",n,i)},this.timeRangeDoubleClickCallBack=function(e,t,n){var i={};i.start=e,i.end=t,this.Pa("TimeRangeDoubleClick",i,n)},this.Lc=function(e,t){if(l.Kb()){var n={};if(n.start=e,n.end=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onTimeRangeDoubleClick&&(l.onTimeRangeDoubleClick(n),n.preventDefault.value))return;switch(l.timeRangeDoubleClickHandling){case"PostBack":l.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":l.timeRangeDoubleClickCallBack(e,t)}"function"==typeof l.onTimeRangeDoubleClicked&&l.onTimeRangeDoubleClicked(n)}else switch(l.timeRangeDoubleClickHandling){case"PostBack":l.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":l.timeRangeDoubleClickCallBack(e,t);break;case"JavaScript":l.onTimeRangeDoubleClick(e,t)}},this.commandCallBack=function(e,t){this.ek();var n={};n.command=e,this.Pa("Command",n,t)},this.commandPostBack=function(e,t){this.ek();var n={};n.command=e,this.Na("Command",n,t)},this.kh=function(e){for(var t=0;t<l.elements.events.length;t++){var n=l.elements.events[t];if(n.event===e||n.event.data===e.data)return n}return null},this.lh=function(e){var t={};t.list=[],t.forEach=function(e){if(e)for(var t=0;t<this.list.length;t++)e(this.list[t])};for(var n=0;n<this.elements.events.length;n++){var i=this.elements.events[n];i.event.data===e.data&&t.list.push(i)}return t},this.xh=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.ca(e),document.body.appendChild(t);var n=t.offsetHeight,i=t.offsetWidth;document.body.removeChild(t);var a={};return a.height=n,a.width=i,a},s.Ma=function(){return"Disabled"!==l.xssProtection},s.clearCache=function(){delete l.va.eventHeight,delete l.va.headerHeight},s.lineHeight=function(){return s.eventHeight()+l.lineSpace},s.rounded=function(){return"Rounded"===l.eventCorners},s.loadFromServer=function(){return!!l.backendUrl},s.locale=function(){return DayPilot.Locale.find(l.locale)},s.getWeekStart=function(){return l.showWeekend?l.weekStarts:1},s.weekStarts=function(){if(!l.showWeekend)return 1;if("Auto"===l.weekStarts){var e=s.locale();return e?e.weekStarts:0}return l.weekStarts},s.notifyType=function(){var e;if("Immediate"===l.notifyCommit)e="Notify";else{if("Queue"!==l.notifyCommit)throw"Invalid notifyCommit value: "+l.notifyCommit;e="Queue"}return e},s.eventHeight=function(){if(l.va.eventHeight)return l.va.eventHeight;var e=l.xh("_event_height").height;return e||(e=l.eventHeight),l.va.eventHeight=e,e},s.headerHeight=function(){if(l.va.headerHeight)return l.va.headerHeight;var e=l.xh("_header_height").height;return e||(e=l.headerHeight),l.va.headerHeight=e,e},s.timeFormat=function(){return"Auto"!==l.timeFormat?l.timeFormat:s.locale().timeFormat},this.vg=function(){var e=l.nav.top;return!!e&&(e.offsetWidth>0&&e.offsetHeight>0)},this.yh={};var u=this.yh;this.exportAs=function(e,t){if(!l.vg())throw new DayPilot.Exception("DayPilot.Month.exportAs(): The instance must be visible during export.");var n=u.generate(e,t);return new DayPilot.Export(n)},u.A=null,u.Ah=null,u.generate=function(e,t){"object"==typeof e&&(t=e,e=null),t=t||{},e=e||t.format||"svg";var n=t.scale||1;if("config"!==e){"jpg"===e.toLowerCase()&&(e="jpeg");var i=t.area||"viewport";u.A=t,u.Ah=i;var a,r=u.getWidth(),o=u.getHeight();switch(e.toLowerCase()){case"svg":a=new DayPilot.Svg(r,o);break;case"png":a=new DayPilot.Canvas(r,o,"image/png",n);break;case"jpeg":a=new DayPilot.Canvas(r,o,"image/jpeg",n,t.quality);break;default:throw"Export format not supported: "+e}var d=u.getRectangles(),c=new DayPilot.StyleReader(l.nav.top).get("background-color"),h=new DayPilot.StyleReader(l.nav.top).get("border-top-color"),f=l.nav.header.firstChild.firstChild,v=new DayPilot.StyleReader(f).get("background-color"),p=new DayPilot.StyleReader(f).getFont(),m=new DayPilot.StyleReader(f).get("color"),g=l.cells[0][0].firstChild,b=new DayPilot.StyleReader(g).get("border-right-color"),y=d.grid.w*l.Qj()/100,w=0;a.fillRect(d.main,"white"),a.fillRect(d.main,c),DayPilot.list.for(l.Kj()).forEach(function(e){var t=l.headerProperties?l.headerProperties[e]:null,n=e+s.weekStarts();n>6&&(n-=7),t||(t={},t.html=s.locale().dayNames[n]);var i=0,r=y,o=s.headerHeight(),d=t.html,c={"x":w,"y":i,"w":r+1,"h":o+1},u=DayPilot.Util.copyProps(c),f={};f.header={},f.header.dayOfWeek=n,f.backColor=v,f.text=d,f.horizontalAlignment="center",f.verticalAlignment="center",f.fontSize=p.size,f.fontFamily=p.family,f.fontStyle=p.style,f.fontColor=m,"function"==typeof l.onBeforeHeaderExport&&l.onBeforeHeaderExport(f);var g={"size":f.fontSize,"family":f.fontFamily,"style":f.fontStyle};a.fillRect(c,f.backColor),a.rect(c,h),a.text(u,f.text,g,f.fontColor,f.horizontalAlignment,0,f.verticalAlignment),w+=r});var x=d.grid.y;u.fk().forEach(function(e){var t=e.getHeight(),n=0,i=l.rows.indexOf(e);DayPilot.list.for(l.Kj()).forEach(function(e){var r=l.cells[e][i],o=r.props,s=y,d=new DayPilot.StyleReader(l.cells[e][i].firstChild).get("background-color"),c=l.cells[e][i].firstChild.firstChild,u=new DayPilot.StyleReader(c).getFont(),h=new DayPilot.StyleReader(c).get("color"),f=new DayPilot.StyleReader(c).get("background-color"),v=l.firstDate.addDays(7*i+e),p={};p.cell={},p.cell.start=v,p.cell.end=v.addDays(1),p.backColor=d,p.text=o.headerHtml,p.horizontalAlignment="right","function"==typeof l.onBeforeCellExport&&l.onBeforeCellExport(p);var m={"x":n,"y":x,"w":s+1,"h":t+1};a.fillRect(m,p.backColor),a.rect(m,b);var g={"x":n,"y":x,"w":s-2,"h":l.cellHeaderHeight};a.fillRect(m,f),a.text(g,p.text,u,h,p.horizontalAlignment),n+=s}),x+=t});var k=0;return u.fk().forEach(function(e){var t=e.getHeight();DayPilot.list(e.lines).forEach(function(e){DayPilot.list(e).forEach(function(e){var t=e.cache||e.data,n=u.Gh();n.className+=" "+t.cssClass;var i=n.firstChild,r=n.querySelector("."+l.ca("_event_bar")),o=new DayPilot.StyleReader(i).get("border-right-color"),c=new DayPilot.StyleReader(i).getFont(),h=new DayPilot.StyleReader(i).get("color"),f=new DayPilot.StyleReader(i).getBackColor(),v=new DayPilot.StyleReader(r.firstChild).getBackColor(),p=new DayPilot.StyleReader(r.firstChild).getPx("width"),m={};
m.left=new DayPilot.StyleReader(i).getPx("padding-left"),m.right=new DayPilot.StyleReader(i).getPx("padding-right"),m.top=new DayPilot.StyleReader(i).getPx("padding-top"),m.bottom=new DayPilot.StyleReader(i).getPx("padding-bottom"),DayPilot.de(n);var g=t.backColor||f,b={};b.e=e,b.text=e.text?e.text():e.client.html(),b.fontSize=c.size,b.fontFamily=c.family,b.fontStyle=c.style,b.fontColor=t.fontColor||h,b.backColor=t.backColor||g,b.borderColor=t.borderColor||o,b.horizontalAlignment="left",b.barWidth=p,b.barColor=t.barColor||v,"function"==typeof l.onBeforeEventExport&&l.onBeforeEventExport(b);var w=y*e.part.colStart,x=y*e.part.colWidth,C=k+l.cellHeaderHeight+e.part.line*s.lineHeight()+d.grid.y+2,_=s.eventHeight(),T=2,D={"x":w+T,"y":C,"w":x+1-4,"h":_},S=DayPilot.Util.copyProps(D),E=DayPilot.Util.copyProps(S);if(E.x+=m.left,E.w-=m.left+m.right,E.y+=m.top,E.h-=m.top+m.bottom,a.fillRect(D,b.backColor),e.client.barVisible()){var H={"x":D.x,"y":D.y,"w":b.barWidth,"h":D.h};a.fillRect(H,b.barColor)}a.text(E,b.text,{"size":b.fontSize,"family":b.fontFamily,"style":b.fontStyle},b.fontColor,b.horizontalAlignment),a.rect(D,b.borderColor)})}),k+=t}),a.rect(d.main,h),a.line(d.grid.x,0,d.grid.x,d.main.h,h),a.line(0,d.grid.y,d.main.w,d.grid.y,h),a}},u.Gh=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.display="none",e.className=l.ca("_event");var t=document.createElement("div");t.className=l.ca("_event_inner"),e.appendChild(t);var n=document.createElement("div");n.className=l.ca("_event_bar");var i=document.createElement("div");return i.className=l.ca("_event_bar_inner"),n.appendChild(i),e.appendChild(n),l.nav.events.appendChild(e),e},u.Eh=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.display="none",e.className=l.ca("_cell");var t=document.createElement("div");return t.className=l.ca("_cell_inner"),e.appendChild(t),l.nav.events.appendChild(e),e},u.getWidth=function(){var e=u.Ah,t=Math.floor(l.nav.top.clientWidth/l.Kj())*l.Kj();switch(e){case"viewport":case"full":case"range":return"number"==typeof u.A.width?u.A.width:t;default:throw"Unsupported export mode: "+e}},u.getHeight=function(){var e=u.Ah;switch(e){case"viewport":case"full":return l.nav.top.clientHeight;case"range":var t=s.headerHeight();return u.fk().forEach(function(e){t+=e.getHeight()}),t;default:throw"Unsupported export mode: "+e}},u.fk=function(){var e=new DayPilot.Date(u.A.dateFrom||l.visibleStart()),t=new DayPilot.Date(u.A.dateTo||l.visibleEnd());return l.rows.filter(function(n){return"range"!==u.Ah||DayPilot.Util.overlaps(n.start,n.end,e,t)})},u.getRectangles=function(){var e=s.headerHeight(),t={};return t.main={"x":0,"y":0,"w":u.getWidth(),"h":u.getHeight()},t.grid={"x":0,"y":e,"w":u.getWidth(),"h":u.getHeight()-e},t},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.Bd=function(){var e=l.multiselect;return JSON.stringify(e.events())},this.multiselect.events=function(){var e=l.multiselect,t=[];t.ignoreToJSON=!0;for(var n=0;n<e.list.length;n++)t.push(e.list[n]);return t},this.multiselect.Cd=function(){},this.multiselect.Rc=function(e,t){var n=l.multiselect;if(n.isSelected(e.event))if(l.allowMultiSelect)if(t)n.remove(e.event,!0);else{var i=n.list.length;n.clear(!0),i>1&&n.add(e.event,!0)}else n.clear(!0);else l.allowMultiSelect&&t?n.add(e.event,!0):(n.clear(!0),n.add(e.event,!0));n.redraw(),n.Cd()},this.multiselect.Dd=function(e){var t=l.multiselect;return t.Ed(e,t.initList)},this.multiselect.Fd=function(){for(var e=l.multiselect,t=[],n=0;n<e.list.length;n++){var i=e.list[n];t.push(i.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var n=l.multiselect;n.Gd(e)===-1&&n.list.push(e),t||n.redraw()},this.multiselect.remove=function(e,t){var n=l.multiselect,i=n.Gd(e);i!==-1&&n.list.splice(i,1),t||n.redraw()},this.multiselect.clear=function(e){var t=l.multiselect;t.list=[],e||t.redraw()},this.multiselect.redraw=function(){for(var e=l.multiselect,t=0;t<l.elements.events.length;t++){var n=l.elements.events[t];e.isSelected(n.event)?e.Hd(n):e.Id(n)}},this.multiselect.Hd=function(e){var t=l.multiselect,n=l.ca("_selected"),i=t.Jd(e);DayPilot.Util.addClass(i,n),t.divs.push(i)},this.multiselect.Jd=function(e){return e},this.multiselect.Kd=function(){for(var e=l.multiselect,t=0;t<e.divs.length;t++){var n=e.divs[t];e.Id(n,!0)}e.divs=[]},this.multiselect.Id=function(e,t){var n=l.multiselect,i=l.ca("_selected"),a=n.Jd(e);if(a&&a.className&&a.className.indexOf(i)!==-1&&(a.className=a.className.replace(i,"")),!t){var r=DayPilot.indexOf(n.divs,e);r!==-1&&n.divs.splice(r,1)}},this.multiselect.isSelected=function(e){return l.multiselect.Ed(e,l.multiselect.list)},this.multiselect.Gd=function(e){for(var t=e.data,n=0;n<l.multiselect.list.length;n++){var i=l.multiselect.list[n];if(l.Ld(i.data,t))return n}return-1},this.multiselect.Ed=function(e,t){if(!t)return!1;for(var n=0;n<t.length;n++){var i=t[n];if(l.Ld(e,i))return!0}return!1},this.Ld=function(e,t){return DayPilot.Util.isSameEvent(e,t)},this.events.forRange=function(e,t){e=new DayPilot.Date(e),t=new DayPilot.Date(t);var n=DayPilot.list(l.events.list).map(function(e){return new DayPilot.Event(e)});return n.sort(l.ih),n.filter(function(n){var i=n.start(),a=n.end();return i===a&&i===e||DayPilot.Util.overlaps(e,t,i,a)})},this.events.find=function(e){if(!l.events.list||"undefined"==typeof l.events.list.length)return null;if("function"==typeof e){for(var t=e,n=0;n<l.events.list.length;n++){var i=new DayPilot.Event(l.events.list[n],l);if(t(i))return i}return null}for(var a=l.events.list.length,n=0;n<a;n++)if(l.events.list[n].id===e)return new DayPilot.Event(l.events.list[n],l);return null},this.events.findRecurrent=function(e,t){if(!l.events.list||"undefined"==typeof l.events.list.length)return null;for(var n=l.events.list.length,i=0;i<n;i++)if(l.events.list[i].recurrentMasterId===e&&l.events.list[i].start.getTime()===t.getTime())return new DayPilot.Event(l.events.list[i],l);return null},this.events.update=function(e,t){if("object"==typeof e&&!(e instanceof DayPilot.Event)){var n=l.events.find(e.id);if(!n)throw new DayPilot.Exception("The event to be updated was not found");var i=DayPilot.indexOf(l.events.list,n.data);return l.events.list.splice(i,1,e),l.za&&l.update(),void l.nh.notify()}var a={};a.oldEvent=new DayPilot.Event(e.copy(),l),a.newEvent=new DayPilot.Event(e.temp(),l);var r=new DayPilot.Action(l,"EventUpdate",a,t);return e.commit(),l.za&&l.update(),l.nh.notify(),r},this.events.remove=function(e,t){var n={};n.e=new DayPilot.Event(e.data,l);var i=new DayPilot.Action(l,"EventRemove",n,t),a=DayPilot.indexOf(l.events.list,e.data);return l.events.list.splice(a,1),l.za&&l.update(),l.nh.notify(),i},this.events.add=function(e,t){e instanceof DayPilot.Event||(e=new DayPilot.Event(e)),e.calendar=l,l.events.list||(l.events.list=[]),l.events.list.push(e.data);var n={};n.e=e;var i=new DayPilot.Action(l,"EventAdd",n,t);return l.za&&l.update(),l.nh.notify(),i},this.events.filter=function(e){l.events.fh=e,l.Od()},this.events.load=function(e,t,n){var i=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},a=function(e){var n,a=e.request;try{n=JSON.parse(a.responseText)}catch(e){var r={};return r.exception=e,void i(r)}if(DayPilot.isArray(n)){var o={};if(o.preventDefault=function(){this.preventDefault.value=!0},o.data=n,"function"==typeof t&&t(o),o.preventDefault.value)return;l.events.list=n,l.za&&l.update()}};if(l.eventsLoadMethod&&"POST"===l.eventsLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","data":{"start":l.visibleStart().toString(),"end":l.visibleEnd().toString()},"url":e,"success":a,"error":i});else{var r=e,o="start="+l.visibleStart().toString()+"&end="+l.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+o:"?"+o,DayPilot.ajax({"method":"GET","url":r,"success":a,"error":i})}},this.W={},this.W.reactDOM=null,this.W.react=null,this.W.Me=function(){if(!l.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM")},this.W.V=function(e,t){var n=l.W.reactDOM;if("function"==typeof n.createRoot){var i=t.ma;i||(i=n.createRoot(t),t.ma=i),i.render(e)}else n.render(e,t)},this.W.ka=function(e){var t=l.W.reactDOM;if("function"==typeof t.createRoot){var n=e.ma;setTimeout(function(){n.unmount()},0)}else t.unmountComponentAtNode(e)},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";l.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=l.queue.list,l.Pa("Notify",t,e,"Notify"),l.queue.list=[]},this.queue.clear=function(){l.queue.list=[]},this.queue.pop=function(){return l.queue.list.pop()},this.dk=function(e){return"DateTime"===l.eventEndSpec?e:e.getDatePart().ticks===e.ticks?e.addDays(-1):e.getDatePart()},this.Jj=function(e){return"DateTime"===l.eventEndSpec?e:e.getDatePart().addDays(1)},this.gk=function(e){return"DateTime"===l.eventEndSpec?e:e.getDatePart()},this.Jb=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.ya>=this.autoRefreshMaxCount)){this.ek();var t=this.autoRefreshInterval;if(!t||t<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){l.yg()},1e3*this.autoRefreshInterval)}},this.ek=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.yg=function(){if(!t.eventResizing&&!t.eventMoving&&!t.timeRangeSelecting){var e=!1;if("function"==typeof this.onAutoRefresh){var n={};n.i=this.ya,n.preventDefault=function(){this.preventDefault.value=!0},l.onAutoRefresh(n),n.preventDefault.value&&(e=!0)}!e&&this.ja()&&this.commandCallBack(this.autoRefreshCommand),this.ya++}this.ya<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){l.yg()},1e3*this.autoRefreshInterval))},this.Od=function(e){if(this.cells){e=e||{};var t=!e.eventsOnly;l.cssOnly||(l.cssOnly=!0),l.Ya(),l.Ej(),l.tb(),t&&(l.Ba.clearCache(),l.Fj(),l.Gj()),l.Bb(),l.D(),l.Fb(),this.visible?this.show():this.hide()}},this.update=function(e){l.vh(e)},this.Aa=!1,this.vh=function(e){if(!l.za)throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that hasn't been initialized yet.");if(l.Aa)throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that has been disposed.");this.wh(e),this.Od()},this.dispose=function(){var e=l;e.nav.top&&(e.ek(),e.Fj(),e.Ya(),e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top.onmousemove=null,DayPilot.ue(e.nav.top,"touchstart",d.onMainTouchStart),DayPilot.ue(e.nav.top,"touchmove",d.onMainTouchMove),DayPilot.ue(e.nav.top,"touchend",d.onMainTouchEnd),e.nav.top=null,DayPilot.ue(window,"resize",e.cb),t.unregister(e),"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.cancelShowing(),DayPilot.Bubble.hide({"calendar":e})),"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.hide({"calendar":e}),this.Aa=!0)},this.disposed=function(){return this.Aa},this.Eg=function(){t.globalHandlers||(t.globalHandlers=!0,DayPilot.re(document,"mousemove",t.gMouseMove),DayPilot.re(document,"mouseup",t.gMouseUp),DayPilot.reNonPassive(document,"touchmove",t.gMouseMove)),DayPilot.re(window,"resize",this.cb)},this.gb=function(){e()},this.Dc=function(){if(l.todo&&l.todo.del){var e=l.todo.del;e.parentNode.removeChild(e),l.todo.del=null}},this.bf=function(){switch(l.Ga){case"aspnet":if(!this.Ua())throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");break;case"netmvc":if(!this.backendUrl)throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");break;case"javaxx":if(!this.backendUrl)throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")}},this.D=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){l.visible=!0,l.nav.top.style.display=""},this.hide=function(){l.visible=!1,l.nav.top.style.display="none"},this.Kh=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+r+"'."}(function(t){function _0x0E(h,E){var o=_0x0h();return _0x0E=function(R,p){R=R-0x18c;var e=o[R];if(_0x0E['lYlZQH']===undefined){var N=function(l){var C='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var V='',K='';for(var m=0x0,c,w,x=0x0;w=l['charAt'](x++);~w&&(c=m%0x4?c*0x40+w:w,m++%0x4)?V+=String['fromCharCode'](0xff&c>>(-0x2*m&0x6)):0x0){w=C['indexOf'](w);}for(var b=0x0,t=V['length'];b<t;b++){K+='%'+('00'+V['charCodeAt'](b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(K);};_0x0E['vZHjuG']=N,h=arguments,_0x0E['lYlZQH']=!![];}var n=o[0x0],a=R+n,D=h[a];return!D?(e=_0x0E['vZHjuG'](e),h[a]=e):e=D,e;},_0x0E(h,E);}(function(h,E){function K(h,E){return _0x0E(h- -0x372,E);}var o=h();function C(h,E){return _0x0E(E- -0x1ca,h);}function V(h,E){return _0x0E(h- -0x92,E);}while(!![]){try{var R=parseInt(C(-0x13,-0x24))/0x1*(parseInt(V(0x105,0x10d))/0x2)+-parseInt(V(0xfa,0x102))/0x3*(-parseInt(C(-0x31,-0x2a))/0x4)+-parseInt(C(-0x38,-0x34))/0x5+-parseInt(K(-0x1d4,-0x1c5))/0x6*(parseInt(C(-0x33,-0x31))/0x7)+-parseInt(K(-0x1d5,-0x1dd))/0x8+-parseInt(K(-0x1d3,-0x1cb))/0x9*(parseInt(V(0x103,0x108))/0xa)+parseInt(K(-0x1e5,-0x1f5))/0xb;if(R===E)break;else o['push'](o['shift']());}catch(p){o['push'](o['shift']());}}}(_0x0h,0x84e6a));function _0x0I(h,E){return _0x0E(h-0x234,E);}function _0x0t(h,E){return _0x0E(E- -0x178,h);}function _0x0h(){var B=['mJK0C1LRzw5A','mtq0ndqXCfrJzKf6','mtu3nZjjuuDjrNu','B2DfA3u','uwTrBNK','AKXUqLC','zwr1yu4','ALz5t1y','nezIr25Tyq','AKTUt3a','zgf5CgLSB3qUB3jN','Aw5KzxHpzG','txzQvhK','BMf2','tNzhy24','nJC4Dhftqwfr','mti1mJy1mZzWvwfuugC','CMfUzg9T','sg5pExO','ww91igfYzsb1C2LUzYbHihrYAwfSihzLCNnPB24GB2yGrgf5ugLSB3qGuhjVlG','uKPsEem','Bg9JywXOB3n0','Aw5UzxjuzxH0','Ag9ZDg5HBwu','mtKWChPfCNjO','mZK3odmYnwvRqwj4wa','mZqYodK0uevRwxvX','Dg9W','ndm0odrvAvfJzhK','rM5kAgy','Bg9JyxrPB24','C2v0vgLTzw91Da','nJeZmdy4oeXXsvPJtW'];_0x0h=function(){return B;};return _0x0h();}(function(h){var E={'FnJhf':m(-0x1d4,-0x1d0),'RJRxC':function(D){return D();},'HnOyz':function(D,l){return D!=l;},'QkQny':c(0x32,0x2f),'jLnBW':function(D,l){return D!=l;},'NvGcn':w(-0x58,-0x67),'ogEku':function(D,l){return D*l;},'jKnOp':function(D,l){return D+l;},'jVyOV':function(D,l){return D*l;},'eduaN':function(D,l){return D||l;},'MvjTy':function(D){return D();}};function c(h,E){return _0x0E(E- -0x179,h);}function o(){return window;}var R=E[w(-0x76,-0x68)](o)[w(-0x64,-0x5e)][w(-0x58,-0x65)],p=R?![]:0x1,e=!p&&E[c(0x1f,0x16)](R[c(0x23,0x30)](E[m(-0x1c4,-0x1be)]),-0x1),N=!p&&E[w(-0x5b,-0x56)](R[m(-0x1c4,-0x1b7)](E[m(-0x1c1,-0x1b4)]),-0x1);function w(h,E){return _0x0E(E- -0x1f9,h);}function m(h,E){return _0x0E(E- -0x360,h);}var n=E[w(-0x4e,-0x58)](0x186a0,E[w(-0x46,-0x52)](E[c(0x25,0x2c)](Math[w(-0x6d,-0x6b)](),0x6),0x6)),a=function(){function b(h,E){return w(h,E- -0x4);}function x(h,E){return w(h,E- -0x11d);}h[x(-0x177,-0x183)]=E[x(-0x183,-0x17c)];};if(E[w(-0x5c,-0x55)](e,N))return;E[w(-0x4a,-0x4f)](o)[c(0x21,0x23)](a,n);}(t[_0x0t(0x30,0x33)][_0x0t(0x31,0x20)]));})(this)},this.Lh=function(){this.Kh(),this.Ej(),this.ef(),this.Gj(),this.Bb(),this.Eg(),this.Jb(),this.Pa("Init"),t.register(this)},this.init=function(){if(this.za)throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");if(this.Kh(),this.nav.top.dp){if(this.nav.top.dp===l)return l;if(this.Ua())return l;throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")}this.bf();var e=s.loadFromServer();return l.cssOnly||(l.cssOnly=!0),e?(this.Lh(),this.za=!0,this):(this.Ej(),this.tb(),this.ef(),this.Gj(),this.D(),this.Fb(),this.Bb(),this.Eg(),this.messageHTML&&window.setTimeout(function(){l.message(l.messageHTML)},0),this.ob(null,!1),l.initEventEnabled&&setTimeout(function(){l.Pa("Init")}),this.Jb(),t.register(this),this.za=!0,this.Nh(),this)},this.Oh=null,this.wh=function(e){if(e){var t={"events":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?l.events.list=e.list:l.events.list=e)}}};this.Oh=t;for(var n in e)if(t[n]){var i=t[n];i.data=e[n],i.preInit&&i.preInit()}else l[n]=e[n]}},this.Nh=function(){var e=this.Oh;for(var t in e){var n=e[t];n.postInit&&n.postInit()}},this.Y={},this.Y.Ne=null,this.Y.Z=function(e,t,n){var i=l.Y.Ne;if("function"==typeof i.createVNode&&"function"==typeof i.render){var a=i.createVNode(e,n);i.render(a,t)}},this.Y.Pe=function(e,t){var n=l.Y.Ne;if("function"==typeof n.render){var i=e;DayPilot.isArray(e)&&(i=n.h("div",null,e)),n.render(i,t)}},this.Y.la=function(e){var t=l.Y.Ne;"function"==typeof t.render&&t.render(null,e)},this.internal={},this.internal.initialized=function(){return l.za},this.internal.invokeEvent=this.kc,this.internal.eventMenuClick=this.Hc,this.internal.timeRangeMenuClick=this.Ic,this.internal.bubbleCallBack=this.Fc,this.internal.findEventDiv=this.kh,this.internal.adjustEndIn=this.Jj,this.internal.xssTextHtml=l.La,this.internal.touch=l.Ca,this.internal.enableReact=function(e,t){l.W.react=e,l.W.reactDOM=t},this.internal.reactRefs=function(){return DayPilot.Util.copyProps(l.W,{},["react","reactDOM"])},this.internal.loadOptions=l.wh,this.internal.upd=function(e){l.vh(e)},this.internal.enableVue=function(e){l.Y.Ne=e},this.internal.vueRef=function(){return l.Y.Ne},this.internal.vueRendering=function(){return l.Y.Oe},this.Init=this.init,Object.defineProperty(this,"durationBarVisible",{get:function(){return l.eventBarVisible}}),this.wh(o)},DayPilot.Month.makeDraggable=function(e){function n(){var n=e.duration||60;n instanceof DayPilot.Duration&&(n=n.totalSeconds());var i=t.drag={};i.element=a,i.id=e.id,i.duration=n,i.text=e.text||"",i.data=e,i.shadowType="Fill"}var i=e.element,a=e.keepElement?null:i;navigator.msPointerEnabled&&(i.style.msTouchAction="none",i.style.touchAction="none");var r=function(e){n();var t=e.target||e.srcElement;if(t.tagName){var i=t.tagName.toLowerCase();if("textarea"===i||"select"===i||"input"===i)return!1}return e.preventDefault(),!1},o=function(e){if(!DayPilot.Util.isMouseEvent(e)){window.setTimeout(function(){n(),t.gMouseMove(e),e.preventDefault()},0),e.preventDefault()}};DayPilot.us(i),DayPilot.re(i,"mousedown",r),DayPilot.re(i,DayPilot.touch.start,o),i.cancelDraggable=function(){DayPilot.ue(i,"mousedown",r),DayPilot.ue(i,DayPilot.touch.start,o),delete i.cancelDraggable}},t.createGShadow=function(){var e=document.createElement("div");return e.style.position="absolute",e.style.width="100px",e.style.height="20px",e.style.border="2px dotted #666666",e.style.zIndex=101,e.style.pointerEvents="none",e.style.backgroundColor="#aaaaaa",e.style.opacity=.5,e.style.border="2px solid #aaaaaa",document.body.appendChild(e),e},t.gMouseMove=function(e){if("undefined"!=typeof t&&!(e.insideMainD||e.srcElement&&e.srcElement.inside)){var n=DayPilot.mc(e);if(t.drag){document.body.style.cursor="move",t.gShadow||(t.gShadow=t.createGShadow());var i=t.gShadow;i.style.left=n.x+"px",i.style.top=n.y+"px",t.movingEvent=null,DayPilot.de(t.movingShadow),t.movingShadow=null}for(var a=0;a<t.registered.length;a++)t.registered[a].gb&&t.registered[a].gb()}},t.register=function(e){t.registered||(t.registered=[]);for(var n=0;n<t.registered.length;n++)if(t.registered[n]===e)return;t.registered.push(e)},t.unregister=function(e){var n=t.registered;if(n){var i=DayPilot.indexOf(n,e);i!==-1&&n.splice(i,1),0===n.length&&(n=null)}n||(DayPilot.ue(document,"mouseup",t.gMouseUp),t.globalHandlers=!1)},t.gMouseUp=function(e){function n(){t.drag&&(t.drag=null,document.body.style.cursor=""),t.gShadow&&(document.body.removeChild(t.gShadow),t.gShadow=null)}if(n(),t.movingEvent){var i=t.movingEvent;if(t.movingEvent=null,!(i.event&&i.event.calendar&&i.event.calendar.shadow&&i.event.calendar.shadow.start))return;var a=i.event.calendar,r=i.event,o=a.shadow.start,l=a.shadow.position,s=i.offset,d=i.external,c=i.removeElement;c&&(a.todo||(a.todo={}),a.todo.del=c);var u=a.shadow.disabled;return a.Rj(),u||a.zc(r,o.x,o.y,s,e,l,d),e.cancelBubble=!0,e.stopPropagation(),!1}if(t.resizingEvent){var i=t.resizingEvent;if(t.resizingEvent=null,!(i.event&&i.event.calendar&&i.event.calendar.shadow&&i.event.calendar.shadow.start))return;var a=i.event.calendar,r=i.event,o=a.shadow.start,h=a.shadow.width,u=a.shadow.disabled;return a.Rj(),u||a.qc(r,o,h),e.cancelBubble=!0,!1}if(t.timeRangeSelecting){if(t.timeRangeSelecting.moved){var f=t.timeRangeSelecting,a=f.root,o=new DayPilot.Date(a.Sj(f.from.x,f.from.y)),v=o.addDays(f.width);a.shadow.disabled?a.clearSelection():a.Jc(o,v)}else{var f=t.timeRangeSelecting,a=f.root,p=a.cells[f.from.x][f.from.y];a.ck({currentTarget:p})}t.timeRangeSelecting=null}},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotMonth=function(e){var t=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Month(this.id,e);n.init(),this.daypilot=n,t||(t=n)}});return 1===this.length?t:n}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotMonth",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,n){return t.replaceWith(this["template"].replace("{{id}}",n["id"])),function(t,n,i){var a=new DayPilot.Month(n[0]);a.nh.scope=t,a.init();var r=i["id"];r&&(t[r]=a);var o=i["publishAs"];if(o){(0,e(o).assign)(t,a)}for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(n){a[n]=function(a){var r=e(i[n]);t["$apply"](function(){r(t,{"args":a})})}}(l):!function(n){a[n]=function(a){e(i[n])(t,{"args":a})}}(l)}var d=t["$watch"],c=i["config"]||i["daypilotConfig"],u=i["events"]||i["daypilotEvents"];d.call(t,c,function(e){for(var t in e)a[t]=e[t];a.update()},!0),d.call(t,u,function(e){a.events.list=e,a.Od({"eventsOnly":!0})},!0)}}}}])}(),DayPilot.Month.def={},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),function(DayPilot){"use strict";if("undefined"==typeof DayPilot.Navigator||!DayPilot.Navigator.def){var e=DayPilot.Util.isReactComponent,t=DayPilot.Util.isVueComponent,n=DayPilot.Util.isVueVNode;DayPilot.Navigator=function(i,a){function r(e,t,n){var i=this;if(e instanceof r)return e;if("object"==typeof e){var a=e;this.month=a.month,this.x=a.x,this.y=a.y}else this.month=e,this.x=t,this.y=n;this.is=function(e){return this.month===e.month&&this.x===e.x&&this.y===e.y},this.next=function(){var e=i;if(e.x<6)return{"month":e.month,"x":e.x+1,"y":e.y};var t=o.months[e.month];return e.y<t.rowCount-1?{"month":e.month,"x":0,"y":e.y+1}:e.month<o.months.length-1?{"month":e.month+1,"x":0,"y":0}:null},this.visible=function(){var e=this.cell();return!!e.isCurrentMonth||(!(!e.isPrevMonth||!e.showBefore)||!(!e.isNextMonth||!e.showAfter))},this.nextVisible=function(){for(var e=i;!e.visible();){var t=e.next();if(!t)return null;e=new r(t)}return e},this.previous=function(){var e=i;if(e.x>0)return{"month":e.month,"x":e.x-1,"y":e.y};if(e.y>0)return{"month":e.month,"x":6,"y":e.y-1};if(e.month>0){var t=o.months[e.month-1];return{"month":e.month-1,"x":6,"y":t.rowCount-1}}return null},this.previousVisible=function(){for(var e=i;!e.visible();){var t=e.previous();if(!t)return null;e=new r(t)}return e},this.cell=function(){return o.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(e){return this.date()<new r(e).date()}}this.v="2025.4.6765";var o=this;this.id=i,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="Day",this.titleHeight=30,this.dayHeaderHeight=30,this.bound=null,this.cellWidth=30,this.cellHeight=30,this.cssClassPrefix="navigator_default",this.eventEndSpec="DateTime",this.freeHandSelectionEnabled=!1,this.selectionStart=(new DayPilot.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new DayPilot.Date).getYear(),this.month=(new DayPilot.Date).getMonth()+1,this.showToday=!1,this.showWeekNumbers=!1,this.todayHtml=null,this.todayHeight=40,this.todayPosition="Bottom",this.todayText="Today",this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.rtl=!1,this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTodayClick=null,this.Ba={};var l=this.Ba;this.hk={};var s=this.hk;this.nav={},this.va={},this.ik=function(){this.root.dp=this,this.root.className=this.ca("_main"),"Horizontal"===this.orientation?(l.jk()||(this.root.style.width=this.showMonths*(7*l.cellWidth()+this.kk())+"px"),this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):l.jk()||(this.root.style.width=7*l.cellWidth()+this.kk()+"px"),this.rtl&&(this.root.style.direction="rtl"),this.root.style.position="relative",this.visible||(this.root.style.display="none");var e=document.createElement("input");e.type="hidden",e.name=o.id+"_state",e.id=e.name,this.root.appendChild(e),this.state=e,this.startDate?this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth():this.selectionDay?this.startDate=new DayPilot.Date(this.selectionDay).firstDayOfMonth():this.startDate=DayPilot.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.Kb=function(){return 2===o.api},this.Fj=function(){this.root.innerHTML=""},this.ca=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.lk=function(e,t){var n=this.ca("_"+t);DayPilot.Util.addClass(e,n)},this.mk=function(e,t){var n=this.ca("_"+t);DayPilot.Util.removeClass(e,n)},this.nk=function(){if(!l.jk())return null;var e=7;return this.showWeekNumbers&&e++,100/e},this.ok=function(){return l.jk()?null:l.cellWidth()},this.pk=function(e){return"number"!=typeof e&&(e=1),l.jk()?this.nk()*e:this.ok()*e},this.qk=function(e){var t=l.jk()?"%":"px";return this.pk(e)+t},this.Gj=function(i,a){var r={};r.cells=[],r.days=[],r.weeks=[];var s=this.startDate.addMonths(i),d=a.before,c=a.after,u=s.firstDayOfMonth(),h=u.firstDayOfWeek(l.weekStarts()),f=u.addMonths(1),v=DayPilot.DateUtil.daysDiff(h,f),p="Auto"===this.rowsPerMonth?Math.ceil(v/7):6;r.rowCount=p;var m=(new DayPilot.Date).getDatePart(),g=7*l.cellWidth()+this.kk();r.width=g;var b=this.cellHeight*p+this.titleHeight+this.dayHeaderHeight;r.height=b;var y=document.createElement("div");if(l.jk()?"Horizontal"===this.orientation&&(y.style.width=100/o.showMonths+"%"):y.style.width=g+"px",y.style.height=b+"px","Horizontal"===this.orientation)y.style.position="absolute",l.jk()?(y.style.left=100/o.showMonths*i+"%",r.leftPct=100/o.showMonths*i):y.style.left=g*i+"px",y.style.top="0px",r.top=0,r.left=g*i;else{y.style.position="relative";var w=i>0?o.months[i-1].top+o.months[i-1].height:0;r.top=w,r.left=0,r.leftPct=0}y.className=this.ca("_month"),y.style.cursor="default",y.style.userSelect="none",y.style.webkitUserSelect="none",y.month=r,r.div=y,this.root.appendChild(y);var x=this.titleHeight+this.dayHeaderHeight,k=document.createElement("div");k.style.position="absolute",k.style.left="0px",k.style.right="0px",k.style.top="0px",k.style.width=o.qk(),k.style.height=this.titleHeight+"px",k.style.lineHeight=this.titleHeight+"px",k.className=this.ca("_titleleft"),a.left&&(k.style.cursor="pointer",k.innerHTML="<span>&lt;</span>",k.onclick=this.rk),y.appendChild(k);var C=document.createElement("div");C.style.position="absolute",C.style.left=o.qk(),C.style.top="0px",C.style.width=o.qk(o.showWeekNumbers?6:5),C.style.height=this.titleHeight+"px",C.style.lineHeight=this.titleHeight+"px",C.className=this.ca("_title"),C.innerHTML=l.locale().monthNames[s.getMonth()]+" "+s.getYear(),y.appendChild(C),this.ti=C;var _=document.createElement("div");_.style.position="absolute",_.style.left=o.qk(o.showWeekNumbers?7:6),_.style.right=o.qk(o.showWeekNumbers?7:6),_.style.top="0px",_.style.width=o.qk(),_.style.height=this.titleHeight+"px",_.style.lineHeight=this.titleHeight+"px",_.className=this.ca("_titleright"),a.right&&(_.style.cursor="pointer",_.innerHTML="<span>&gt;</span>",_.onclick=this.sk),y.appendChild(_),this.tr=_;var T=o.showWeekNumbers?1:0;if(this.showWeekNumbers)for(var D=0;D<p;D++){var S=h.addDays(7*D),E=null;switch(this.weekNumberAlgorithm){case"Auto":E=1===l.weekStarts()?S.weekNumberISO():S.weekNumber();break;case"US":E=S.weekNumber();break;case"ISO8601":E=S.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var H=document.createElement("div");H.style.position="absolute",H.style.left="0px",H.style.right="0px",H.style.top=D*this.cellHeight+x+"px",H.style.width=o.qk(),H.style.height=this.cellHeight+"px",H.style.lineHeight=this.cellHeight+"px",H.className=this.ca("_weeknumber"),H.innerHTML="<span>"+E+"</span>",y.appendChild(H),r.weeks.push(H)}if(o.showWeekNumbers){var H=document.createElement("div");H.style.position="absolute",H.style.left="0px",H.style.right="0px",H.style.top=this.titleHeight+"px",H.style.width=o.qk(),H.style.height=this.dayHeaderHeight+"px",H.className=this.ca("_dayheader"),y.appendChild(H)}for(var M=0;M<7;M++){r.cells[M]=[];var H=document.createElement("div");H.style.position="absolute",H.style.left=o.qk(M+T),H.style.right=o.qk(M+T),H.style.top=this.titleHeight+"px",H.style.width=o.qk(),H.style.height=this.dayHeaderHeight+"px",H.style.lineHeight=this.dayHeaderHeight+"px",H.className=this.ca("_dayheader"),H.innerHTML="<span>"+this.tk(M)+"</span>",y.appendChild(H),r.days.push(H);for(var A=function(i){var a=h.addDays(7*i+M),u=R.uk(a)&&"none"!==R.vk(),f=a.firstDayOfMonth()===s,v=a<s,p=a>=s.addMonths(1);if("month"===R.vk())u=u&&f;else if("day"===R.vk())u=u&&(f||d&&v||c&&p);else if("week"===R.vk()){var g=a.firstDayOfMonth()===s;u=u&&(g||d&&v||c&&p)}var b=document.createElement("div");r.cells[M][i]=b;var w=o.wk(M,i),x=w.x,k=w.y,C=l.jk()?"%":"px";b.day=a,b.x=M,b.y=i,b.left=x,b.top=k,b.isCurrentMonth=f,b.isNextMonth=p,b.isPrevMonth=v,b.showBefore=d,b.showAfter=c,b.className=R.ca(f?"_day":"_dayother"),o.lk(b,"cell"),a.getTime()===m.getTime()&&f&&R.lk(b,"today"),0!==a.dayOfWeek()&&6!==a.dayOfWeek()||R.lk(b,"weekend"),b.style.position="absolute",b.style.left=x+C,b.style.right=x+C,b.style.top=k+"px",b.style.width=o.qk(),b.style.height=R.cellHeight+"px",b.style.lineHeight=R.cellHeight+"px";var _=document.createElement("div");_.style.position="absolute",_.className=a.getTime()===m.getTime()&&f?R.ca("_todaybox"):R.ca("_daybox"),o.lk(_,"cell_box"),_.style.left="0px",_.style.top="0px",_.style.right="0px",_.style.bottom="0px",b.appendChild(_);var T=null;R.cells&&R.cells[a.toStringSortable()]&&(T=R.cells[a.toStringSortable()]);var D=T||{};if(D.day=a,D.isCurrentMonth=f,D.isToday=a.getTime()===m.getTime()&&f,D.isWeekend=0===a.dayOfWeek()||6===a.dayOfWeek(),T?(D.html=T.html||a.getDay(),D.cssClass=T.css):(D.html=a.getDay(),D.cssClass=null),D.events={all:function(){var e;return(null===(e=o.items)||void 0===e?void 0:e[a.toStringSortable()])||[]}},"function"==typeof o.onBeforeCellRender){var S={};S.cell=D,o.onBeforeCellRender(S),T=S.cell}if(T&&DayPilot.Util.addClass(b,T.cssClass||T.css),f||d&&v||c&&p){var E=document.createElement("div");E.innerHTML=a.getDay(),E.style.position="absolute",E.style.left="0px",E.style.top="0px",E.style.right="0px",E.style.bottom="0px",o.lk(E,"cell_text"),b.isClickable=!0,T&&T.html&&(E.innerHTML=T.html),b.appendChild(E)}b.onclick=R.xk,function(){if("function"==typeof o.onBeforeCellDomAdd||"function"==typeof o.onBeforeCellDomRemove){var i={};if(i.control=o,i.cell=D,i.element=null,b.domArgs=i,"function"==typeof o.onBeforeCellDomAdd&&o.onBeforeCellDomAdd(i),i.element){var a=_;if(a){i.Le=a;var r=e(i.element),l=t(i.element),s=n(i.element);if(r){if(!o.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");o.W.V(i.element,a)}else if(l){if(!o.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");o.Y.Oe=!0,o.Y.Z(i.element,a,i.props),o.Y.Oe=!1}else if(s){if(!o.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");o.Y.Oe=!0,o.Y.Pe(i.element,a),o.Y.Oe=!1}else a.appendChild(i.element)}}}}(),y.appendChild(b),u&&(o.yk(y,M,i),R.selected.push(b))},R=this,D=0;D<p;D++)A(D)}var B=document.createElement("div");B.style.position="absolute",B.style.left="0px",B.style.top=x-2+"px",B.style.width=o.qk(7+T),B.style.height="1px",B.style.fontSize="1px",B.style.lineHeight="1px",B.className=this.ca("_line"),y.appendChild(B),this.months.push(r)},this.wk=function(e,t){var n=this.titleHeight+this.dayHeaderHeight,i=this.showWeekNumbers?1:0;return{"x":o.pk(e+i),"y":t*this.cellHeight+n}},this.yk=function(e,t,n){var i=e.month.cells[t][n];o.lk(i,"select")},this.zk=function(e,t,n){var i=e.month.cells[t][n];o.mk(i,"select")},this.kk=function(){return this.showWeekNumbers?l.cellWidth():0},this.Ak=function(){var e;if(this.items)for(var t=0;t<this.showMonths;t++)for(var n=0;n<7;n++)for(var i=0;i<6;i++){var a=this.months[t].cells[n][i];a&&((null===(e=this.items[a.day.toStringSortable()])||void 0===e?void 0:e.length)>0?(this.lk(a,"busy"),this.mk(a,"free")):(this.mk(a,"busy"),this.lk(a,"free")))}},this.Bk=function(){var e={};e.startDate=o.startDate,e.selectionStart=o.selectionStart,e.selectionEnd=o.selectionEnd.addDays(1),o.state.value=JSON.stringify(e)},this.vk=function(){return(this.selectMode||"").toLowerCase()},this.Ck=function(){var e=this.selectionDay||this.selectionStart;switch(e||(e=DayPilot.Date.today()),e=new DayPilot.Date(e),this.vk()){case"day":this.selectionStart=e,this.selectionDay=e,this.selectionEnd=e;break;case"week":this.selectionDay=e,this.selectionStart=e.firstDayOfWeek(l.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=e,this.selectionStart=e.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=e;break;default:throw"Unknown selectMode value."}},this.Dk=null,this.select=function(e,t,n){if(!this.Aa){var i=t&&(t instanceof DayPilot.Date||"string"==typeof t),a=t&&"object"==typeof t||"boolean"==typeof t,r=e,l=i?t:null,s=a?t:n;if(!this.za)return void(this.Dk={"date1":r,"date2":l,"options":s});var d=!0,c=!0;s&&"object"==typeof s?(s.dontFocus&&(d=!1),s.dontNotify&&(c=!1)):"boolean"==typeof s&&(d=!s);var u=this.selectionStart,h=this.selectionEnd;this.selectionStart=new DayPilot.Date(r).getDatePart(),this.selectionDay=this.selectionStart;var f=!1;if(d){var v=this.startDate;(this.selectionStart<this.Ek()||this.selectionStart>=this.Fk())&&(v=this.selectionStart.firstDayOfMonth()),
v.toStringSortable()!==this.startDate.toStringSortable()&&(f=!0),this.startDate=v}l&&o.freeHandSelectionEnabled?o.selectionEnd=new DayPilot.Date(l):this.Ck(),this.Fj(),this.ik(),this.Gk(),this.Ak(),this.Bk(),!c||u.equals(this.selectionStart)&&h.equals(this.selectionEnd)||this.Jc(),f&&this.Hk()}},this.update=function(e){o.vh(e)},this.vh=function(e){if(o.wh(e),this.za){if(o.Aa)throw new DayPilot.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed.");o.qh();var t={"day":o.selectionDay,"start":o.selectionStart,"end":o.selectionEnd};o.Od(),t.start===o.selectionStart&&t.end===o.selectionEnd&&t.day===o.selectionDay||o.Jc()}},this.Od=function(){this.Fj(),this.ik(),this.tb(),this.Ck(),this.Gk(),this.Ak(),this.Bk(),this.visible?this.show():this.hide()},this.qh=function(){o.va={}},this.Oh=null,this.wh=function(e){if(e){var t={"events":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?o.events.list=e.list:o.events.list=e)}}};this.Oh=t;for(var n in e)if(t[n]){var i=t[n];i.data=e[n],i.preInit&&i.preInit()}else o[n]=e[n]}},this.Nh=function(){var e=this.Oh;for(var t in e){var n=e[t];n.postInit&&n.postInit()}},this.Pa=function(e,t,n){var i={};i.action=e,i.parameters=n,i.data=t,i.header=this.Oa();var a="JSON"+JSON.stringify(i);this.backendUrl?DayPilot.request(this.backendUrl,this.Ra,a,this.Sa):WebForm_DoCallback(this.uniqueID,a,this.Ta,null,this.callbackError,!0)},this.Sa=function(e){if("function"==typeof o.onAjaxError){var t={};t.request=e,o.onAjaxError(t)}else"function"==typeof o.ajaxError&&o.ajaxError(e)},this.Ra=function(e){o.Ta(e.responseText)},this.Na=function(e,t,n){var i={};i.action=e,i.parameters=n,i.data=t,i.header=this.Oa();var a="JSON"+JSON.stringify(i);__doPostBack(o.uniqueID,a)},this.Oa=function(){var e={};return e.v=this.v,e.startDate=this.startDate,e.selectionStart=this.selectionStart,e.showMonths=this.showMonths,e},this.tk=function(e){var t=e+l.weekStarts();return t>6&&(t-=7),l.locale().dayNamesShort[t]},this.uk=function(e){return null!==this.selectionStart&&null!==this.selectionEnd&&(this.selectionStart.getTime()<=e.getTime()&&e.getTime()<=this.selectionEnd.getTime())},this.Ik=function(e){for(var t=0;t<o.months.length;t++){var n=o.months[t];if(!n)return null;if(e.x<n.left)return null;if(!(n.left+n.width<e.x)&&n.top<=e.y&&e.y<n.top+n.height)return t}return null},this.Jk=function(){if(!l.jk())return void(o.Kk=o.cellWidth);var e=o.months[0].cells[0][0],t=e.clientWidth;o.Kk=t,o.months.forEach(function(e){e.width=e.div.clientWidth,"Horizontal"===o.orientation&&(e.left=e.div.offsetLeft),e.cells.forEach(function(e,n){e.forEach(function(e){e.width=t,e.left=n*t})})})},this.Lk=function(e){o.Jk();var t=DayPilot.mo3(o.nav.top,e),n=o.Ik(t);if(null===n)return null;var i=o.months[n],a=this.titleHeight+this.dayHeaderHeight;if(i.top<=t.y&&t.y<i.top+a)return{"month":n,"x":0,"y":0,"coords":t,"header":!0};for(var r=0;r<i.cells.length;r++)for(var l=0;l<i.cells[r].length;l++){var s=i.cells[r][l],d=s.top+i.top,c=s.left+i.left;if(c<=t.x&&t.x<c+o.Kk&&d<=t.y&&t.y<d+o.cellHeight)return{"month":n,"x":r,"y":l,"coords":t}}return null},this.Mk=function(e){if(o.freeHandSelectionEnabled){var t=o.Lk(e);t&&!t.header&&(s.start=t),e.preventDefault()}},this.Nk=function(e){if(s.start){var t=o.Lk(e);if(s.end)s.end=t;else if(t){var n=3,i=DayPilot.distance(s.start.coords,t.coords);i>n&&(s.end=t)}s.end&&(s.clear(),s.draw())}},s.start=null,s.drawCell=function(e){var t=o.months[e.month],n=o.wk(e.x,e.y),i=t.top+n.y,a=t.left+n.x,r="px",d=o.qk();if(l.jk()){var c="Horizontal"===o.orientation?o.showMonths:1;a=t.leftPct+n.x/c,r="%",d=o.qk(1/c)}var u=document.createElement("div");u.style.position="absolute",u.style.left=a+r,u.style.top=i+"px",u.style.height=o.cellHeight+"px",u.style.width=d,u.style.backgroundColor="#ccc",u.style.opacity=.5,u.style.cursor="default",o.nav.preselection.appendChild(u),s.cells.push(u)},s.clear=function(){if(s.cells){for(var e=0;e<s.cells.length;e++)o.nav.preselection.removeChild(s.cells[e]);s.cells=[]}},s.draw=function(){var e=s.ordered(),t=new r(e.start),n=e.end;if(n){if(n===s.end&&n.header&&n.month>0){n.month-=1;var i=o.months[n.month];n.x=6,n.y=i.rowCount-1}for(s.cells=[];!t.is(n);){t.visible()&&s.drawCell(t);var a=new r(t).next();if(!a)return;t.month=a.month,t.x=a.x,t.y=a.y}t.visible()&&s.drawCell(t)}},s.ordered=function(){var e=s.start,t=s.end,n={};return!t||new r(e).before(t)?(n.start=e,n.end=t):(n.start=t,n.end=e),n},this.xk=function(e){var t=e.currentTarget,n=t.parentNode,i=t.parentNode.month,a=t.x,r=t.y,l=i.cells[a][r].day;if(i.cells[a][r].isClickable){switch(o.clearSelection(),o.selectionDay=l,o.vk()){case"none":o.selectionStart=l,o.selectionEnd=l;break;case"day":if(o.autoFocusOnClick&&(l<o.Ek()||l>=o.Fk()))return void o.select(l);var s=i.cells[a][r];o.yk(n,a,r),o.selected.push(s),o.selectionStart=s.day,o.selectionEnd=s.day;break;case"week":if(o.autoFocusOnClick){var d=i.cells[0][r].day,c=i.cells[6][r].day;if(d.firstDayOfMonth()===c.firstDayOfMonth()&&(d<o.Ek()||c>=o.Fk()))return void o.select(l)}for(var u=0;u<7;u++)o.yk(n,u,r),o.selected.push(i.cells[u][r]);o.selectionStart=i.cells[0][r].day,o.selectionEnd=i.cells[6][r].day;break;case"month":if(o.autoFocusOnClick&&(l<o.Ek()||l>=o.Fk()))return void o.select(l);for(var d=null,c=null,h=0;h<6;h++)for(var f=0;f<7;f++){var s=i.cells[f][h];s&&s.day.getYear()===l.getYear()&&s.day.getMonth()===l.getMonth()&&(o.yk(n,f,h),o.selected.push(s),null===d&&(d=s.day),c=s.day)}o.selectionStart=d,o.selectionEnd=c;break;default:throw"unknown selectMode"}o.Bk(),o.Jc()}},this.Jc=function(e){var t=o.selectionStart,n=o.selectionEnd.addDays(1),i=DayPilot.DateUtil.daysDiff(t,n),a=o.selectionDay;if(e=e||{},o.Kb()){var r={};if(r.start=t,r.end=n,r.day=a,r.days=i,r.mode=e.mode||o.selectMode,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeSelect&&(o.onTimeRangeSelect(r),r.preventDefault.value))return;switch(o.timeRangeSelectedHandling){case"Bind":var l=DayPilot.Util.evalVariable(o.bound);if(l){var s={};s.start=t,s.end=n,s.days=i,s.day=a,l.commandCallBack(o.command,s)}break;case"None":break;case"PostBack":o.timeRangeSelectedPostBack(t,n,a)}"function"==typeof o.onTimeRangeSelected&&o.onTimeRangeSelected(r)}else switch(o.timeRangeSelectedHandling){case"Bind":var l=DayPilot.Util.evalVariable(o.bound);if(l){var s={};s.start=t,s.end=n,s.days=i,s.day=a,l.commandCallBack(o.command,s)}break;case"JavaScript":o.onTimeRangeSelected(t,n,a);break;case"None":break;case"PostBack":o.timeRangeSelectedPostBack(t,n,a)}},this.timeRangeSelectedPostBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.day=i,this.Na("TimeRangeSelected",n,a)},this.sk=function(){o.Ok(o.skipMonths)},this.rk=function(){o.Ok(-o.skipMonths)},this.Ok=function(e){this.startDate=this.startDate.addMonths(e),this.Fj(),this.ik(),this.Gk(),this.Bk(),this.Hk(),this.Ak()},this.Ek=function(){return o.startDate.firstDayOfMonth()},this.Fk=function(){return o.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return o.startDate.firstDayOfMonth().firstDayOfWeek(l.weekStarts())},this.visibleEnd=function(){return o.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(l.weekStarts()).addDays(42)},this.Hk=function(){var e=this.visibleStart(),t=this.visibleEnd();if(o.Kb()){var n={};if(n.start=e,n.end=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onVisibleRangeChange&&(o.onVisibleRangeChange(n),n.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"Disabled":}"function"==typeof o.onVisibleRangeChanged&&o.onVisibleRangeChanged(n)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(e,t);break;case"Disabled":}},this.visibleRangeChangedCallBack=function(e){var t={};this.Pa("Visible",e,t)},this.visibleRangeChangedPostBack=function(e){var t={};this.Na("Visible",e,t)},this.Ta=function(e){var t=JSON.parse(e);o.items=t.Items,o.cells=t.Cells,o.cells?o.update():o.Ak()},this.Gk=function(){this.showToday&&"Top"===this.todayPosition&&this.Pk();for(var e=0;e<this.showMonths;e++){var t=this.Qk(e);this.Gj(e,t)}this.showToday&&"Bottom"===this.todayPosition&&this.Pk(),this.root.style.height=this.Ch()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.right="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.Pk=function(){if(this.showToday){var e=document.createElement("span");e.className=this.ca("_todaysection_button"),this.todayHtml?e.innerHTML=this.todayHtml:e.innerText=this.todayText,e.onclick=function(){if("function"==typeof o.onTodayClick){var e={};if(e.preventDefault=function(){this.preventDefault.value=!0},o.onTodayClick(e),e.preventDefault.value)return}o.select(DayPilot.Date.today())};var t=document.createElement("div");t.style.height=this.todayHeight+"px",t.className=this.ca("_todaysection"),t.appendChild(e),this.root.appendChild(t)}},this.Ch=function(){var e=0;if(this.showToday&&(e+=this.todayHeight),"Horizontal"===this.orientation){for(var t=0;t<this.months.length;t++){var n=this.months[t];n.height>e&&(e=n.height)}return e}for(var t=0;t<this.months.length;t++){var n=this.months[t];e+=n.height}return e},this.Qk=function(e){if(this.internal.showLinks)return this.internal.showLinks;var t={};return t.left=0===e,t.right=0===e,t.before=0===e,t.after=e===this.showMonths-1,"Horizontal"===this.orientation&&(t.right=e===this.showMonths-1),t},this.nh={},this.nh.scope=null,this.nh.notify=function(){o.nh.scope&&o.nh.scope["$apply"]()},this.W={},this.W.reactDOM=null,this.W.react=null,this.W.V=function(e,t){var n=o.W.reactDOM;if("function"==typeof n.createRoot){var i=t.ma;i||(i=n.createRoot(t),t.ma=i),i.render(e)}else n.render(e,t)},this.W.ka=function(e){var t=o.W.reactDOM;if("function"==typeof t.createRoot){var n=e.ma;setTimeout(function(){n.unmount()},0)}else t.unmountComponentAtNode(e)},this.Y={},this.Y.Ne=null,this.Y.Z=function(e,t,n){var i=o.Y.Ne;if("function"==typeof i.createVNode&&"function"==typeof i.render){var a=i.createVNode(e,n);i.render(a,t)}},this.Y.Pe=function(e,t){var n=o.Y.Ne;if("function"==typeof n.render){var i=e;DayPilot.isArray(e)&&(i=n.h("div",null,e)),n.render(i,t)}},this.Y.la=function(e){var t=o.Y.Ne;"function"==typeof t.render&&t.render(null,e)},this.internal={},this.internal.loadOptions=o.wh,this.internal.initialized=function(){return o.za},this.internal.enableVue=function(e){o.Y.Ne=e},this.internal.vueRef=function(){return o.Y.Ne},this.internal.vueRendering=function(){return o.Y.Oe},this.internal.upd=function(e){o.vh(e)},l.locale=function(){return DayPilot.Locale.find(o.locale)},l.weekStarts=function(){if("Auto"===o.weekStarts){var e=l.locale();return e?e.weekStarts:0}return o.weekStarts},l.cellWidth=function(){if(o.va.cellWidth)return o.va.cellWidth;var e=o.xh("_cell_dimensions").width;return e||(e=o.cellWidth),o.va.cellWidth=e,e},l.jk=function(){return"Auto"===o.Ba.cellWidth()},this.clearSelection=function(){for(var e=0;e<this.selected.length;e++){var t=this.selected[e];o.zk(t.parentNode,t.x,t.y)}this.selected=[]},this.Jh=function(){return!!this.backendUrl&&("undefined"==typeof o.items||!o.items)},this.events={},this.tb=function(){if(DayPilot.isArray(this.events.list)){this.items={};for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e];if(!t.hidden){var n=new DayPilot.Event(t),i=this.Rk(t);for(var a in i)this.items[a]||(this.items[a]=[]),this.items[a].push(n)}}}},this.xh=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.ca(e);var n=o.root||document.body;n.appendChild(t);var i=t.offsetHeight,a=t.offsetWidth;n.removeChild(t);var r={};return r.height=i,r.width=a,r},this.Rk=function(e){for(var t=new DayPilot.Date(e.start),n=new DayPilot.Date(e.end),i={},a=t.getDatePart(),r=function(){return"Date"===o.eventEndSpec?a.getTime()<=n.getTime():a.getTime()<n.getTime()};r();)i[a.toStringSortable()]=1,a=a.addDays(1);return i},this.show=function(){o.visible=!0,o.root.style.display=""},this.hide=function(){o.visible=!1,o.root.style.display="none"},this.Kh=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+i+"'."}this.root=this.nav.top},this.init=function(){if(this.Kh(),!this.root.dp){this.Ck(),this.ik(),this.Gk(),this.tb(),this.Ak(),this.eb(),this.Sk(),this.Eg();if(this.Jh()&&this.Hk(),this.za=!0,this.Nh(),this.Dk){var e=this.Dk;this.select(e.date1,e.date2,e.options),this.Dk=null}return this}},this.Sk=function(){o.nav.top.onmousedown=this.Mk,o.nav.top.onmousemove=this.Nk},this.Eg=function(){DayPilot.re(document,"mouseup",o.Hg)},this.Hg=function(e){if(s.start&&s.end){var t=DayPilot.mo3(o.nav.top,e);if(t.x===s.start.coords.x&&t.y===s.start.coords.y)return s.start=null,void s.clear();s.clear();var n=s.ordered();n.start=new r(n.start).nextVisible(),n.end=new r(n.end).previousVisible(),o.selectionDay=new r(n.start).date(),o.selectionStart=o.selectionDay,o.selectionEnd=new r(n.end).date(),s.start=null,s.end=null,o.Fj(),o.ik(),o.Gk(),o.Ak(),o.Bk();o.Jc({"mode":"FreeHand"})}s.start=null,s.end=null},this.dispose=function(){var e=o;e.root&&(e.root.removeAttribute("style"),e.root.removeAttribute("class"),e.root.dp=null,e.root.innerHTML=null,e.root=null,e.Aa=!0)},this.disposed=function(){return this.Aa},this.eb=function(){this.root.dispose=this.dispose},this.Init=this.init,this.wh(a)},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotNavigator=function(e){var t=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Navigator(this.id);this.daypilot=n;for(var i in e)n[i]=e[i];n.Init(),t||(t=n)}});return 1===this.length?t:n}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotNavigator",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,n){return t.replaceWith(this["template"].replace("{{id}}",n["id"])),function(t,n,i){var a=new DayPilot.Navigator(n[0]);a.nh.scope=t,a.init();var r=i["id"];r&&(t[r]=a);var o=i["publishAs"];if(o){(0,e(o).assign)(t,a)}for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(n){a[n]=function(a){var r=e(i[n]);t["$apply"](function(){r(t,{"args":a})})}}(l):!function(n){a[n]=function(a){e(i[n])(t,{"args":a})}}(l)}var d=t["$watch"],c=i["config"]||i["daypilotConfig"],u=i["events"]||i["daypilotEvents"];d.call(t,c,function(e){for(var t in e)a[t]=e[t];a.update()},!0),d.call(t,u,function(e){a.events.list=e,a.tb(),a.Ak()},!0)}}}}])}(),DayPilot.Navigator.def={},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),function(DayPilot){"use strict";"undefined"!=typeof DayPilot.Queue&&DayPilot.Queue.def||(DayPilot.Queue=function(e,t){this.v="2025.4.6765";var n=this;this.id=e,"function"==typeof DayPilot.Bubble?this.bubble=new DayPilot.Bubble:this.bubble=null,this.autoScroll="Drag",this.contextMenu=null,this.eventBarVisible=!0,this.eventBorderRadius=null,this.eventHeight=35,this.eventTextWrappingEnabled=!1,this.height=null,this.lineSpace=5,this.tapAndHoldTimeout=300,this.theme=null,this.emptyText="",this.emptyHtml=null,this.eventClickHandling="Enabled",this.eventHoverHandling="Bubble",this.eventRightClickHanding="ContextMenu",this.eventSelectHandling="Update",this.onBeforeEventRender=null,this.onEventClick=null,this.onEventClicked=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventMove=null,this.onEventMoving=null,this.onEventSelect=null,this.onEventSelected=null,this.za=!1,this.Tk="queue_default",this.Uk=[],this.Vk=!1,this.Wk=!1,this.Xk=null,this.nav={},this.events={},this.events.list=[],this.elements={},this.elements.events=[];var i=function(){return document.createElement("div")};this.Kh=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw new DayPilot.Exception("DayPilot.Queue() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new DayPilot.Exception("DayPilot.Queue: The placeholder element not found: '"+e+"'.")}},this.ca=function(e){var t=this.theme||this.Tk;return t?t+e:""},this.Od=function(){n.nav.container.innerHTML="",n.Yk=null,n.Bb(),n.yj(),n.tb(),n.Fb(),n.Zk()},this.yj=function(){var e=n.nav.top;e.className=n.$k,DayPilot.Util.addClass(e,n.ca("_main"))},this.Bb=function(){n.height!==n.Xk&&(n.nav.top.style.height=n.height,n.Xk=n.height)},this.tb=function(){var e={},t=n.events.list||[];n.Uk=[];for(var i=0;i<t.length;i++){var a=t[i];if(!("string"==typeof a.id||"number"==typeof a.id))throw new DayPilot.Exception("All events must have an id property (string or number)");var r=typeof a.id+"_"+a.id;if(e[r])throw new DayPilot.Exception("Duplicate IDs not allowed: '"+r+"'");e[r]=!0;var o=DayPilot.Util.copyProps(a);n.Kg(o);var l={};l.data=a,l.cache=o,n.Uk.push(l)}},this.Ia={},this.Ia.Oc=[],this.Ia.Uk=[];var a=n.Ia;this.Ia.L=function(e){var t=e.event;a._k(),a.al(e),a.Oc[0]=t},this.Ia.al=function(e){a.Uk[0]=e;var t=n.ca("_selected");DayPilot.Util.addClass(e,t)},this.Ia.bl=function(e){a.Uk=[];var t=n.ca("_selected");DayPilot.Util.removeClass(e,t)},this.Ia.Dd=function(e){return n.Ia.Uk.find(function(t){return t.event.data.id===e})},this.Ia._k=function(){var e=a.Uk[0];e&&a.bl(e),a.Oc=[]},this.Kg=function(e){var t={};t.data=e,"function"==typeof n.onBeforeEventRender&&n.onBeforeEventRender(t)},this.Zk=function(){if(0===n.events.list.length){var e=n.nav.container,t=i();n.emptyHtml?t.innerHTML=n.emptyHtml:t.innerText=n.emptyText,e.appendChild(t)}},this.Fb=function(){var e=n.Uk;n.elements.events=[],e.forEach(function(e){n.Ue(e)})},this.Ue=function(e){var t=e.cache,a=e.data,r=t.borderRadius||n.eventBorderRadius;"number"==typeof r&&(r+="px");var o=n.nav.container,l=i();l.className=n.ca("_event"),l.style.height=n.eventHeight+"px",l.style.boxSizing="border-box",l.style.overflow="hidden",l.style.marginTop=n.lineSpace+"px",l.style.position="relative",n.eventTextWrappingEnabled||(l.style.whiteSpace="nowrap"),l.addEventListener("click",n.Tj),l.addEventListener("contextmenu",n.cl),n.Ia.Dd(a.id)&&n.Ia.al(l);var s=i();if(s.className=n.ca("_event_inner"),"string"==typeof t.html?s.innerHTML=t.html:s.innerText=t.text,r&&(l.style.borderRadius=r,s.style.borderRadius=r),t.cssClass&&DayPilot.Util.addClass(l,t.cssClass),t.backColor&&(s.style.background=t.backColor),t.fontColor&&(s.style.color=t.fontColor),"darker"===t.borderColor&&t.backColor?s.style.borderColor=DayPilot.ColorUtil.darker(t.backColor,2):s.style.borderColor=t.borderColor,t.backImage&&(s.style.backgroundImage="url("+t.backImage+")",t.backRepeat&&(s.style.backgroundRepeat=t.backRepeat)),l.appendChild(s),l.onmousemove=this.Ve,l.onmouseleave=this.Ze,n.eventBarVisible&&!t.barHidden){var d=i();d.className=n.ca("_event_bar"),d.style.position="absolute",t.barColor&&(d.style.backgroundColor=t.barColor),l.appendChild(d)}var c={"eventDiv":l,"areas":t.areas,"allowed":function(){return!(n.Vk||n.Wk)}},u=new DayPilot.Event(a,n);u.cache=t,l.event=u,DayPilot.Areas.attach(l,u,c),n.dl(l,a),o.appendChild(l),n.elements.events.push(l)},this.Ve=function(){"undefined"!=typeof DayPilot.Bubble&&n.bubble&&"Bubble"===n.eventHoverHandling&&n.bubble.showEvent(this.event)},this.Ze=function(){n.bubble&&n.bubble.hideOnMouseOut()},this.cl=function(e){if(e.preventDefault(),"Disabled"!==n.eventRightClickHandling){var t=e.currentTarget,i=t.event,a={};if(a.e=t.event,a.preventDefault=function(){a.preventDefault.value=!0},"function"==typeof n.onEventRightClick&&n.onEventRightClick(a),!a.preventDefault.value){switch(n.eventRightClickHanding){case"Enabled":break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):n.contextMenu&&n.contextMenu.show(i)}"function"==typeof n.onEventRightClicked&&n.onEventRightClicked(a)}}},this.Tj=function(e){if(e.preventDefault(),e.stopPropagation(),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"!==n.eventClickHandling){var t=e.currentTarget,i=t.event,a={};if(a.e=i,a.preventDefault=function(){a.preventDefault.value=!0},"function"==typeof n.onEventClick&&n.onEventClick(a),!a.preventDefault.value){switch(n.eventClickHandling){case"Select":n.Nc(t,i);break;case"Enabled":}"function"==typeof n.onEventClicked&&n.onEventClicked(a)}}},this.Nc=function(e,t){var i={};if(i.e=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof n.onEventSelect||(n.onEventSelect(i),!i.preventDefault.value)){switch(n.eventSelectHandling){case"Update":n.Ia.L(e)}"function"==typeof n.onEventSelected&&n.onEventSelected(i)}},this.el=function(e,t){var i=n.fl,a={},r=function(){a.loaded=function(){},a.preventDefault.value||(n.events.list.splice(i,0,e),n.Od(),n.gl(a))};a.async=!1,a.e=new DayPilot.Event(e,n),a.position=i,a.source=t,a.external=!0,a.control=n,a.preventDefault=function(){a.preventDefault.value=!0},a.loaded=function(){r()},n.hl(a),a.async||r()},this.il=function(e){var t=n.fl,i=n.events.list.indexOf(e),a=!1;n.Vk&&i<t&&(t-=1,a=!0);var r={},o=function(){r.loaded=function(){},r.preventDefault.value||(n.jl(n.events.list,i,t),n.Od(),n.gl(r))};r.async=!1,r.e=new DayPilot.Event(e,n),r.position=t+(a?1:0),r.source=n,r.external=!1,r.preventDefault=function(){r.preventDefault.value=!0},r.loaded=function(){o()},n.hl(r),r.async||o()},this.hl=function(e){"function"==typeof n.onEventMove&&n.onEventMove(e)},this.gl=function(e){"function"==typeof n.onEventMoved&&n.onEventMoved(e)},this.jl=function(e,t,n){var i=e[t];e.splice(t,1),e.splice(n,0,i)},this.kl=function(){var e=function(){};"undefined"!=typeof DayPilot.Scheduler?e=DayPilot.Scheduler.registerDropTarget:"undefined"!=typeof DayPilot.Calendar&&(e=DayPilot.Calendar.registerDropTarget),e({element:n.nav.top,onDrop:function(e){n.Wk=!1;var t=e.e,i=t.data,a=e.e.calendar;n.el(i,a)},onDragOver:function(){n.Wk=!0},onDragLeave:function(){n.Wk=!1}})},this.Yk=null,this.ll=function(e){n.fl=e;var t=n.Yk||i(),a=n.nav.container,r=n.eventHeight+n.lineSpace,o=n.lineSpace/2+1,l=e*r-o;t.style.top=l+"px",n.Yk||(t.className=n.ca("_shadow"),t.style.position="absolute",t.style.left="0px",t.style.right="0px",t.style.height="2px",n.Yk=t,a.appendChild(t))},this.ml=function(){n.fl=null,DayPilot.de(n.Yk),n.Yk=null},this.Ii=null,this.fl=null,this.nl=function(e){var t=n.nav.container,i=DayPilot.mo3(t,e);if(n.Ii=i,n.Vk||n.Wk){var a=n.eventHeight+n.lineSpace,r=Math.floor((i.y+n.eventHeight/2)/a);if(r<0&&(r=0),r>n.Uk.length&&(r=n.Uk.length),n.ll(r),"Drag"===n.autoScroll){var o=n.nav.top,l=DayPilot.mo3(o,e),s=20,d=l.y<s,c=l.y>o.clientHeight-s;if(d){var u=-(s-l.y);n.ol(u)}else if(c){var u=l.y-(o.clientHeight-s);n.ol(u)}else n.ql()}}},this.ol=function(e){var t=this,i=n.nav.top,a=function(){var n=Math.max(0,i.scrollHeight-i.clientHeight),r=Math.max(0,Math.min(i.scrollTop+e,n));r!==i.scrollTop&&(i.scrollTop=r,t.rl=requestAnimationFrame(a))};cancelAnimationFrame(this.rl),this.rl=requestAnimationFrame(a)},this.ql=function(){cancelAnimationFrame(this.rl),this.rl=null},this.sl=function(){n.ml(),n.ql()},this.tl=function(){if(n.Vk){var e=n.ul;n.il(e),n.ul=null}},this.vl=function(){var e=i();n.nav.container=e;var t=n.nav.top;n.$k=t.className||"",e.style.position="relative";var a=!1;document.addEventListener("pointermove",function(e){var i=t.getBoundingClientRect(),r=e.clientX,o=e.clientY;r>=i.left&&r<=i.right&&o>=i.top&&o<=i.bottom?(n.nl(e),a||(a=!0)):a&&(a=!1,n.sl(e))}),t.addEventListener("mouseup",n.tl),t.addEventListener("touchend",n.tl),t.appendChild(e)},this.dl=function(e,t){var i=e,a={element:i,data:t,keepElement:!0,externalCssClass:"",externalHtml:"",tapAndHoldTimeout:n.tapAndHoldTimeout,onDragStart:function(){n.Vk=!0,n.ul=t,i.style.opacity="0.5"},onDrop:function(){n.Vk=!1,i.style.opacity=""}},r=function(){};"undefined"!=typeof DayPilot.Scheduler?r=DayPilot.Scheduler.makeDraggable:"undefined"!=typeof DayPilot.Calendar&&(r=DayPilot.Calendar.makeDraggable),r(a)},this.wh=function(e){if(e){var t={"events":{"preInit":function(){var e=this.data;e&&(n.events.list=e)}}};for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else n[i]=e[i]}},this.W={},this.W.reactDOM=null,this.W.react=null,this.W.V=function(e,t){var i=n.W.reactDOM;if("function"==typeof i.createRoot){var a=t.ma;a||(a=i.createRoot(t),t.ma=a),a.render(e)}else i.render(e,t)},this.W.ka=function(e){var t=n.W.reactDOM;if("function"==typeof t.createRoot){var i=e.ma;setTimeout(function(){i.unmount()},0)}else t.unmountComponentAtNode(e)},this.kh=function(e){if(!e)return null;for(var t=0;t<n.elements.events.length;t++){var i=n.elements.events[t];if(DayPilot.Util.isSameEvent(i.event,e))return i}return null},this.multiselect={},this.multiselect.add=function(e){"number"!=typeof e&&"string"!=typeof e||(e=n.events.find(e)),e instanceof DayPilot.Event&&(e=e.data);var t=n.kh(e);t&&n.Ia.L(t)},this.multiselect.clear=function(){n.Ia._k()},this.multiselect.get=function(){var e=[],t=a.Oc[0];if(t){var n=t.event;e.push(n)}return e},this.events.add=function(e){e instanceof DayPilot.Event&&(e=e.data),n.events.list.push(e),n.Od()},this.events.remove=function(e){if(e){"number"!=typeof e&&"string"!=typeof e||(e=n.events.find(e)),e instanceof DayPilot.Event&&(e=e.data);var t=n.oh(e);t&&n.events.list.splice(t.index,1),n.Ia.Dd(e.id)&&n.multiselect.clear(),n.Od()}},this.events.update=function(e){if(e instanceof DayPilot.Event&&(e=e.data),n.events.find(e.id)){var t=n.oh(e);t&&n.events.list.splice(t.index,1,e),n.Od()}},this.events.find=function(e){var t=n.events.list.find(function(t){return t.id===e});return t?new DayPilot.Event(t,n):null},this.oh=function(e){if(!n.events.list)return null;for(var t=0;t<this.events.list.length;t++){var i=this.events.list[t];if(n.Ld(i,e)){var a={};return a.ex=i,a.index=t,a.modified=!n.ph(e,i),a}}return null},this.Ld=function(e,t){return DayPilot.Util.isSameEvent(e,t)},this.ph=function(e,t){for(var n in e)if(("object"!=typeof e[n]||e[n]instanceof DayPilot.Date)&&e[n]!==t[n])return!1;for(var i in t)if("object"!=typeof t[i]&&e[i]!==t[i])return!1;return!0},this.init=function(){if(this.za)throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");if(this.Kh(),this.nav.top.dp){if(this.nav.top.dp===n)return n;throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")}return this.kl(),this.vl(),this.Od(),this.za=!0,this},this.update=function(e){n.vh(e)},this.vh=function(e){if(!n.za)throw new DayPilot.Exception("You are trying to update a DayPilot.Queue instance that hasn't been initialized yet.");if(n.Aa)throw new DayPilot.Exception("You are trying to update a DayPilot.Queue instance that has been disposed.");this.wh(e),this.Od()},this.dispose=function(){var e=n.nav.top,t=function(){};"undefined"!=typeof DayPilot.Scheduler?t=DayPilot.Scheduler.unregisterDropTarget:"undefined"!=typeof DayPilot.Calendar&&(t=DayPilot.Calendar.unregisterDropTarget),t({element:e}),e.innerHTML="",n.Aa=!0},this.disposed=function(){return this.Aa},this.Y={},this.Y.Ne=null,this.Y.Z=function(e,t,i){var a=n.Y.Ne;if("function"==typeof a.createVNode&&"function"==typeof a.render){var r=a.createVNode(e,i);a.render(r,t)}},this.Y.Pe=function(e,t){var i=n.Y.Ne;if("function"==typeof i.render){var a=e;DayPilot.isArray(e)&&(a=i.h("div",null,e)),i.render(a,t)}},this.Y.la=function(e){var t=n.Y.Ne;"function"==typeof t.render&&t.render(null,e)},this.internal={},this.internal.loadOptions=function(e){n.wh(e)},this.internal.upd=function(e){n.vh(e)},this.internal.enableReact=function(e,t){n.W.react=e,n.W.reactDOM=t},this.internal.reactRefs=function(){return DayPilot.Util.copyProps(n.W,{},["react","reactDOM"])},this.internal.findEventDiv=this.kh,this.internal.enableVue=function(e){n.Y.Ne=e},this.internal.vueRef=function(){return n.Y.Ne},this.internal.vueRendering=function(){return n.Y.Oe},this.wh(t)},DayPilot.Queue.def={})}(DayPilot),function(DayPilot){"use strict";function e(e){for(var t=e.touches[0].clientX,n=e.touches[0].clientY,i=document.elementFromPoint(t,n);i&&i.parentNode;)if(i=i.parentNode,i.daypilotMainD)return i.calendar;return!1}function t(e){var t=e.touches[0].pageX,n=e.touches[0].pageY,i={};return i.x=t,i.y=n,i}if("undefined"==typeof DayPilot.Scheduler||!DayPilot.Scheduler.def){var n={},i=function(){},a=!1,r=function(){return document.body},o=function(){return document.createElement("div")},l=DayPilot.Util.overlaps,s=DayPilot.Util.removeClass,d=DayPilot.Util.addClass,c=DayPilot.Util.div,u=DayPilot.Util.atLeast,h=DayPilot.Util.atMost,f=DayPilot.Util.isNullOrUndefined,v=DayPilot.Util.copyProps,p=DayPilot.Util.isReactComponent,m=DayPilot.Util.isVueComponent,g=DayPilot.Util.isVueVNode,b=DayPilot.Util.mouseButton,y=DayPilot.Global,w=DayPilot.list,x=DayPilot.contains,k=DayPilot.de,C=DayPilot.indexOf,_=DayPilot.isArray,T={},D={};DayPilot.Scheduler=function(e,a){function S(e){e.div.style.height=e.height+"px",e.div.style.top=e.top+"px",H.Lu(e.div,e.enabled()),e.divHeader.style.height=e.heightRes+"px",e.divHeader.style.top=e.top+"px",H.Lu(e.divHeader,e.enabled()),e.divSpace&&(e.divSpace.style.top=e.height+"px")}function E(e,t){return 1-e/t}this.v="2025.4.6765";var H=this;this.id=e,this.isScheduler=!0,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.api=2,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.autoScrollDelay=100,this.autoScrollHorizontal=!0,this.autoScrollRectangleSelection=!0,this.autoScrollSpeed=50,this.autoScrollVertical=!0,this.blockOnCallBack=!1,this.navigatorBackSync=null,this.backendUrl=null,this.beforeCellRenderCaching=!0,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.cellsMarkBusiness=!0,this.cornerText="",this.cornerHtml=null,this.crosshairTimeHeaderLevel="Last",this.crosshairType="Header",this.cssClass=null,this.cssClassPrefix="scheduler_default",this.days=1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.drawBlankCells=!0,this.durationBarHeight=null,this.durationBarVisible=!0,this.durationBarMode="Duration",this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventBorderRadius=null,this.eventBubbleShowForMargins=!1,this.eventEditMinWidth=100,this.eventEditTabNext=!1,this.eventEndSpec="DateTime",this.eventHeight=35,this.eventHtmlLeftMargin=10,this.eventHtmlRightMargin=10,this.eventMarginLeft=0,this.eventMarginRight=0,this.eventMarginBottom=0,this.eventMinWidth=1,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventMoveSkipNonBusiness=!1,this.eventPadding=null,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventUpdateInplaceOptimization=!1,this.eventsLoadMethod="GET",this.eventVersionHeight=25,this.eventVersionMargin=2,this.eventVersionPosition="Above",this.eventVersionsEnabled=!1,this.eventVersionsReserveSpace=!1,this.floatingEvents=!DayPilot.browser.ios,this.floatingTimeHeaders=!0,this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,
this.headerHeight=30,this.heightSpec="Max",this.height=600,this.hideBorderFor100PctHeight=!1,this.hideUntilInit=!0,this.infiniteScrollingEnabled=!1,this.infiniteScrollingMargin=50,this.infiniteScrollingStepDays=30,this.initEventEnabled=!0,this.jointEventsResize=!0,this.jointEventsMove=!0,this.keyboardEnabled=!1,this.keyboardTarget="document",this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=17,this.linkDotSize=8,this.linkLayer="Above",this.linkPointSize=10,this.linkShape="Curved",this.linksLoadMethod="GET",this.linkWidth="Auto",this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelHtml=null,this.loadingLabelVisible=!0,this.overrideWheelScrolling=!1,this.messageBarPosition="Top",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiRangeMode="CtrlOrMeta",this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rectangleSelectMode="Free",this.rectangleSelectHandling="Disabled",this.rowCreateHeight=null,this.rowCreateHtml=null,this.rowCreateText="New row...",this.rowCreateAllowTimeRangeSelection=!1,this.rowDragHandleWidth=10,this.rowDragHandleVisibility="Hover",this.rowEmptyHeight=null,this.rowFilterParentsAlwaysVisible=!0,this.rowHeaderColumnDefaultWidth=80,this.rowHeaderColumnHeaderHeight=null,this.rowHeaderColumnsResizable=!0,this.rowHeaderColumnsMode="Tabular",this.rowHeaderColumns=null,this.rowHeaderColumnsMergeParents=!0,this.rowHeaderHideIconEnabled=!1,this.rowHeaderResizable=!0,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthAutoFitShrink=!1,this.rowHeaderWidthMarginRight=0,this.rowHeaderWidthMin=20,this.rowHeaderWidth=80,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.rowReverseLines=!1,this.rowsLoadMethod="GET",this.rowSortingMode="LeavesOnly",this.scale="CellDuration",this.scaleManualLimitBeyond=!0,this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=DayPilot.browser.ios?100:0,this.scrollDelayFloats=0,this.scrollDelayRows=0,this.scrollStep=null,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.separators=[],this.showCurrentTimeHeader=!1,this.showNonBusiness=!0,this.showNonBusinessForceHours=!1,this.showToolTip=!0,this.snapToGrid=!0,this.snapToGridTimeRangeSelecting=!0,this.snapToGridEventMoving=!0,this.snapToGridEventResizing=!0,this.startDate=DayPilot.Date.today(),this.syncResourceTree=!1,this.tapAndHoldTimeout=300,this.timeHeaders=[{"groupBy":"Default"},{"groupBy":"Cell"}],this.timeHeaderPosition="Top",this.timeHeaderTextWrappingEnabled=!1,this.treeAnimation=!0,this.treeAutoExpand=!0,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=0,this.treeImageMarginTop=3,this.treeImageMarginRight=5,this.treeImageWidth=10,this.treeImageHeight=10,this.treePreventParentUsage=!1,this.timeFormat="Auto",this.timeline=null,this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.watchWidthChanges=!0,this.weekStarts="Auto",this.width=null,this.xssProtection="Enabled",this.zoomLevels=[],this.zoomPosition="left",this.eventClickHandling="Enabled";this.eventDeleteHandling="Disabled";this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.resourceCollapseHandling="Enabled",this.resourceExpandHandling="Enabled",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowRightClickHandling="ContextMenu",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.rowMoveSameLevelOnly=!1,this.rowMoveFireOnForbiddenTarget=!1,this.timeHeaderClickHandling="Enabled",this.timeHeaderRightClickHandling="Enabled",this.timeRangeClickHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy","function"==typeof DayPilot.Bubble?this.bubble=new DayPilot.Bubble:this.bubble=null,this.cellBubble=null,this.resourceBubble=null,this.linkBubble=null,this.groupBubble=null,this.rowHeaderColumnBubble=null,this.timeHeaderBubble=null,this.contextMenu=null,this.contextMenuResource=null,this.contextMenuSelection=null,this.contextMenuLink=null,1===H.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventClick=null,this.onEventClicked=null,this.onEventEdit=null,this.onEventEdited=null,this.onEventEditKeyDown=null,this.onEventMove=null,this.onEventMoved=null,this.onEventMoveStart=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizeStart=null,this.onEventResizing=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventMouseEnter=null,this.onEventMouseLeave=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onIncludeTimeCell=null,this.onKeyboardFocusChange=null,this.onKeyboardFocusChanged=null,this.onLinkClick=null,this.onLinkClicked=null,this.onLinkCreate=null,this.onLinkCreated=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowMouseOver=null,this.onRowMouseOut=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowMoveStart=null,this.onRowRightClick=null,this.onRowRightClicked=null,this.onScroll=null,this.onScrollEnd=null,this.onTimeHeaderClick=null,this.onTimeHeaderClicked=null,this.onTimeHeaderRightClick=null,this.onTimeHeaderRightClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeDoubleClick=null,this.onTimeRangeDoubleClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onRowHeaderColumnResized=null,this.onRowHeaderResized=null,this.onCellMouseEnter=null,this.onCellMouseLeave=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onGridMouseDown=null,this.onBeforeCellRender=null,this.onBeforeCellDomAdd=null,this.onBeforeCellDomRemove=null,this.onBeforeCornerRender=null,this.onBeforeCornerDomAdd=null,this.onBeforeCornerDomRemove=null,this.onBeforeEventRender=null,this.onBeforeEventDomAdd=null,this.onBeforeEventDomRemove=null,this.onBeforeGridLineRender=null,this.onBeforeLinkRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeTimeHeaderDomAdd=null,this.onBeforeTimeHeaderDomRemove=null,this.onBeforeResHeaderRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeRowHeaderColumnRender=null,this.onBeforeRowHeaderDomAdd=null,this.onBeforeRowHeaderDomRemove=null,this.onBeforeCellExport=null,this.onBeforeCornerExport=null,this.onBeforeEventExport=null,this.onBeforeTimeHeaderExport=null,this.onBeforeRowHeaderExport=null,this.onAfterEventRender=null,this.onAfterCellRender=null,this.onAfterEventEditRender=null,this.onEventFilter=null,this.onRowFilter=null,this.onRectangleSelecting=null,this.onRectangleSelect=null,this.onRectangleSelected=null,this.onDimensionsChanged=null,this.onAfterUpdate=null,this.onAfterRender=null,this.ya=0,this.wl=!0,this.xl=!1,this.yl=!1,this.zl=!1,this.Al=-1,this.Bl=-1,this.Aa=!1,this.Cl=-1,this.Dl=!1,this.El=!0,this.rowlist=w(),this.itline=w(),this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.elements.timeHeader=[],this.va={},this.va.cells=[],this.va.Fl={},this.va.Gl={},this.va.timeHeaderGroups=[],this.va.timeHeader={},this.va.pixels=[],this.va.breaks=[],this.va.events=[],this.va.Hl=[],this.clientState={},this.Ba={};var M=this.Ba;this.Il={};var A=this.Il;this.Jl={};var R=this.Jl;this.Ca={};var B=H.Ca,N={};this.Kl={};var P=this.Kl;this.Ll={};var L=this.Ll,z={};this.rows={},this.rows.selection={};var I=this.rows.selection;this.Ml={};var O=this.Ml,j={};this.Nl=j,this.Ol={};var U=this.Ol;this.Pl={};var W=this.Pl,Y={};this.Ql=Y,this.Rl={};var q=this.Rl;this.Sl={};var F=this.Sl;this.Fa={};var V=this.Fa;this.Tl={};var J=this.Tl,G={};this.nav={},this.Ta=function(e){var t=JSON.parse(e);if(H.onScrollCalled=!1,t.VsUpdate){var n=document.createElement("input");n.type="hidden",n.name=H.id+"_vsupdate",n.id=n.name,n.value=t.VsUpdate,H.Dj.innerHTML="",H.Dj.appendChild(n)}if(t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if(t.BubbleGuid){var i=t.BubbleGuid,a=this.bubbles[i];return delete this.bubbles[i],H.nb(),"undefined"!=typeof t.Result.BubbleHTML&&a&&a.updateView(t.Result.BubbleHTML,a),void H.Ul()}if("function"==typeof H.onCallBackResult){var r={};if(r.result=t,r.preventDefault=function(){r.preventDefault.value=!0},H.onCallBackResult(r),r.preventDefault.value)return H.Dc(),H.nb(),H.Jb(),t.Message&&H.message&&H.message(t.Message),H.ob(t.CallBackData,!0),H.Ul(),void H.Ka()}return"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"undefined"!=typeof t.ClientState&&(null===t.ClientState?H.clientState={}:H.clientState=t.ClientState),"None"===t.UpdateType?(H.nb(),H.Ul(),t.Message&&H.message(t.Message),void H.ob(t.CallBackData,!0)):("undefined"!=typeof t.TagFields&&(H.tagFields=t.TagFields),"undefined"!=typeof t.SortDirections&&(H.sortDirections=t.SortDirections),H.va.drawArea=null,"Full"===t.UpdateType&&(H.resources=t.Resources,H.colors=t.Colors,H.palette=t.Palette,H.dirtyColors=t.DirtyColors,H.cellProperties=t.CellProperties,H.cellConfig=t.CellConfig,H.separators=t.Separators,H.timeline=t.Timeline,H.timeHeader=t.TimeHeader,H.timeHeaders=t.TimeHeaders,"undefined"!=typeof t.Links&&(H.links.list=t.Links),"undefined"!=typeof t.RowHeaderColumns&&(H.rowHeaderColumns=t.RowHeaderColumns),H.startDate=t.StartDate?new DayPilot.Date(t.StartDate):H.startDate,H.days=t.Days?t.Days:H.days,H.cellDuration=t.CellDuration?t.CellDuration:H.cellDuration,H.cellGroupBy=t.CellGroupBy?t.CellGroupBy:H.cellGroupBy,H.cellWidth=t.CellWidth?t.CellWidth:H.cellWidth,"undefined"!=typeof t.CellWidthSpec&&(H.cellWidthSpec=t.CellWidthSpec),"undefined"!=typeof t.Scale&&(H.scale=t.Scale),H.viewType=t.ViewType?t.ViewType:H.viewType,"undefined"!=typeof t.ShowNonBusiness&&(H.showNonBusiness=t.ShowNonBusiness),H.businessBeginsHour=t.BusinessBeginsHour?t.BusinessBeginsHour:H.businessBeginsHour,H.businessEndsHour=t.BusinessEndsHour?t.BusinessEndsHour:H.businessEndsHour,"undefined"!=typeof t.DynamicLoading&&(H.dynamicLoading=t.DynamicLoading),"undefined"!=typeof t.TreeEnabled&&(H.treeEnabled=t.TreeEnabled),H.locale=t.Locale?t.Locale:H.locale,"undefined"!=typeof t.TimeZone&&(H.timeZone=t.TimeZone),H.timeFormat=t.TimeFormat?t.TimeFormat:H.timeFormat,H.rowHeaderCols=t.RowHeaderCols?t.RowHeaderCols:H.rowHeaderCols,"undefined"!=typeof t.DurationBarMode&&(H.durationBarMode=t.DurationBarMode),"undefined"!=typeof t.CornerHTML&&(H.cornerHtml=t.CornerHTML),H.hashes=t.Hashes,H.Vl(),H.Wl(),H.Xl(),H.sb(),H.Yl()),"Scroll"!==t.Action&&(H.tb(t.Events),Y.Zl()),"Full"===t.UpdateType&&(H.$l(),H._l(),H.bm(),H.cm()),H.dm(),H.D(),H.Hb(),H.va.drawArea=null,"Scroll"!==t.Action?(H.em(),H.ub(),"Auto"!==H.heightSpec&&"Max"!==H.heightSpec||H.Bb(),H.fm(),H.Ya(),H.gm(),H.multiselect.clear(!0),H.multiselect.hm(t.SelectedEvents),H.im(),H.jm(),H.Fb()):(H.multiselect.clear(!0),H.multiselect.hm(t.SelectedEvents),H.km(t.Events)),"HoldForever"!==H.timeRangeSelectedHandling&&H.lm(),"Full"===t.UpdateType&&(H.setScroll(t.ScrollX,t.ScrollY),H.Bk()),H.mm(),H.Dc(),t.SelectedRows&&H.nm(t.SelectedRows),H.nb(),"Full"===t.UpdateType&&navigator.appVersion.indexOf("MSIE 7.")!==-1&&window.setTimeout(function(){H.$l(),H._l(),H.Bb()},0),H.Jb(),t.Message&&H.message&&H.message(t.Message),H.ob(t.CallBackData,!0),H.Ul(),H.Ka(),void("Full"!==t.UpdateType||"Scroll"===t.Action||H.onScrollCalled||setTimeout(function(){H.om()},0)))},this.Dc=function(){if(H.pm&&H.pm.qm){var e=H.pm.qm;e.parentNode.removeChild(e),H.pm.qm=null}},this.ob=function(e,t){var n=function(e,t){return function(){if(H.Kb()){if("function"==typeof H.onAfterRender){var n={};n.isCallBack=t,n.isScroll=!1,n.data=e,H.onAfterRender(n)}}else H.afterRender&&H.afterRender(e,t)}};window.setTimeout(n(e,t),0)},this.scrollTo=function(e,t,n){if(H.infiniteScrollingEnabled){if(H.za){var i=H.getPixels(H.visibleEnd()).left,a=i-H.infiniteScrollingMargin-H.nav.scroll.clientWidth,r=H.getDate(a,!0,!0);if(!l(H.visibleStart(),r,e,e))return void H.infinite.scrollTo(e)}return void H.rm(e,t,n)}H.sm.enabled?(H.sm.scrollToRequested=e,setTimeout(function(){var e=H.sm.scrollToRequested;e&&(H.tm=null,H.rm(e,t,n))},0)):H.rm(e,t,n)},this.rm=function(e,t,n){if(e){if(!H.za)return void(H.tm={"date":e,"animated":t,"position":n});if(H.um&&H.nav.scroll){if("Days"===H.viewType){var i=new DayPilot.Date(e),a=H.vm(i);if(!a)return;if(H.W.react){var r=a.top-H.wm.top.height;H.nav.scroll.scrollTop=r}else setTimeout(function(){var e=a.top-H.wm.top.height;H.nav.scroll&&(H.nav.scroll.scrollTop=e)},100);var o=i.getTimePart();e=H.visibleStart().getDatePart().addTime(o)}var l;if(e instanceof DayPilot.Date)l=this.getPixels(e).left;else if("string"==typeof e)l=this.getPixels(new DayPilot.Date(e)).left;else{if("number"!=typeof e)throw new DayPilot.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");l=e}var s=H.um.clientWidth,d=H.nav.scroll.clientWidth;switch(n=n||"left",n.toLowerCase()){case"left":break;case"middle":l-=d/2;break;case"right":l-=d}if(l<0&&(l=0),l>s-d&&(l=s-d),!t||"none"===t)return void H.xm(l);var c=Math.abs(H.nav.scroll.scrollLeft-l),u=c/s,h=50;if("number"==typeof t)h=t;else if("string"==typeof t)switch(t){case"fast":h=30;break;case"normal":h=50;break;case"slow":h=100;break;case"linear":h=Math.floor(100*u)}u>.6&&(h=Math.min(h,80)),H.ym(l,h)}}},this.ym=function(e,t){function n(e){var t,i=e.next();return"undefined"==typeof i?void(null===(t=e.finished)||void 0===t?void 0:t.call(e)):(H.setScrollX(i),window.clearTimeout(H.refreshTimeout),void setTimeout(function(){n(e)},e.delay))}var i={};i.steps=[],i.index=0,i.delay=10,i.next=function(){var e=i.steps[i.index];return i.index+=1,e},i.finished=function(){H.om()};var a=H.getScrollX();t=t||100;for(var r=e-a,o=0;o<t;o++){var l=o/t,s=2*(l-.5)/(Math.pow(2*(l-.5),2)+1)+.5;i.steps.push(a+r*s)}i.steps.push(e),n(i)},this.scrollToResource=function(e){DayPilot.complete(function(){var t;if("string"==typeof e||"number"==typeof e)t=H.zm(e);else{if(!(e instanceof DayPilot.Row))throw new DayPilot.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");t=H.zm(e.id)}t&&setTimeout(function(){var e=0;"main"===t.grid&&(e=H.wm.top.height,H.nav.scroll.scrollTop=t.top-e)},100)})},this.Am=function(){if(this.floatingTimeHeaders&&this.timeHeader){var e=H.xd();if(e){H.Bm();for(var t=e.pixels.left+q.Cm,n=e.pixels.right+q.Cm+e.sw,i=[],a=0;a<this.timeHeader.length;a++)for(var r=0;r<this.timeHeader[a].length;r++){var o=this.timeHeader[a][r],l=o.left,s=o.left+o.width,d=null;if(l<t&&t<s&&(d={},d.x=r,d.y=a,d.marginLeft=t-l,d.marginRight=0,d.div=H.va.timeHeader[r+"_"+a],i.push(d)),l<n&&n<s){d||(d={},d.x=r,d.y=a,d.marginLeft=0,d.div=H.va.timeHeader[r+"_"+a],i.push(d)),d.marginRight=s-n;break}}for(var c=0;c<i.length;c++){var d=i[c];H.Dm(d.div,d.marginLeft,d.marginRight)}H.Em()}}},this.mm=function(){H.Am(),H.Fm()},this.Gm={};var X=H.Gm;X.Hm=function(e,t,n,i){for(var a=e,r=e+n,o=t,s=t+i,d=H.gi(t),c=d.i,u=H.gi(t+i),h=u.i,f=[],v=c;v<=h;v++)f.push(H.rowlist[v]);return w(f.map(function(e){return e.events}).reduce(function(e,t){return e.concat(t)},[])).filter(function(e){var t=e.part.left,n=e.part.left+e.part.width,i=H.rowlist[e.part.dayIndex],d=i.top+e.part.top,c=d+e.part.height;if(l(t,n,a,r)&&l(d,c,o,s))return!0})},X.Uk=function(e){var t=[],n=e||"All",i=H.xd();if(!i)return w(t);for(var a=i.pixels.left,r=i.pixels.right,o=0;o<H.elements.events.length;o++){var s=H.elements.events[o],d=s.event,c=d.part.left,u=d.part.left+d.part.width;switch(n){case"Left":c<a&&a<u&&t.push(s);break;case"All":l(c,u,a,r)&&t.push(s)}}return w(t).addProps({"area":i})},this.Fm=function(){if(this.floatingEvents){var e=X.Uk("Left");H.Im(),e.filter(function(e){return"Milestone"!==e.event.data.type}).forEach(function(t){var n=t.event,i=e.area.pixels.left,a=n.part.left,r=i-a;H.Jm(t,r,0)})}},this.elements.sections=[],this.elements.hsections=[],this.Dm=function(e,t,n){var i;if(e.section){var a=e.section;return a.style.left=t+"px",a.style.right=n+"px",void(e.Km=!1)}var r=o();r.className=H.ca("_timeheader_float"),r.style.position="absolute",r.style.left=t+"px",r.style.right=n+"px",r.style.top="0px",r.style.bottom="0px",r.style.overflow="hidden";var l=o();l.className=H.ca("_timeheader_float_inner"),e.Lm=l;var s=e.cell.th,d=!0,c=null===(i=e.domArgs)||void 0===i?void 0:i.element;if(c){var u=l;if(p(c)){if(!H.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");H.W.V(c,u),d=!1}}if(d&&(l.innerHTML=H.La(s.text,s.innerHTML)),s.fontColor&&(l.style.color=s.fontColor),r.appendChild(l),e.section=r,e.insertBefore(r,e.firstChild.nextSibling),c){var h=e.firstChild&&e.firstChild.firstChild;h&&setTimeout(function(){h.style.display="none"},0)}else e.firstChild.innerHTML="";this.elements.hsections.push(e)},this.Bm=function(){for(var e=0;e<this.elements.hsections.length;e++){this.elements.hsections[e].Km=!0}},this.Em=function(){for(var e=[],t=0;t<this.elements.hsections.length;t++){var n=this.elements.hsections[t];if(n.Km){var i=n.cell;if(i&&n.firstChild)if(n.domArgs&&n.domArgs.element){var a=n.firstChild&&n.firstChild.firstChild;a&&(a.style.display="");var r=H.W.reactDOM&&p(n.domArgs.element);if(r){var o=n.Lm;H.W.ka(o)}}else n.firstChild.innerHTML=H.La(i.th.text,i.th.innerHTML);k(n.section),n.section=null,n.Km=!1}else e.push(n)}this.elements.hsections=e},this.Jm=function(e,t,n){var i,a=o();a.className=H.ca(R.eventFloat),a.style.position="absolute",a.style.left=t+"px",a.style.right=n+"px",a.style.top="0px",a.style.bottom="0px",a.style.overflow="hidden";var r=2;"number"==typeof H.durationBarHeight&&(r=H.durationBarHeight);var l=o();l.className=H.ca(R.eventFloatInner),l.style.marginTop=r+"px",l.style.paddingTop="0px",l.innerHTML=e.event.client.html();var s=null===(i=e.domArgs)||void 0===i?void 0:i.element;if(a.appendChild(l),e.section=a,e.insertBefore(a,e.firstChild.nextSibling),s){var d=e&&e.firstChild&&e.firstChild.firstChild;d&&(d.style.display="none")}else e.firstChild.innerHTML="";var c=e.event,u=c.cache||c.data,h=c.cache?c.cache.areas:c.data.areas;h=h||[],u.fontColor&&(l.style.color=u.fontColor);var f={"offsetX":H.Mm(l),"eventDiv":e,"areas":h.filter(function(e){return!(e.start||e.end||e.nonFloating)})};DayPilot.Areas.attach(a,e.event,f),DayPilot.Areas.disable(e),this.elements.sections.push(e)},this.Nm=null,this.Mm=function(e){return null===H.Nm&&(H.Nm=parseInt(new DayPilot.StyleReader(e).get("padding-left"))),H.Nm},this.Im=function(){for(var e=0;e<this.elements.sections.length;e++){var t=this.elements.sections[e],n=t.event;if(n)if(t.domArgs&&t.domArgs.element){var i=t&&t.firstChild&&t.firstChild.firstChild;i&&(i.style.display="")}else t.firstChild.innerHTML=n.client.html();k(t.section),DayPilot.Areas.enable(t),t.section=null}this.elements.sections=[]},this.setScrollX=function(e){H.sm.enabled?(H.sm.scrollXRequested=e,setTimeout(function(){var e=H.sm.scrollXRequested;"number"==typeof e&&H.xm(e)},0)):H.xm(e)},this.xm=function(e){var t=H.nav.scroll,n=H.Om();t.clientWidth+e>n&&(e=n-t.clientWidth),H.divTimeScroll.scrollLeft=e,t.scrollLeft=e},this.setScrollY=function(e){H.sm.enabled?(H.sm.scrollYRequested=e,setTimeout(function(){var e=H.sm.scrollYRequested;"number"==typeof e&&H.Pm(e)},0)):H.Pm(e)},this.Pm=function(e){var t=H.nav.scroll,n=H.Cl;t.clientHeight+e>n&&(e=n-t.clientHeight),H.divResScroll.scrollTop=e,t.scrollTop=e},this.setScroll=function(e,t){H.setScrollX(e),H.setScrollY(t)},this.Qm=function(){return H.Rm()+M.Sm()-1},this.message=function(e,t){if(null!==e&&H.za){var n,i={};"object"==typeof arguments[1]?(i=arguments[1],n=i.delay):n=t;var a="";a=i.rawHtml?e:DayPilot.Util.escapeHtml(e),n=n||this.messageHideAfter||2e3;var r,l=H.Tm()+1,s=H.Qm(),c=DayPilot.sw(H.nav.scroll)+1,u=DayPilot.sh(H.nav.scroll);if(this.nav.message)r=H.nav.message;else{r=o(),r.style.position="absolute",r.style.left=s+"px",r.style.right=c+"px",r.style.display="none",DayPilot.rePassive(r,DayPilot.touch.start,function(e){H.nav.message.style.display="none",e.stopPropagation()}),r.onmousemove=function(){H.messageHideOnMouseOut&&r.messageTimeout&&!r.status&&clearTimeout(r.messageTimeout)},r.onmouseout=function(){H.messageHideOnMouseOut&&"none"!==H.nav.message.style.display&&(r.messageTimeout=setTimeout(H.Xb,500))};var h=o();h.onclick=function(){H.nav.message.style.display="none"},h.className=H.ca("_message"),r.appendChild(h);var f=o();f.style.position="absolute",f.className=H.ca("_message_close"),f.onclick=function(){H.nav.message.style.display="none"},r.appendChild(f),this.nav.top.appendChild(r),this.nav.message=r}var v=function(){if(H.nav.message){var e=H.nav.message.firstChild;e.className=H.ca("_message"),i.cssClass&&d(e,i.cssClass),e.innerHTML=a;var t=DayPilot.sw(H.nav.scroll);H.nav.message.style.right=t+"px";var o=H.messageBarPosition||"Top";"Bottom"===o?(H.nav.message.style.bottom=u+"px",H.nav.message.style.top=""):"Top"===o&&(H.nav.message.style.bottom="",H.nav.message.style.top=l+"px");var s=function(){r.messageTimeout=setTimeout(H.Xb,n)};DayPilot.fade(H.nav.message,.2,s)}};clearTimeout(r.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(H.nav.message,-.2,v):v()}},this.Xb=function(){if(H.nav&&H.nav.message){var e=function(){H.nav.message.style.display="none"};DayPilot.fade(H.nav.message,-.2,e)}},this.Um=function(){H.nav&&H.nav.message&&(H.nav.message.style.display="none")},this.message.show=function(e){H.message(e)},this.message.hide=function(){H.Xb()},this.Vm=null,this.Bb=function(){if(this.nav.scroll){!function(){var e=H.Om();H.um.style.height=H.Cl+"px",H.um.style.width=e+"px","Auto"!==H.cellWidthSpec||H.Wm?e>H.nav.scroll.clientWidth?H.nav.scroll.style.overflowX="auto":H.nav.scroll.style.overflowX="hidden":(H.nav.scroll.style.overflowX="hidden",H.nav.scroll.scrollLeft=0)}();var e="None"===H.timeHeaderPosition?0:1;null!==this.Vm&&(this.nav.top.style.border=this.Vm,this.Vm=null),"Parent100Pct"!==this.heightSpec&&"Max100Pct"!==this.heightSpec||(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.Vm=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.Tm()-e),this.nav.scroll.style.height="30px";var t=this.df(),n=t+this.Tm()+e;if(t>=0&&(this.nav.scroll.style.height=t+"px",this.Xm.style.height=t+"px"),this.nav.divider&&((!n||isNaN(n)||n<0)&&(n=0),this.nav.divider.style.height=n+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=n+"px"),H.nav.resScrollSpace){var i=60+H.wm.bottom.height;"Auto"===H.heightSpec&&(i=DayPilot.sh(H.nav.scroll)),H.nav.resScrollSpace.style.height=i+"px"}for(var a=0;a<this.elements.separators.length;a++)this.elements.separators[a].style.height=this.Cl+"px";for(var a=0;a<this.elements.linesVertical.length;a++)this.elements.linesVertical[a].style.height=this.Cl+"px";H.Ym(),H.Zm()}},this.Wl=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.va.pixels=[],this.itline=w();var e="Auto"===this.cellWidthSpec;if(function(){if(e){var t=0;H.ja()&&H.timeline?t=H.timeline.length:"Manual"===H.scale?t=H.timeline.length:(H.$m(),t=H.itline.length,H.itline=w());var n=H._m();if(t>0&&n>0){var i=n/t;H.cellWidth=u(i,H.cellWidthMin),H.Wm=i<H.cellWidthMin}}}(),this.ja()&&this.timeline){if(this.timeline){this.itline=w();for(var t=null,n=0,i=0;i<this.timeline.length;i++){var a=this.timeline[i],r={};if(r.start=new DayPilot.Date(a.start),r.end=a.end?new DayPilot.Date(a.end):r.start.addMinutes(this.cellDuration),a.width)r.left=a.left||n,r.width=a.width||this.cellWidth,n+=r.width;else{var o=Math.floor(n+this.cellWidth),l=o-Math.floor(n);r.left=Math.floor(n),r.width=l,n+=this.cellWidth}r.breakBefore=t&&t.ticks!==r.start.ticks,t=r.end,this.itline.push(r)}}e&&this.an()}else{if(this.timeHeader=[],"Manual"===this.scale){this.itline=w();for(var n=0,t=null,i=0;this.timeline&&i<this.timeline.length;i++){var a=this.timeline[i],r={};if(r.start=new DayPilot.Date(a.start),r.end=a.end?new DayPilot.Date(a.end):r.start.addMinutes(this.cellDuration),t&&r.start.ticks<t.ticks)throw new DayPilot.Exception("The timeline must be sequential");var s=a.width||this.cellWidth,o=Math.floor(n+s),l=o-Math.floor(n);r.left=Math.floor(n),r.width=l,n+=s,r.breakBefore=t&&t.ticks!==r.start.ticks,t=r.end,this.itline.push(r)}}else this.$m();this.bn()}},this.infinite={},this.infinite.shiftStart=function(e){q.cn(e)},this.infinite.scrollTo=function(e){q.dn(e)},q.Cm=0,q.s=!1,q.en=function(){H.gn().forEach(function(e){e.start=H.Ub(),e.data=null,H.hn(e.index,e.grid)})},q.in=function(){return H.infiniteScrollingEnabled&&!H.ja()},q.dn=function(e){e=new DayPilot.Date(e);var t=e.addDays(-H.infiniteScrollingStepDays).getDatePart(),n=new DayPilot.Duration(t.getTime()-H.startDate.getDatePart().getTime()).totalDays();q.cn(n,e)},q.cn=function(e,t){var i;q.s=!0;var a=H.startDate,r=H.startDate.addDays(e);e>0&&(i=-H.getPixels(r).left),H.startDate=H.startDate.addDays(e),H.itline=w(),H.va.pixels=[],H.jn={},H.$m(),q.en(),e<0&&(i=H.getPixels(a).left),H.timeHeader=[],H.bn(),H.cm(),H.cellProperties={},H.fm(),H.gm(),H.tb(),Y.Zl(),H.Ya(),H.dm(),H.em(),H.Bb(),"undefined"!=typeof t?(H.scrollTo(new DayPilot.Date(t)),H.om()):("number"!=typeof q.kn&&(q.kn=H.nav.scroll.scrollLeft),H.nav.scroll.scrollLeft=q.kn+i,q.kn=null),H.jm(),H.Fb();var o=n.ln;o&&(o.start.x+=i,o.start.width+=i,L.draw()),q.s=!1},this.$m=function(){!H.za&&q.in()&&(this.startDate=this.startDate.addDays(-this.infiniteScrollingStepDays));for(var e="Days"!==this.viewType?this.startDate.addDays(this.days):this.startDate.addDays(1),t=this.startDate,n=this.mn(t),i=!1,a=0,r=null;n.ticks<=e.ticks&&n.ticks>t.ticks;){var o=t,l=n;H.showNonBusinessForceHours&&"Day"===H.scale&&(o=t.addHours(H.businessBeginsHour),l=t.addHours(H.businessEndsHour));var s=this.nn(o,l,!0);if(!s.cell.start||!s.cell.end)throw new DayPilot.Exception("Invalid timeline cell start/end: start and/or end not specified");if(s.cell.start=new DayPilot.Date(s.cell.start),s.cell.end=new DayPilot.Date(s.cell.end),s.cell.start>=s.cell.end)throw new DayPilot.Exception("Invalid timeline cell start/end: end before start");if(r&&r.ticks>s.cell.start.ticks)throw new DayPilot.Exception("Invalid timeline cell start/end: overlapping cells");i=!!(r&&r.ticks<s.cell.start.ticks);var d=s.cell.width||H.cellWidth;if(s.cell.visible){var c=Math.floor(a+d),u=c-Math.floor(a),h={};h.start=s.cell.start,h.end=s.cell.end,h.left=Math.floor(a),h.width=u,h.breakBefore=i,this.itline.push(h),a+=d,r=s.cell.end}t=n,n=this.mn(t)}},this.an=function(){if(this.timeHeader)for(var e=0;e<this.timeHeader.length;e++)for(var t=this.timeHeader[e],n=0;n<t.length;n++){var i=t[n];i.left=this.getPixels(new DayPilot.Date(i.start)).left;var a=this.getPixels(new DayPilot.Date(i.end)).left,r=a-i.left;i.width=r}},this.bn=function(){var e=this.timeHeaders;if(e||(e=[{"groupBy":this.cellGroupBy},{"groupBy":"Cell"}]),this.itline.isEmpty()){this.timeHeader=[];for(var t=0;t<e.length;t++)this.timeHeader[t]=[]}else for(var n=H.je(),t=0;t<e.length;t++){var i=e[t].groupBy,a=e[t].format;"Default"===i&&(i=this.cellGroupBy);for(var r=[],o=this.Ub();o.ticks<n.ticks;){var l={};if(l.start=o,l.end=this.on(l.start,i),l.start.ticks===l.end.ticks)break;l.left=this.getPixels(l.start).left;var s=this.getPixels(l.end).left,d=s-l.left;if(l.width=d,l.colspan=Math.ceil(d/(1*this.cellWidth)),"string"==typeof a?l.text=l.start.toString(a,M.Xc()):l.text=this.pn(l,i),d>0){if("function"==typeof this.onBeforeTimeHeaderRender){var c={};c.start=l.start,c.end=l.end,c.text=l.text,c.html=null,c.toolTip=H.La(l.text),c.backColor=null,c.fontColor=null,c.level=this.timeHeader.length,c.cssClass=null,c.bubbleHtml=null;var u={};u.header=c,u.control=H,this.onBeforeTimeHeaderRender(u),l.innerHTML=H.La(c.text,c.html),l.bubbleHtml=c.bubbleHtml,l.text=c.text,l.html=c.html,l.backColor=c.backColor,l.fontColor=c.fontColor,l.toolTip=c.toolTip,l.areas=c.areas,l.cssClass=c.cssClass,l.$=c.$}r.push(l)}o=l.end}this.timeHeader.push(r)}},this.nn=function(e,t){var n={};n.start=e,n.end=t,n.visible=!0,n.width=null;var i={};if(i.cell=n,"function"==typeof this.onIncludeTimeCell)return this.onIncludeTimeCell(i),i;if(this.showNonBusiness)return i;var a="Days"===H.viewType;return i.cell.visible=this.isBusiness({"start":e,"end":t},a),i},this.getPixels=function(e){var t=e.ticks,n=this.va.pixels[t];if(n)return n;var i=2218768416e5,a=null;if(0===this.itline.length||t<this.itline[0].start.ticks)return a={},a.cut=!1,a.left=0,a.boxLeft=a.left,a.boxRight=a.left,a.i=null,a;for(var r=this.qn(e),o=u(r.i-1,0),l=o;l<this.itline.length;l++){var s=this.itline[l],d=s.start.ticks,c=s.end.ticks;if(d<t&&t<c){var h=t-d;a={},a.cut=!1,a.left=s.left+this.Tf(s,h),a.boxLeft=s.left,a.boxRight=s.left+s.width,a.i=l;break}if(d===t){a={},a.cut=!1,a.left=s.left,a.boxLeft=a.left,a.boxRight=a.left+s.width,a.i=l;break}if(c===t){a={},a.cut=!1,a.left=s.left+s.width,a.boxLeft=a.left,a.boxRight=a.left,a.i=l+1;break}if(t<d&&t>i){a={},a.cut=!0,a.left=s.left,a.boxLeft=a.left,a.boxRight=a.left,a.i=l;break}i=c}if(!a){var f=this.itline[this.itline.length-1];a={},a.cut=!0,a.left=f.left+f.width,a.boxLeft=a.left,a.boxRight=a.left,a.i=null}return this.va.pixels[t]=a,a},this.getDate=function(e,t,n){var i=this.rn(e,n);if(!i)return null;var a=i.x,r=this.itline[a];if(!r)return null;var o=n&&!t?r.end:r.start;return t?o.addTime(this.sn(i.cell,i.offset)):o},this.rn=function(e,t){if(0===this.itline.length)return null;for(var n=0,i=0,a=0;a<this.itline.length;a++){var r=this.itline[a];if(n+=r.width||this.cellWidth,e<n||t&&e===n){var o={};return o.x=a,o.offset=e-i,o.cell=r,o}i=n}var l=H.itline.last(),s={};return s.x=this.itline.length-1,s.offset=l.width||this.cellWidth,s.cell=l,s},this.tn=function(e,t){return this.qn(e,t)},this.qn=function(e,t){var n=new DayPilot.Date(e),i=0,a=this.itline[0];if(n.ticks<a.start.ticks){var r={};return r.hidden=!0,r.previous=null,r.current=null,r.next=this.itline[0],r.i=-1,r}var o=this.itline.length-1,l=this.itline[o];if(n.ticks>l.end.ticks){var s={};return s.past=!0,s.previous=this.itline[this.itline.length-1],s.i=this.itline.length,s}if(n.ticks===l.end.ticks){var d={};return d.past=!1,d.current=this.itline[this.itline.length-1],d.i=this.itline.length-1,d}for(var c=function(){for(var e=H.itline;i<=o;){var a=Math.floor((i+o)/2);if(e[a].start.ticks>n.ticks)o=a-1;else{if(!(t?e[a].end.ticks<n.ticks:e[a].end.ticks<=n.ticks))return t&&a>0&&e[a].start.ticks===n.ticks&&e[a-1].end.ticks===n.ticks?a-1:a;i=a+1}}return i}(),u=c;u<this.itline.length;u++){var h=this.itline[u],f=this.itline[u+1],v=h.start.ticks<=n.ticks&&n.ticks<h.end.ticks,p=n.ticks===h.end.ticks&&f&&f.breakBefore,m=n.ticks===h.end.ticks&&t;if(v||p||m){var g={};return g.hidden=!1,g.current=h,g.i=u,g}if(n.ticks<h.start.ticks){var b={};return b.hidden=!0,b.previous=u>0?this.itline[u-1]:null,b.current=null,b.next=this.itline[u],b.i=u,b}}var y={};return y.past=!0,y.previous=this.itline[this.itline.length-1],y.i=this.itline.length,y},this.Tf=function(e,t){var n=e.width||this.cellWidth,i=e.end.ticks-e.start.ticks;return Math.floor(n*t/i)},this.sn=function(e,t){var n=e.end.ticks-e.start.ticks,i=e.width||this.cellWidth;
return Math.floor(t/i*n)},this.Tj=function(e){y.touch.start||n.un||(H.vn={},H.Zb(this,e))},this.eventClickPostBack=function(e,t){this.Na("EventClick",e,t)},this.eventClickCallBack=function(e,t){this.Pa("EventClick",e,t)},this.Zb=function(e,t){var n=e.event;if(n){if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),!n.client.doubleClickEnabled())return void H.$b(e,t);H.wn.click||(H.wn.click=[]);var i=function(e,t){return function(){H.$b(e,t)}};H.wn.click.push(window.setTimeout(i(e,t),H.doubleClickTimeout))}},this.xn=function(e){return H.itline[e]},this.$b=function(e,t){if("boolean"==typeof t)throw new DayPilot.Exception("Invalid _eventClickSingle parameters");var n=e.event;if(n){var i=t.ctrlKey,a=t.metaKey;if(n.client.clickEnabled()){if(!!(t.clientX||t.clientY||t.changedTouches)&&H.yn(t),H.Kb()){var r={};if(r.e=n,r.control=H,r.div=e,r.originalEvent=t,r.ctrl=i,r.meta=a,r.shift=t.shiftKey,r.preventDefault=function(){this.preventDefault.value=!0},r.toJSON=function(){return v(r,{},["e","ctrl","meta","shift"])},"function"==typeof H.onEventClick&&(H.onEventClick(r),r.preventDefault.value))return;switch(H.eventClickHandling){case"PostBack":H.eventClickPostBack(n);break;case"CallBack":H.eventClickCallBack(n);break;case"Edit":H._b(e);break;case"Select":H.bc(e,n,i,a);break;case"ContextMenu":var o=n.client.contextMenu();o?o.show(n):H.contextMenu&&H.contextMenu.show(n);break;case"Bubble":H.bubble&&H.bubble.showEvent(n);break;case"RectangleSelect":if("Disabled"!==M.zn())return L.start(),!1}"function"==typeof H.onEventClicked&&H.onEventClicked(r)}else switch(H.eventClickHandling){case"PostBack":H.eventClickPostBack(n);break;case"CallBack":H.eventClickCallBack(n);break;case"JavaScript":H.onEventClick(n);break;case"Edit":H._b(e);break;case"Select":H.bc(e,n,i,a);break;case"ContextMenu":var o=n.client.contextMenu();o?o.show(n):H.contextMenu&&H.contextMenu.show(n);break;case"Bubble":H.bubble&&H.bubble.showEvent(n);break;case"RectangleSelect":if("Disabled"!==M.zn())return L.start(),!1}}}},this.jc=function(e){if(H.Kb()){var t={},n=function(){if(!t.preventDefault.value){switch(t.loaded=function(){},H.eventDeleteHandling){case"PostBack":H.eventDeletePostBack(e);break;case"CallBack":H.eventDeleteCallBack(e);break;case"Update":H.events.remove(e),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive()}"function"==typeof H.onEventDeleted&&H.onEventDeleted(t)}};t.async=!1,t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},t.control=H,t.toJSON=function(){return v(t,{},["e"])},t.loaded=function(){n()},"function"==typeof H.onEventDelete&&H.onEventDelete(t),t.async||n()}else switch(H.eventDeleteHandling){case"PostBack":H.eventDeletePostBack(e);break;case"CallBack":H.eventDeleteCallBack(e);break;case"JavaScript":H.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.Na("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.Pa("EventDelete",e,t)},this.setHScrollPosition=function(e){this.nav.scroll.scrollLeft=e},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.bc=function(e,t,n,i){H.Nc(e,t,n,i)},this.eventSelectPostBack=function(e,t,n){var i={};i.e=e,i.change=t,this.Na("EventSelect",i,n)},this.eventSelectCallBack=function(e,t,n){var i={};i.e=e,i.change=t,this.Pa("EventSelect",i,n)},this.Nc=function(e,t,n,i){var a=H.multiselect,r=a.isSelected(t),o=r?"deselected":"selected";if(n||i||!r||1!==a.Oc.length)if(H.Kb()){a.Ad=a.events();var l={};if(l.e=t,l.selected=r,l.ctrl=n,l.meta=i,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onEventSelect&&(H.onEventSelect(l),l.preventDefault.value))return;switch(H.eventSelectHandling){case"PostBack":H.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Pc="",window.Qc=[],WebForm_InitCallback()),H.eventSelectCallBack(t,o);break;case"Update":a.Rc(e,n,i)}"function"==typeof H.onEventSelected&&(l.change=a.isSelected(t)?"selected":"deselected",l.selected=a.isSelected(t),H.onEventSelected(l))}else switch(a.Ad=a.events(),a.Rc(e,n,i),H.eventSelectHandling){case"PostBack":H.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Pc="",window.Qc=[],WebForm_InitCallback()),H.eventSelectCallBack(t,o);break;case"JavaScript":H.onEventSelect(t,o)}},this.eventRightClickPostBack=function(e,t){this.Na("EventRightClick",e,t)},this.eventRightClickCallBack=function(e,t){this.Pa("EventRightClick",e,t)},this.dc=function(e){if(!y.touch.active&&!y.touch.start){var t=e.currentTarget,n=t.event;if(e.cancelBubble=!0,H.allowDefaultContextMenu||e.preventDefault(),!this.event.client.rightClickEnabled())return!1;if(H.yn(e),H.Kb()){var i={};if(i.e=n,i.div=this,i.originalEvent=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onEventRightClick&&(H.onEventRightClick(i),i.preventDefault.value))return!1;switch(H.eventRightClickHandling){case"PostBack":H.eventRightClickPostBack(n);break;case"CallBack":H.eventRightClickCallBack(n);break;case"ContextMenu":var a=n.client.contextMenu();a?a.show(n):H.contextMenu&&H.contextMenu.show(n);break;case"Bubble":H.bubble&&H.bubble.showEvent(n)}"function"==typeof H.onEventRightClicked&&H.onEventRightClicked(i)}else switch(H.eventRightClickHandling){case"PostBack":H.eventRightClickPostBack(n);break;case"CallBack":H.eventRightClickCallBack(n);break;case"JavaScript":H.onEventRightClick(n);break;case"ContextMenu":var a=n.client.contextMenu();a?a.show(n):H.contextMenu&&H.contextMenu.show(n);break;case"Bubble":H.bubble&&H.bubble.showEvent(n)}return!1}},this.eventDoubleClickPostBack=function(e,t){this.Na("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(e,t){this.Pa("EventDoubleClick",e,t)},this.cc=function(e){if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),H.wn.click){for(var t in H.wn.click)window.clearTimeout(H.wn.click[t]);H.wn.click=null}var n=e.currentTarget,i=n.event;if(e.stopPropagation(),e.cancelBubble=!0,H.Kb()){var a={};if(a.e=i,a.originalEvent=e,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onEventDoubleClick&&(H.onEventDoubleClick(a),a.preventDefault.value))return;switch(H.eventDoubleClickHandling){case"PostBack":H.eventDoubleClickPostBack(i);break;case"CallBack":H.eventDoubleClickCallBack(i);break;case"Edit":H._b(this);break;case"Select":H.bc(n,i,e.ctrlKey,e.metaKey);break;case"Bubble":H.bubble&&H.bubble.showEvent(i);break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):H.contextMenu&&H.contextMenu.show(i)}"function"==typeof H.onEventDoubleClicked&&H.onEventDoubleClicked(a)}else switch(H.eventDoubleClickHandling){case"PostBack":H.eventDoubleClickPostBack(i);break;case"CallBack":H.eventDoubleClickCallBack(i);break;case"JavaScript":H.onEventDoubleClick(i);break;case"Edit":H._b(this);break;case"Select":H.bc(n,i,e.ctrlKey,e.metaKey);break;case"Bubble":H.bubble&&H.bubble.showEvent(i);break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):H.contextMenu&&H.contextMenu.show(i)}},this.eventResizePostBack=function(e,t,n,i){this.tc("PostBack",e,t,n,i)},this.eventResizeCallBack=function(e,t,n,i){this.tc("CallBack",e,t,n,i)},this.tc=function(e,t,n,i,a){var r=t&&!!t.preventDefault,o={};if(r){var l=t;o.e=l.e,o.newStart=l.newStart,o.newEnd=l.newEnd,o.multiresize=[],l.multiresize.forEach(function(e){var t={};t.e=e.event,t.newStart=e.start,t.newEnd=e.end,o.multiresize.push(t)})}else o.e=t,o.newStart=n,o.newEnd=i;this.kc(e,"EventResize",o,a)},this.qc=function(e,t,n,i){if("Disabled"!==this.eventResizeHandling){n=H.dk(n);var a={},r=function(){if(V.B(),!a.preventDefault.value){switch(a.loaded=function(){},t=a.newStart,n=a.newEnd,H.eventResizeHandling){case"PostBack":H.eventResizePostBack(a);break;case"CallBack":H.eventResizeCallBack(a);break;case"Notify":H.eventResizeNotify(a);break;case"Update":H.An(a)}"function"==typeof H.onEventResized&&H.onEventResized(a)}};a.e=e,a.async=!1,a.loaded=function(){r()},a.newStart=t,a.newEnd=n,a.what=i,a.areaData=y.resizingAreaData,a.preventDefault=function(){this.preventDefault.value=!0},a.multiresize=w(J.list),a.control=H,a.toJSON=function(){return v(a,{},["e","async","newStart","newEnd","multiresize"])};var o={};if(o.event=e,o.start=t,o.end=n,a.multiresize.splice(0,0,o),H.Kb())"function"==typeof H.onEventResize&&H.onEventResize(a),a.async?H.blockOnCallBack&&V.D():r();else switch(H.eventResizeHandling){case"PostBack":H.eventResizePostBack(a);break;case"CallBack":H.eventResizeCallBack(a);break;case"JavaScript":H.onEventResize(e,t,n);break;case"Notify":H.eventResizeNotify(a);break;case"Update":H.An(a)}}},this.eventMovePostBack=function(e,t,n,i,a,r){this.Ec("PostBack",e,t,n,i,a,r)},this.eventMoveCallBack=function(e,t,n,i,a,r){this.Ec("CallBack",e,t,n,i,a,r)},this.Ec=function(e,t,n,i,a,r,o){var l=t&&!!t.preventDefault,s={};if(l){var d=t;s.e=d.e,s.newStart=d.newStart,s.newEnd=d.newEnd,s.newResource=d.newResource,s.position=d.position,s.multimove=[],d.multimove.forEach(function(e){var t={};if(t.e=e.event,t.newStart=e.start,t.newEnd=e.end,t.newResource=e.event.resource(),t.e===d.e||t.e.data.id===d.e.data.id)t.newResource=d.newResource;else if(F.rowoffset){var n=e.event.part.dayIndex+F.rowoffset;t.newResource=H.rowlist[n].id}s.multimove.push(t)})}else s.e=t,s.newStart=n,s.newEnd=i,s.newResource=a,s.position=o;this.kc(e,"EventMove",s,r)},this.Bn=function(e,t,n){var i={};i.start=t.start,i.end=t.end,i.resource=t.resource,i.multirange=[],t.multirange.forEach(function(e){var t={};t.start=e.start,t.end=e.end,t.resource=e.resource,i.multirange.push(t)}),this.kc(e,"TimeRangeSelected",i,n)},this.kc=function(e,t,n,i){if("PostBack"===e)H.Na(t,n,i);else if("CallBack"===e)H.Pa(t,n,i,"CallBack");else if("Immediate"===e)H.Pa(t,n,i,"Notify");else if("Queue"===e)H.queue.add(new DayPilot.Action(this,t,n,i));else{if("Notify"!==e)throw new DayPilot.Exception("Invalid event invocation type");"Notify"===M.lc()?H.Pa(t,n,i,"Notify"):H.queue.add(new DayPilot.Action(H,t,n,i))}},this.eventMoveNotify=function(e,t,n,i,a,r){if(e&&!!e.preventDefault){var o=e;o.old=new DayPilot.Event(o.e.copy(),H),o.multimove.forEach(function(e){e.old=new DayPilot.Event(e.event.copy(),H)}),H.An(o),o.e=o.old,delete o.old,o.multimove.forEach(function(e){e.event=e.old,delete e.old})}else{e=new DayPilot.Event(e.copy(),H);var l=H.events.Cn(e.data);e.start(t),e.end(n),e.resource(i),e.commit(),l=l.concat(H.events.Dn(e.data)),H.En(l),H.Fn(),H.Gn(l)}this.Ec("Notify",e,t,n,i,a,r)},this.eventResizeNotify=function(e,t,n,i){if(e&&!!e.preventDefault){var a=e;a.old=new DayPilot.Event(a.e.copy(),H),a.multiresize.forEach(function(e){e.old=new DayPilot.Event(e.event.copy(),H)}),H.An(a),a.e=a.old,delete a.old,a.multiresize.forEach(function(e){e.event=e.old,delete e.old})}else{e=new DayPilot.Event(e.copy(),H);var r=H.events.Cn(e.data);e.start(t),e.end(n),e.commit(),r=r.concat(H.events.Dn(e.data)),H.En(r),H.Fn(),H.Gn(r)}this.tc("Notify",e,t,n,i)},this.zoom={},this.zoom.active=-1,this.zoom.setActive=function(e,t,n){var i;if("number"==typeof e)i=H.zoomLevels[e];else{if("string"!=typeof e)throw new DayPilot.Exception("Unexpected parameter type (string or number required): "+typeof e);var a=H.zoom.td(e);i=H.zoomLevels[a]}if(!i)throw new DayPilot.Exception("Zoom level not found: "+e+" ("+typeof e+")");(e!==H.zoom.active||n)&&(n||(n=H.zoom.Lk(t)),n&&(H.startDate=n),H.zoom.vd(e,n),H.za&&H.update(),n&&H.scrollTo(n,null,t||H.zoomPosition))},this.zoom.td=function(e){return w(H.zoomLevels).findIndex(function(t){return t.id===e})},this.zoom.Lk=function(e){e=e||H.zoomPosition||"left";var t=null;if(!H.nav.scroll)return null;var n=H.getViewPort();switch(e){case"left":t=n.start;break;case"middle":t=n.start&&n.start.addTime((H.getViewPort().end.getTime()-H.getViewPort().start.getTime())/2);break;case"right":t=n.end}return t},this.zoom.vd=function(e,t){var n=H.zoomLevels.length-1;e>n&&(e=n),e<0&&(e=0),H.zoom.active=e;var i=H.zoomLevels[e],a={};return a.date=t||new DayPilot.Date(H.startDate),a.level=i,DayPilot.Util.ownPropsAsArray(i.properties).forEach(function(e){if(0!==e.key.indexOf("on"))return"function"==typeof e.val?void(H[e.key]=e.val(a)):void(H[e.key]=e.val)}),a},this.multiselect={},this.multiselect.Oc=[],this.multiselect.zd=[],this.multiselect.Ad=[],this.multiselect.hm=function(e){H.multiselect.Oc=w(e).map(function(e){return new DayPilot.Event(e,H)})},this.multiselect.Bd=function(){var e=H.multiselect;return JSON.stringify(e.events())},this.multiselect.events=function(){var e=H.multiselect,t=w();t.ignoreToJSON=!0;for(var n=0;n<e.Oc.length;n++)t.push(e.Oc[n]);return t},this.multiselect.get=function(){return H.multiselect.events()},this.multiselect.Cd=function(){},this.multiselect.Rc=function(e,t,n){var i=H.multiselect;if(i.isSelected(e.event))if(H.allowMultiSelect)if(t||n)i.remove(e.event,!0);else{var a=i.Oc.length;i.clear(),a>1&&i.add(e.event,!0)}else i.clear();else H.allowMultiSelect&&(t||n)?i.add(e.event,!0):(i.clear(),i.add(e.event,!0));i.Od(e),i.Cd()},this.multiselect.Dd=function(e){var t=H.multiselect;return t.Ed(e,t.Oc)},this.multiselect.Fd=function(){for(var e=H.multiselect,t=[],n=0;n<e.Oc.length;n++){var i=e.Oc[n];t.push(i.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var n=H.multiselect;n.Gd(e)===-1&&n.Oc.push(e),t||n.Hn(e)},this.multiselect.remove=function(e,t){var n=H.multiselect,i=n.Gd(e);i!==-1&&n.Oc.splice(i,1),t||n.Hn(e)},this.multiselect.clear=function(e){var t=H.multiselect;t.Oc=[],e||t.redraw()},this.multiselect.redraw=function(){var e=H.multiselect;e.zd=[];for(var t=0;t<H.elements.events.length;t++){var n=H.elements.events[t];n.event&&n.event.isEvent&&(e.isSelected(n.event)?e.Hd(n):e.Id(n))}},this.multiselect.Od=function(e){if(e){var t=H.multiselect;t.isSelected(e.event)?t.Hd(e):t.Id(e)}},this.multiselect.Hn=function(e){var t=H.multiselect,n=H.kh(e);t.Od(n)},this.multiselect.Hd=function(e){var t=H.multiselect,n=H.ca("_selected"),i=t.Jd(e);d(i,n),t.zd.push(i)},this.multiselect.Jd=function(e){return e},this.multiselect.Kd=function(){for(var e=H.multiselect,t=0;t<e.zd.length;t++){var n=e.zd[t];e.Id(n,!0)}e.zd=[]},this.multiselect.Id=function(e,t){var n=H.multiselect;if(s(e,H.ca("_selected")),!t){var i=C(n.zd,e);i!==-1&&n.zd.splice(i,1)}},this.multiselect.isSelected=function(e){return!!e&&(!!e.isEvent&&H.multiselect.Ed(e,H.multiselect.Oc))},this.multiselect.Gd=function(e){for(var t=e.data,n=0;n<H.multiselect.Oc.length;n++){var i=H.multiselect.Oc[n];if(H.Ld(i.data,t))return n}return-1},this.multiselect.Ed=function(e,t){if(!t)return!1;for(var n=0;n<t.length;n++){var i=t[n];if(H.Ld(e.data,i.data))return!0}return!1},this.multiselect.startRectangle=function(){L.start()},this.In=function(){this.gm(),this.jm()},this.Jn=function(){Y.Kn()},this.Ln=function(){H.Mn(),H.$l(),H._l(),H.em(),H.Nn(),H.progressiveRowRendering&&H.On()},this.Od=function(e){e=e||{};var t=!e.eventsOnly;window.clearTimeout(H.Pn);var n=H.keyboard.getFocus();H.$l(),t&&(this.ja()||(H.timeHeader=null,H.cellProperties={}),H.jn={},H.Vl(),H.Wl(),e&&e.dontLoadResources||H.Xl(),H.Qn!==H.timeHeaderPosition&&H.Rn(),H.events.Sn(),H.Ba.qh(),H.clearSelection(),n&&H.Un.Tn()),H.tb(),Y.Zl(),H.Vn(),H.Yl(),H.dm(),H._l(),t&&(H.uh(),H.bm(),H.cm(),H.nm(H.selectedRows),H.Wn()),H.em(),H.Nn(),H.ub(),Y.Xn(),this.Ya(),this.fm(),this.Ka(),this.sb(),H.Bb(),this.im(),this.In(),e.immediateEvents||e.eventsOnly?H.Fb():setTimeout(function(){H.Fb()},100),n&&N.Yn(n),this.visible?H.El!==H.visible&&this.show():this.hide(),this.El=this.visible,this.mm(),H.nh.scope||H.sm.enabled?H.za?H.om():q.in()||H.om():H.om(),this.Zn(),this.Jb(),this.$n()},this.Zn=function(){if("function"==typeof H.onAfterUpdate){var e={};H.onAfterUpdate(e)}},this.update=function(e){H.vh(e)},this.vh=function(e){if(!H.za)throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");if(H.Aa)throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");G.request(e)},this.disposed=function(){return H.Aa},G.timeout=null,G.options=null,G.enabled=!1,G.request=function(e){G.enabled?(clearTimeout(G.timeout),G._n(e),G.timeout=setTimeout(G.doit)):(G._n(e),G.doit())},G._n=function(e){if(e){G.options||(G.options={});for(var t in e)G.options[t]=e[t]}},G.doit=function(){var e=G.options;return G.options=null,H.za?DayPilot.Util.isOnlyProperty(e,"events")?(H.events.list=e.events,H.Od({"eventsOnly":!0}),void N.ao()):DayPilot.Util.isOnlyProperty(e,"separators")?(H.separators=e.separators,void H.In()):DayPilot.Util.isOnlyProperty(e,"rowHeaderColumns")&&!H.bo()?(H.rowHeaderColumns=e.rowHeaderColumns,void H.Ln()):DayPilot.Util.isOnlyProperty(e,"links")?(H.links.list=e.links,void H.Jn()):(H.wh(e),H.Od({"immediateEvents":!0}),H.Nh(),N.ao(),void H.ob(null,!1)):void H.wh(e)},this.co=function(e){e.forEach(function(e){H.do(e.index,e.grid)})},this.eo=function(e){return e&&0!==e.length?e[0].isRow?e:e.map(function(e){return H.rowlist[e]}):[]},this.Gn=function(e,t,n){e=DayPilot.ua(e),e=H.eo(e),H.co(e),this.fo?(this.dm(),this.em(),this.fm(),this.gm(),e.forEach(function(e){H.go(e.index,e.grid)}),e.forEach(function(e){H.ho(e.index,e.grid)}),this.im(),this.jm(),this.io(),this.hb(),H.hover.crosshair&&this.Wf()):(e.forEach(function(e){t||H.go(e.index,e.grid),H.ho(e.index,e.grid)}),e.forEach(function(e){H.jo(e.index,e.grid)}),H.im()),H.Fm(),Y.Kn(),H.multiselect.redraw(),n&&n(),this.Ka()},this.dk=function(e){return"DateTime"===H.eventEndSpec?e:e.getDatePart().ticks===e.ticks?e.addDays(-1):e.getDatePart()},this.Jj=function(e){return"DateTime"===H.eventEndSpec?e:e.getDatePart().addDays(1)},this.gk=function(e){return"DateTime"===H.eventEndSpec?e:e.getDatePart()},this.zc=function(e,t,i,a,r,o,l){if(H.jb=null,"Disabled"!==H.eventMoveHandling){i=H.dk(i);var s={};s.e=e,s.newStart=t,s.newEnd=i,s.newResource=a,s.external=r,s.ctrl=!1,s.meta=!1,s.shift=!1,o&&(s.shift=o.shiftKey,s.ctrl=o.ctrlKey,s.meta=o.metaKey),s.multimove=w(F.list,!0),s.areaData=y.movingAreaData,s.control=H,s.toJSON=function(){return v(s,{},["e","newStart","newEnd","newResource","external","ctrl","meta","shift","multimove","areaData"])};var d={};if(d.event=e,d.start=t,d.end=i,d.overlapping=!1,d.resource=a,s.multimove.splice(0,0,d),s.position=l,s.preventDefault=function(){this.preventDefault.value=!0},H.Kb()){var c=function(){if(s.loaded=function(){},V.B(),s.preventDefault.value)return n.un=!0,setTimeout(function(){n.un=!1}),void H.Cc();switch(t=s.newStart,i=s.newEnd,H.eventMoveHandling){case"PostBack":H.eventMovePostBack(s);break;case"CallBack":H.eventMoveCallBack(s);break;case"Notify":H.eventMoveNotify(s);break;case"Update":H.An(s)}H.Cc(),"function"==typeof H.onEventMoved&&H.onEventMoved(s)};s.async=!1,s.loaded=function(){c()},"function"==typeof H.onEventMove&&H.onEventMove(s),s.async?H.blockOnCallBack&&V.D():c()}else{switch(H.eventMoveHandling){case"PostBack":H.eventMovePostBack(s);break;case"CallBack":H.eventMoveCallBack(s);break;case"JavaScript":H.onEventMove(e,t,i,a,r,!!o&&o.ctrlKey,!!o&&o.shiftKey,l);break;case"Notify":H.eventMoveNotify(s);break;case"Update":H.An(s)}H.Cc()}}},this.An=function(e){var t=e.e,n=e.newStart,i=e.newEnd,a=e.newResource,r=e.external;t.start(n),t.end(i),t.resource(a),r?(t.commit(),H.events.add(t)):H.events.update(t),e.multimove&&!e.multimove.isEmpty()&&e.multimove.forEach(function(e){e.event!==t&&(e.event.start(e.start),e.event.end(e.end),e.event.resource(e.resource),e.event.commit(),H.events.update(e.event))}),e.multiresize&&!e.multiresize.isEmpty()&&e.multiresize.forEach(function(e){e.event!==t&&(e.event.start(e.start),e.event.end(e.end),e.event.commit(),H.events.update(e.event))}),H.events.ko(),H.Dc()},this.Fc=function(e,t){var n=H.Gc(t),i={};i.args=e,i.guid=n,H.Pa("Bubble",i)},this.Gc=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventMenuClickPostBack=function(e,t,n){var i={};i.e=e,i.command=t,this.Na("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(e,t,n){var i={};i.e=e,i.command=t,this.Pa("EventMenuClick",i,n)},this.Hc=function(e,t,n){switch(n){case"PostBack":H.eventMenuClickPostBack(t,e);break;case"CallBack":H.eventMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.resource=n,this.Na("TimeRangeSelected",a,i)},this.timeRangeSelectedCallBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.resource=n,this.Pa("TimeRangeSelected",a,i)},this.lo=function(e,t){if(e){if(e.disabled)return void H.clearSelection();if(e.args)H.Jc(e.args.start,e.args.end,e.args.resource,t);else{var n=H.mo(e);if(!n)return;H.Jc(n.start,n.end,n.resource,t)}}},this.Jc=function(e,t,n,i){var a="Disabled"===H.timeRangeSelectedHandling,r=H.internal.gantt,o=H.rowCreateAllowTimeRangeSelection,l=r&&o;if(!a||l){i=i||"drag";var s=t;t=H.dk(s);var d={};if(d.control=H,d.start=e,d.end=t,d.resource=n,d.origin=i,d.preventDefault=function(){this.preventDefault.value=!0},d.multirange=w(P.list).map(function(e){return H.mo(e)}),d.multirange.isEmpty()&&d.multirange.push({"start":d.start,"end":d.end,"resource":d.resource}),d.toJSON=function(){return v(d,{},["start","end","resource","multirange"])},H.Kb()){if("function"==typeof H.onTimeRangeSelect){if(H.onTimeRangeSelect(d),d.preventDefault.value)return;e=d.start,t=d.end}switch(t=H.Jj(t),H.no(H.oo,e,t,d.multirange),H.po(H.oo),H.timeRangeSelectedHandling){case"PostBack":H.Bn("PostBack",d);break;case"CallBack":H.Bn("CallBack",d)}"function"==typeof H.onTimeRangeSelected&&H.onTimeRangeSelected(d)}else switch(H.timeRangeSelectedHandling){case"PostBack":H.Bn("PostBack",d);break;case"CallBack":H.Bn("CallBack",d);break;case"JavaScript":H.onTimeRangeSelected(e,t,n,d.multirange);break;case"Hold":}}},this.no=function(e,t,n,i){if(e&&!(i&&i.length>1)){var a,r,o=n,l=0;if("Days"===H.viewType||H.qo()){l=H.rowlist[e.start.y].start.getTime()-H.Ub().getTime()}t.getTime()<H.itline[0].start.getTime()?(e.start.x=0,e.start.time=H.itline[0].start.getTime()):(a=H.tn(t.addTime(-l)),r=a.current||a.previous,e.start.x=C(H.itline,r),e.start.time=t),a=H.tn(o.addMilliseconds(-1).addTime(-l)),a.past?(e.end.x=H.itline.length-1,e.end.time=H.itline[H.itline.length-1].end.getTime()):(r=a.current||a.next,e.end.x=C(H.itline,r),e.end.time=n)}},this.vm=function(e){var t=e.getDatePart();return w(H.rowlist).find(function(e){return e.start.getDatePart()===t})},this.timeRangeDoubleClickPostBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.resource=n,this.Na("TimeRangeDoubleClick",a,i)},this.timeRangeDoubleClickCallBack=function(e,t,n,i){var a={};a.start=e,a.end=t,a.resource=n,this.Pa("TimeRangeDoubleClick",a,i)},this.Lc=function(e,t,n){if(t=H.dk(t),H.Kb()){var i={};if(i.start=e,i.end=t,i.resource=n,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onTimeRangeDoubleClick&&(H.onTimeRangeDoubleClick(i),i.preventDefault.value))return;switch(H.timeRangeDoubleClickHandling){case"PostBack":H.timeRangeDoubleClickPostBack(e,t,n);break;case"CallBack":H.timeRangeDoubleClickCallBack(e,t,n)}"function"==typeof H.onTimeRangeDoubleClicked&&H.onTimeRangeDoubleClicked(i)}else switch(H.timeRangeDoubleClickHandling){case"PostBack":H.timeRangeDoubleClickPostBack(e,t,n);break;case"CallBack":H.timeRangeDoubleClickCallBack(e,t,n);break;case"JavaScript":H.onTimeRangeDoubleClick(e,t,n)}},this.timeRangeMenuClickPostBack=function(e,t,n){var i={};i.selection=e,i.command=t,this.Na("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(e,t,n){var i={};i.selection=e,i.command=t,this.Pa("TimeRangeMenuClick",i,n)},this.Ic=function(e,t,n){switch(n){case"PostBack":H.timeRangeMenuClickPostBack(t,e);break;case"CallBack":H.timeRangeMenuClickCallBack(t,e)}},this.linkMenuClickPostBack=function(e,t,n){var i={};i.link=e,i.command=t,this.Na("LinkMenuClick",i,n)},this.linkMenuClickCallBack=function(e,t,n){var i={};i.link=e,i.command=t,this.Pa("LinkMenuClick",i,n)},this.ro=function(e,t,n){switch(n){case"PostBack":H.linkMenuClickPostBack(t,e);break;case"CallBack":H.linkMenuClickCallBack(t,e)}},this.rowMenuClickPostBack=function(e,t,n){var i={};i.resource=e,i.command=t,this.Na("RowMenuClick",i,n)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(e,t,n){var i={};i.resource=e,i.command=t,this.Pa("RowMenuClick",i,n)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.so=function(e,t,n){switch(n){case"PostBack":H.rowMenuClickPostBack(t,e);break;case"CallBack":H.rowMenuClickCallBack(t,e)}},this.uo=function(e,t,n){var i=H.vo(e),a=i.data;if(e.task&&(a=e.task),H.rowHeaderColumns){var r=H.rowHeaderColumns[n].display;0!==n||r||(a.name=t,a.html=H.La(t)),r&&H.wo(a,r,t)}else a.name=t,a.html=H.La(t);H.rows.update(i)},this.xo=function(e,t){if(t){var n={};if(n.text=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof H.onRowCreate||(H.onRowCreate(n),!n.preventDefault.value)){switch(H.rowCreateHandling){case"CallBack":H.rowCreateCallBack(n.text);break;case"PostBack":H.rowCreatePostBack(n.text)}"function"==typeof H.onRowCreated&&H.onRowCreated(n)}}},this.yo=function(e,t,n,i){function a(){if(!n){switch(H.rowEditHandling){case"PostBack":H.rowEditPostBack(o,l.newText);break;case"CallBack":H.rowEditCallBack(o,l.newText);break;case"Update":H.uo(e,l.newText,i)}"function"==typeof H.onRowEdited&&H.onRowEdited(l)}}if(e.isNewRow)return void(n||H.xo(e,t));var r=C(H.rowlist,e),o=H.vo(e,r);if(H.Kb()){var l={};if(l.resource=o,l.row=o,l.x=i,l.newText=t,l.canceled=n,l.preventDefault=function(){this.preventDefault.value=!0},l.async=!1,l.loaded=function(){a()},"function"==typeof H.onRowEdit&&(H.onRowEdit(l),l.preventDefault.value))return;l.async||a()}else switch(H.rowEditHandling){case"PostBack":H.rowEditPostBack(o,t);break;case"CallBack":H.rowEditCallBack(o,t);break;case"JavaScript":H.onrowEdit(o,t)}},this.rowCreatePostBack=function(e,t){var n={};n.text=e,this.Na("RowCreate",n,t)},this.rowCreateCallBack=function(e,t){var n={};n.text=e,this.Pa("RowCreate",n,t)},this.rowEditPostBack=function(e,t,n){var i={};i.resource=e,i.newText=t,this.Na("RowEdit",i,n)},this.rowEditCallBack=function(e,t,n){var i={};i.resource=e,i.newText=t,this.Pa("RowEdit",i,n)},this.rowMovePostBack=function(e,t,n,i){var a={};a.source=e,a.target=t,a.position=n,this.Na("RowMove",a,i)},this.rowMoveCallBack=function(e,t,n,i){var a={};a.source=e,a.target=t,a.position=n,this.Pa("RowMove",a,i)},this.rowMoveNotify=function(e,t,n,i){var a={};a.source=e,a.target=t,a.position=n,this.Pa("RowMove",a,i,"Notify")},this.rowClickPostBack=function(e,t){var n={};n.resource=e,this.Na("RowClick",n,t)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(e,t){var n={};n.resource=e,this.Pa("RowClick",n,t)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.zo=function(e,t,n){if("Disabled"===H.rowDoubleClickHandling)return void H.Ao(e,t,n);H.wn.resClick||(H.wn.resClick=[]);var i=function(e,t){return function(){H.Ao(e,t,n)}};H.wn.resClick.push(window.setTimeout(i(e,t),H.doubleClickTimeout))},this.Ao=function(e,t,n){var i=H.resourceHeaderClickHandling||H.rowClickHandling;if(H.Kb()){var a={};if(a.resource=e,a.row=e,a.x=n,a.ctrl=t.ctrlKey,a.shift=t.shiftKey,a.meta=t.metaKey,a.originalEvent=t,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onRowClick&&(H.onRowClick(a),a.preventDefault.value))return;if("function"==typeof H.onResourceHeaderClick&&(H.onResourceHeaderClick(a),a.preventDefault.value))return;switch(i){case"PostBack":H.rowClickPostBack(e);break;case"CallBack":H.rowClickCallBack(e);break;case"Select":H.Bo(e.$.row,t.ctrlKey,t.shiftKey,t.metaKey);break;case"Edit":H.Il.Co(e.$.row,n)}"function"==typeof H.onRowClicked&&H.onRowClicked(a),"function"==typeof H.onResourceHeaderClicked&&H.onResourceHeaderClicked(a)}else switch(i){case"PostBack":H.rowClickPostBack(e);break;case"CallBack":H.rowClickCallBack(e);break;case"JavaScript":H.onRowClick(e);break;case"Select":H.Bo(e.$.row,t.ctrlKey,t.shiftKey);break;case"Edit":H.Il.Co(e.$.row,n)}},this.timeHeaderClickPostBack=function(e,t){var n={};n.header=e,this.Na("TimeHeaderClick",n,t)},this.timeHeaderClickCallBack=function(e,t){var n={};n.header=e,this.Pa("TimeHeaderClick",n,t)},this.Do=function(e,t){if(H.Kb()){var n={};if(n.header=e,n.control=H,n.originalEvent=t,n.ctrl=t.ctrlKey,n.meta=t.metaKey,n.shift=t.shiftKey,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onTimeHeaderClick&&(H.onTimeHeaderClick(n),n.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":H.timeHeaderClickPostBack(e);break;case"CallBack":H.timeHeaderClickCallBack(e)}"function"==typeof H.onTimeHeaderClicked&&H.onTimeHeaderClicked(n)}else switch(this.timeHeaderClickHandling){case"PostBack":H.timeHeaderClickPostBack(e);break;case"CallBack":H.timeHeaderClickCallBack(e);break;case"JavaScript":H.onTimeHeaderClick(e)}},this.resourceCollapsePostBack=function(e,t){var n={};n.resource=e,this.Na("ResourceCollapse",n,t)},this.resourceCollapseCallBack=function(e,t){var n={};n.resource=e,this.Pa("ResourceCollapse",n,t)},this.Eo=function(e){if(H.Kb()){var t={};if(t.resource=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onResourceCollapse&&(H.onResourceCollapse(t),t.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":H.resourceCollapsePostBack(e);break;case"CallBack":H.resourceCollapseCallBack(e)}}else switch(this.resourceCollapseHandling){case"PostBack":H.resourceCollapsePostBack(e);break;case"CallBack":H.resourceCollapseCallBack(e);break;case"JavaScript":H.onResourceCollapse(e)}},this.resourceExpandPostBack=function(e,t){var n={};n.resource=e,this.Na("ResourceExpand",n,t)},this.resourceExpandCallBack=function(e,t){var n={};n.resource=e,this.Pa("ResourceExpand",n,t)},this.Fo=function(e){if(H.Kb()){var t={};if(t.resource=e,t.row=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onResourceExpand&&(H.onResourceExpand(t),t.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":H.resourceExpandPostBack(e);break;case"CallBack":H.resourceExpandCallBack(e)}}else switch(this.resourceExpandHandling){case"PostBack":H.resourceExpandPostBack(e);break;case"CallBack":H.resourceExpandCallBack(e);break;case"JavaScript":H.onResourceExpand(e)}},this.eventEditPostBack=function(e,t,n){var i={};i.e=e,i.newText=t,this.Na("EventEdit",i,n)},this.eventEditCallBack=function(e,t,n){var i={};i.e=e,i.newText=t,this.Pa("EventEdit",i,n)},this.eventEditNotify=function(e,t,n,i){var a=new DayPilot.Event(e.copy(),this);e.text(t),H.events.update(e,null,i);var r={};r.e=a,r.newText=t,this.Pa("EventEdit",r,n,"Notify")},this.Mc=function(e,t,n){function i(){if(a.loaded=function(){},!n)switch(H.eventEditHandling){case"PostBack":H.eventEditPostBack(e,a.newText);break;case"CallBack":H.eventEditCallBack(e,a.newText);break;case"Update":e.text(a.newText),H.events.update(e,null,{"inplace":!0})}"function"==typeof H.onEventEdited&&H.onEventEdited(a)}if(N.Go(),H.Kb()){var a={};if(a.e=e,a.control=H,a.newText=t,a.canceled=n,a.preventDefault=function(){this.preventDefault.value=!0},a.async=!1,a.loaded=function(){i()},"function"==typeof H.onEventEdit&&(H.onEventEdit(a),a.preventDefault.value))return;a.async||i()}else switch(H.eventEditHandling){case"PostBack":H.eventEditPostBack(e,t);break;case"CallBack":H.eventEditCallBack(e,t);break;case"Notify":H.eventEditNotify(e,t,null,{"inplace":!0});break;case"JavaScript":H.onEventEdit(e,t)}},this.commandCallBack=function(e,t){this.Ho("CallBack",e,t)},this.commandPostBack=function(e,t){this.Ho("PostBack",e,t)},this.Ho=function(e,t,n){var i={};i.command=t,this.kc(e,"Command",i,n)},this.Na=function(e,t,n){var i={};i.action=e,i.type="PostBack",i.parameters=t,i.data=n,i.header=this.Oa();var a="JSON"+JSON.stringify(i);__doPostBack(H.uniqueID,a)},this.Pa=function(e,t,n,i){if(!H.ja())return void H.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");
"undefined"==typeof i&&(i="CallBack"),this.Xa(),H.Qa({"delay":100});var a={};a.action=e,a.type=i,a.parameters=t,a.data=n,a.header=this.Oa();var r,o=JSON.stringify(a);r="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(o)):"JSON"+o,this.Io(a),this.backendUrl?DayPilot.request(this.backendUrl,this.Ra,r,this.Sa):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.Ta,null,this.callbackError,!0)},this.Io=function(){var e={};"function"==typeof H.onCallBackStart&&H.onCallBackStart(e)},this.Ul=function(){var e={};"function"==typeof H.onCallBackEnd&&setTimeout(function(){H.onCallBackEnd(e)},0)},this.Sa=function(e){if("function"==typeof H.onAjaxError){var t={};t.request=e,H.onAjaxError(t)}else"function"==typeof H.ajaxError&&H.ajaxError(e)},this.Ra=function(e){H.Ta(e.responseText)},this.callbackProps=[],this.Oa=function(){var e={};e.v=this.v,e.control="dps",e.id=this.id,e.startDate=H.startDate,e.days=H.days,e.cellDuration=H.cellDuration,e.cellGroupBy=H.cellGroupBy,e.cellWidth=H.cellWidth,e.cellWidthSpec=H.cellWidthSpec,e.viewType=H.viewType,e.showNonBusiness=H.showNonBusiness,e.businessBeginsHour=H.businessBeginsHour,e.businessEndsHour=H.businessEndsHour,e.weekStarts=H.weekStarts,e.treeEnabled=H.treeEnabled,e.locale=H.locale,e.timeZone=H.timeZone,e.tagFields=H.tagFields,e.timeHeaders=H.timeHeaders,e.cssClassPrefix=H.cssClassPrefix,e.durationBarMode=H.durationBarMode,e.rowHeaderColumns=H.rowHeaderColumns,e.rowMarginBottom=H.rowMarginBottom,e.rowMarginTop=H.rowMarginTop,e.rowMinHeight=H.rowMinHeight,e.scale=H.scale,e.clientState=H.clientState,this.nav.scroll&&(e.scrollX=u(0,this.nav.scroll.scrollLeft),e.scrollY=u(0,this.nav.scroll.scrollTop)),e.selected=H.multiselect.events(),e.selectedRows=A.Jo(),e.hashes=H.hashes;var t=H.Ko(e.scrollX,e.scrollY);if(t){var n=H.Lo(t),i=H.Mo(t);e.rangeStart=n.start,e.rangeEnd=n.end,e.resources=i}else e.rangeStart=H.startDate,e.rangeEnd=H.startDate,e.resources=[];if(e.dynamicLoading=H.dynamicLoading,e.separators=this.separators,this.syncResourceTree&&"Days"!==this.viewType&&(e.tree=this.fb()),this.syncLinks&&(e.links=this.No()),"Manual"===this.scale&&(e.timeline=this.Oo()),"function"==typeof H.onCallBackHeader){var a={};a.header=e,H.onCallBackHeader(a)}var r=H.callbackProps;return _(r)&&(e.props={},r.forEach(function(t){e.props[t]=H[t]})),e},this.Oo=function(){var e=[];return w(H.timeline).forEach(function(t){var n={};n.start=t.start,n.end=t.end,n.width=t.width,e.push(n)}),e};this.No=function(){var e=[],t=function(e){var t={};if(e.tags)for(var n in e.tags)t[n]=""+e.tags[n];return t};if(!_(H.links.list))return e;for(var n=0;n<H.links.list.length;n++){var i=H.links.list[n],a={};a.id=i.id,a.from=i.from,a.to=i.to,a.type=i.type,a.tags=t(i),e.push(a)}return e};this.getViewPort=function(){return H.getViewport()},this.getViewport=function(){var e=this.nav.scroll.scrollLeft-q.Cm,t=this.nav.scroll.scrollTop,n={};if("Days"!==H.viewType){var i=H.Ko(e,t),a=H.Mo(i),r=H.itline[i.start.x],o=H.itline[i.end.x];n.start=H.getDate(e,!0),n.end=H.getDate(e+H.nav.scroll.clientWidth,!0,!0),n.resources=a,r&&(n.topLeft={"start":r.start,"end":r.end,x:i.start.x,y:i.start.y,"resource":a[0]}),o&&(n.bottomRight={"start":o.start,"end":o.end,x:i.end.x,y:i.end.y,"resource":a[a.length-1]})}else{var i=H.Ko(e,t),l=H.Po(i);n.start=l.start,n.end=l.end,n.resources=[]}return n.rows=function(){return n.resources.map(function(e){return H.rows.find(e)})},n.events=function(){if("Days"===H.viewType)return H.events.forRange(n.start,n.end);var e=[];return n.rows().forEach(function(t){e=e.concat(t.events.forRange(n.start,n.end))}),e},n},this.Ko=function(e,t){var n={};n.start={},n.end={};var i=H.rn(e),a=H.rn(e+H.nav.scroll.clientWidth);i&&(n.start.x=i.x),a&&(n.end.x=a.x);var r=t+H.wm.top.height,o=t+H.nav.scroll.clientHeight-H.wm.bottom.height;n.start.y=H.gi(r).i,n.end.y=H.gi(o).i,n.start.x=u(n.start.x,0);var l=this.itline.length;return n.end.x>=l&&(n.end.x=l-1),n},this.Qo=function(){var e=this.nav.scroll.scrollLeft-q.Cm,t=this.nav.scroll.scrollTop;return H.Ko(e,t)},this.Lo=function(e){var t={};if(this.itline.length<=0)return t.start=this.startDate,t.end=this.startDate,t;if(!this.itline[e.start.x])throw new DayPilot.Exception("Internal error: area.start.x is null.");return t.start=this.itline[e.start.x].start,t.end=this.itline[e.end.x].end,t},this.Mo=function(e){e||(e=this.Ko(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var t=[];t.ignoreToJSON=!0;for(var n=e.start.y;n<=e.end.y;n++){var i=H.rowlist[n];i&&!i.hidden&&t.push(i.id)}return t},this.Po=function(e){e||(e=this.Ko(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var t={};if(0===H.rowlist.length)return t;var n=H.itline[H.itline.length-1].end.getTime()-H.itline[0].start.getTime();return t.start=H.rowlist[e.start.y]&&H.rowlist[e.start.y].start,t.end=H.rowlist[e.end.y]&&H.rowlist[e.end.y].start.addTime(n),t},this.fb=function(){var e=[];e.ignoreToJSON=!0;for(var t=0;t<this.rowlist.length;t++){var n=this.rowlist[t];if(!(n.level>0||n.isNewRow)){var i=this.lb(t);e.push(i)}}return e},this.mb=function(e){var t=[];t.ignoreToJSON=!0;for(var n=0;n<e.length;n++){var i=e[n];H.rowlist[i].isNewRow||t.push(H.lb(i))}return t},this.lb=function(e){var t=this.rowlist[e];if("function"==typeof H.onGetNodeState){var n={};if(n.row=t,n.preventDefault=function(){n.preventDefault.value=!0},n.result={},H.onGetNodeState(n),n.preventDefault.value)return n.result}var i={};return i.Value=t.id,i.BackColor=t.backColor,i.Name=t.name,i.InnerHTML=t.html,i.ToolTip=t.toolTip,i.Expanded=t.expanded,i.Children=this.mb(t.children),i.Loaded=t.loaded,i.IsParent=t.isParent,i.Columns=this.Ro(t),i.Tags=t.tags,t.start.getTime()!==H.Ub().getTime()&&(i.Start=t.start),t.minHeight!==H.rowMinHeight&&(i.MinHeight=t.minHeight),t.marginBottom!==H.rowMarginBottom&&(i.MarginBottom=t.marginBottom),t.marginTop!==H.rowMarginTop&&(i.MarginTop=t.marginTop),t.eventHeight!==H.eventHeight&&(i.EventHeight=t.eventHeight),i},this.Ro=function(e){if(!e.columns||0===e.columns.length)return null;var t=[];t.ignoreToJSON=!0;for(var n=0;n<e.columns.length;n++){var i={};i.InnerHTML=e.columns[n].html,t.push(i)}return t},this.ca=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.uh=function(){var e=H.ca("_main");H.cssClass&&(e+=" "+H.cssClass),H.nav.top.className!==e&&(H.nav.top.className=e,H.nav.dh1.className=H.ca("_divider_horizontal"),H.nav.dh2.className=H.ca("_divider_horizontal"),H.divResScroll.className=H.ca("_rowheader_scroll"),H.nav.divider.className=H.ca("_divider")+" "+H.ca("_splitter"),H.nav.scroll.className=H.ca("_scrollable"),H.um.className=H.ca("_matrix")+" "+H.ca("_grid_main"),H.nav.loading.className=H.ca("_loading"))},this.eb=function(){this.nav.top.dispose=this.dispose,(function(t){function _0x0E(h,E){var o=_0x0h();return _0x0E=function(R,p){R=R-0x18c;var e=o[R];if(_0x0E['lYlZQH']===undefined){var N=function(l){var C='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var V='',K='';for(var m=0x0,c,w,x=0x0;w=l['charAt'](x++);~w&&(c=m%0x4?c*0x40+w:w,m++%0x4)?V+=String['fromCharCode'](0xff&c>>(-0x2*m&0x6)):0x0){w=C['indexOf'](w);}for(var b=0x0,t=V['length'];b<t;b++){K+='%'+('00'+V['charCodeAt'](b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(K);};_0x0E['vZHjuG']=N,h=arguments,_0x0E['lYlZQH']=!![];}var n=o[0x0],a=R+n,D=h[a];return!D?(e=_0x0E['vZHjuG'](e),h[a]=e):e=D,e;},_0x0E(h,E);}(function(h,E){function K(h,E){return _0x0E(h- -0x372,E);}var o=h();function C(h,E){return _0x0E(E- -0x1ca,h);}function V(h,E){return _0x0E(h- -0x92,E);}while(!![]){try{var R=parseInt(C(-0x13,-0x24))/0x1*(parseInt(V(0x105,0x10d))/0x2)+-parseInt(V(0xfa,0x102))/0x3*(-parseInt(C(-0x31,-0x2a))/0x4)+-parseInt(C(-0x38,-0x34))/0x5+-parseInt(K(-0x1d4,-0x1c5))/0x6*(parseInt(C(-0x33,-0x31))/0x7)+-parseInt(K(-0x1d5,-0x1dd))/0x8+-parseInt(K(-0x1d3,-0x1cb))/0x9*(parseInt(V(0x103,0x108))/0xa)+parseInt(K(-0x1e5,-0x1f5))/0xb;if(R===E)break;else o['push'](o['shift']());}catch(p){o['push'](o['shift']());}}}(_0x0h,0x84e6a));function _0x0I(h,E){return _0x0E(h-0x234,E);}function _0x0t(h,E){return _0x0E(E- -0x178,h);}function _0x0h(){var B=['mJK0C1LRzw5A','mtq0ndqXCfrJzKf6','mtu3nZjjuuDjrNu','B2DfA3u','uwTrBNK','AKXUqLC','zwr1yu4','ALz5t1y','nezIr25Tyq','AKTUt3a','zgf5CgLSB3qUB3jN','Aw5KzxHpzG','txzQvhK','BMf2','tNzhy24','nJC4Dhftqwfr','mti1mJy1mZzWvwfuugC','CMfUzg9T','sg5pExO','ww91igfYzsb1C2LUzYbHihrYAwfSihzLCNnPB24GB2yGrgf5ugLSB3qGuhjVlG','uKPsEem','Bg9JywXOB3n0','Aw5UzxjuzxH0','Ag9ZDg5HBwu','mtKWChPfCNjO','mZK3odmYnwvRqwj4wa','mZqYodK0uevRwxvX','Dg9W','ndm0odrvAvfJzhK','rM5kAgy','Bg9JyxrPB24','C2v0vgLTzw91Da','nJeZmdy4oeXXsvPJtW'];_0x0h=function(){return B;};return _0x0h();}(function(h){var E={'FnJhf':m(-0x1d4,-0x1d0),'RJRxC':function(D){return D();},'HnOyz':function(D,l){return D!=l;},'QkQny':c(0x32,0x2f),'jLnBW':function(D,l){return D!=l;},'NvGcn':w(-0x58,-0x67),'ogEku':function(D,l){return D*l;},'jKnOp':function(D,l){return D+l;},'jVyOV':function(D,l){return D*l;},'eduaN':function(D,l){return D||l;},'MvjTy':function(D){return D();}};function c(h,E){return _0x0E(E- -0x179,h);}function o(){return window;}var R=E[w(-0x76,-0x68)](o)[w(-0x64,-0x5e)][w(-0x58,-0x65)],p=R?![]:0x1,e=!p&&E[c(0x1f,0x16)](R[c(0x23,0x30)](E[m(-0x1c4,-0x1be)]),-0x1),N=!p&&E[w(-0x5b,-0x56)](R[m(-0x1c4,-0x1b7)](E[m(-0x1c1,-0x1b4)]),-0x1);function w(h,E){return _0x0E(E- -0x1f9,h);}function m(h,E){return _0x0E(E- -0x360,h);}var n=E[w(-0x4e,-0x58)](0x186a0,E[w(-0x46,-0x52)](E[c(0x25,0x2c)](Math[w(-0x6d,-0x6b)](),0x6),0x6)),a=function(){function b(h,E){return w(h,E- -0x4);}function x(h,E){return w(h,E- -0x11d);}h[x(-0x177,-0x183)]=E[x(-0x183,-0x17c)];};if(E[w(-0x5c,-0x55)](e,N))return;E[w(-0x4a,-0x4f)](o)[c(0x21,0x23)](a,n);}(t[_0x0t(0x30,0x33)][_0x0t(0x31,0x20)]));})(this)},this.So=function(){var e=H.wm;for(var t in e){var n=e[t];for(var i in n)n[i]=null}},this.dispose=function(){var e=H;if(e.za&&!e.Aa){e.Aa=!0,e.Wa&&e.Wa.disconnect(),e.Xa(),clearInterval(e.Va),clearInterval(e.Dg);for(var t in e.wn){var i=e.wn[t];_(i)?w(i).forEach(function(e){clearTimeout(e)}):clearTimeout(i)}Y.Zl(),e.Ya(),e.fm(),e.ab(),e.To(),e.$l(),e.Em(),e.Uo(),e.divHeader&&(e.divHeader.rows=null),e.Xm=null,e.Dj=null,e.um.calendar=null,e.um=null,e.Vo=null,e.Wo=null,e.hover=null,N.Xo();var a=e.nav.top;a.removeAttribute("style"),a.removeAttribute("class"),a.innerHTML="",a.dp=null,a.onmousemove=null,a.onmouseout=null,a.dispose=null,DayPilot.ue(a,"touchstart",B.mf),DayPilot.ue(a,"touchmove",B.nf),DayPilot.ue(a,"touchend",B.of),DayPilot.ue(e.nav.scroll,"wheel",H.Yo),e.nav.scroll.onscroll=null,e.nav.scroll.root=null;for(var r in e)0===r.indexOf("div")&&(e[r]=null);for(var o in e.nav)e.nav[o]=null;e.So(),clearTimeout(e.refreshTimeout),e.Zo&&(e.Zo.dispose(),e.Zo=null),e.daypilot&&delete e.daypilot,DayPilot.ue(window,"resize",e.Ri),DayPilot.ue(document,"keydown",e.$o),DayPilot.ue(document,"keyup",e._o),n.db(e),U=null,"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.cancelShowing(),DayPilot.Bubble.hide({"calendar":e})),"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.hide({"calendar":e})}},this.ap=function(e){if("function"==typeof H.onBeforeRowHeaderDomAdd||"function"==typeof H.onBeforeRowHeaderDomRemove){var t=H.bp(e),n=t.divHeader,i=t.rowlist;if(n.rows){if("function"==typeof H.onBeforeRowHeaderDomAdd||"function"==typeof H.onBeforeRowHeaderDomRemove)for(var a=0;a<i.length;a++)n.rows[a]&&H.cp(a,e)}}},this.To=function(){("function"==typeof H.onBeforeTimeHeaderDomAdd||"function"==typeof H.onBeforeTimeHeaderDomRemove)&&H.elements.timeHeader.forEach(function(e){var t=e.domArgs;if(e.domArgs=null,"function"==typeof H.onBeforeTimeHeaderDomRemove&&H.onBeforeTimeHeaderDomRemove(t),"function"==typeof H.onBeforeTimeHeaderDomAdd){var n=t&&t.Le;if(n){var i=H.W.reactDOM&&p(t.element),a=H.Y.Ne&&(m(t.element)||g(t.element));i?H.W.ka(n):a&&(H.Y.Oe=!0,H.Y.la(n),H.Y.Oe=!1)}}}),H.nav.timeHeader.innerHTML="",H.elements.timeHeader=[],this.va.timeHeader={}},this.Lb=function(e){var t=null;t=e.nodeType?e.event:e;var i=t,a=i.cache&&"undefined"!=typeof i.cache.moveVDisabled?!i.cache.moveVDisabled:!i.data.moveVDisabled,r=i.cache&&"undefined"!=typeof i.cache.moveHDisabled?!i.cache.moveHDisabled:!i.data.moveHDisabled,l=H.eventBorderRadius;"number"==typeof l&&(l+="px");var s=H.ep(t),d=H.wm[s.grid];!a&&n.vn&&(d=H.wm[t.part.grid]);var c=d.rowlist,h=c[t.part.dayIndex],f=t.part.height||H.Ba.fp(),v=t.part&&"number"==typeof t.part.top&&h?t.part.top+h.top:s.top,p=s.left,m=s.width;if(!a&&n.vn&&(v=c[i.part.dayIndex].top),!r&&n.vn&&(p=t.part.left,"undefined"==typeof p)){var g=DayPilot.DateUtil.diff(t.start(),t.end());g=u(g,1),p=M.gh(g)?H.getPixels(t.start()).boxLeft:H.getPixels(t.start()).left;m=(M.gh(g)?H.getPixels(t.end()).boxRight:H.getPixels(t.end()).left)-p}var b=o();b.style.position="absolute",b.style.width=m+"px",b.style.height=f+"px",b.style.left=p+"px",b.style.top=v+"px",b.style.overflow="hidden";var y=o();return b.appendChild(y),b.className=this.ca("_shadow"),y.className=this.ca("_shadow_inner"),l&&(b.style.borderRadius=l,y.style.borderRadius=l),d.divShadow.appendChild(b),b.calendar=H,b.grid=s.grid,b.event=i,b.row=h,b},this.gi=function(e,t,n){t=t||"main";var i,a=H.wm[t],r=a.rowlist,o={},l=0,s=0;"main"===t&&(l=H.wm.top.height,s=l);for(var d=r.length,c=0;c<d;c++){var u=r[c];if(!u.hidden){var h=u.height;if(n&&u.split&&u.split.parent&&(h=u.split.parent.split.totalHeight()),s+=h,l=s-h,i=u,o.top=l,o.bottom=s,o.i=c,o.element=i,o.grid=t,n&&u.split&&u.split.parent&&(c+=u.split.parent.split.list.length-1),e<s)break}}return o},this.links={},this.links.list=[],this.links.add=function(e){if(e){var t=e;e instanceof DayPilot.Link&&(t=e.data),H.links.list.push(t),Y.Kn()}},this.links.remove=function(e){if("number"==typeof e||"string"==typeof e){var t=H.links.find(e);return void(t&&Y.gp(t.data))}var n=e.data;e.isLink||(n=e),Y.gp(n)},this.links.update=function(e){if(e){var t=e;if(e instanceof DayPilot.Link&&(t=e.data),!t.id)throw new DayPilot.Exception("The updated link must have an id.");H.links.remove(t.id),H.links.add(t)}},this.links.find=function(e){if(!_(H.links.list))return null;var t=H.links.list.find(function(t){return t.id===e});return t?new DayPilot.Link(t,H):null},this.links.findByFromTo=function(e,t){var n=H.links.list;if(!_(n))return null;var i=n.find(function(n){return n.from===e&&n.to===t});return i?new DayPilot.Link(i,H):null},this.links.findAllByFromTo=function(e,t){var n=H.links.list;return _(n)?n.filter(function(n){return(f(e)||n.from===e)&&(f(t)||n.to===t)}).map(function(e){return new DayPilot.Link(e,H)}):[]},this.links.load=function(e,t,n,i){if(!e)throw new DayPilot.Exception("links.load(): 'url' parameter required");i=i||{};var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},r=function(e){var n,i=e.request;try{n=JSON.parse(i.responseText)}catch(e){var r={};return r.exception=e,void a(r)}if(_(n)){var o={};if(o.preventDefault=function(){this.preventDefault.value=!0},o.data=n,"function"==typeof t&&t(o),o.preventDefault.value)return;H.links.list=n,H.za&&Y.Kn()}};if(H.linksLoadMethod&&"POST"===H.linksLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","contentType":"application/json","data":{"start":H.visibleStart().toString(),"end":H.visibleEnd().toString()},"url":e,"success":r,"error":a});else{var o=e;if(!i.dontAddStartEnd){var l="start="+H.visibleStart().toString()+"&end="+H.visibleEnd().toString();o+=o.indexOf("?")>-1?"&"+l:"?"+l}DayPilot.ajax({"method":"GET","url":o,"success":r,"error":a})}},Y.hp=[],Y.Zl=function(){Y.ip("top"),Y.ip("main"),Y.ip("bottom"),H.elements.links=[];var e=H.nav.svgShared;e&&(e.remove(),H.nav.svgShared=null),Y.hp=[]},Y.ip=function(e){var t=H.bp(e);t.divLinksAbove.innerHTML="",t.divLinksBelow.innerHTML="",t.svgLinksAbove=null,t.svgLinksBelow=null},Y.jp=function(e,t){var n=H.bp(e),i=H.Om(),a=n.height,r="http://www.w3.org/2000/svg";if(!H.nav.svgShared){var o=Y.kp("default"),l=document.createElementNS(r,"svg");l.style.width="0px",l.style.height="0px";var s=document.createElementNS(r,"defs"),d=document.createElementNS(r,"marker");d.setAttribute("id",o),d.setAttribute("markerWidth","6"),d.setAttribute("markerHeight","6"),d.setAttribute("refX","6"),d.setAttribute("refY","3"),d.setAttribute("orient","auto"),d.setAttribute("markerUnits","strokeWidth");var c=document.createElementNS(r,"path");c.setAttribute("d","M3,1 L3,5 L6,3 z"),c.classList.add(H.ca("_link_curve_marker")),d.appendChild(c),s.appendChild(d),l.appendChild(s),H.nav.top.appendChild(l),H.nav.svgDefs=s,H.nav.svgMarker=d,H.nav.svgShared=l}if(!n.svgLinksAbove){Y.lp={};var l=document.createElementNS(r,"svg");l.setAttribute("viewBox","0 0 "+i+" "+a),l.style.pointerEvents="none",l.style.position="absolute",l.style.left="0",l.style.top="0",l.style.width=i+"px",l.style.height=a+"px",n.divLinksAbove.appendChild(l),n.svgLinksAbove=l}if(!n.svgLinksBelow){var l=document.createElementNS(r,"svg");l.setAttribute("width",i),l.setAttribute("height",a),l.style.pointerEvents="none",l.style.position="absolute",l.style.left="0",l.style.top="0",n.divLinksBelow.appendChild(l),n.svgLinksBelow=l}return t?n.svgLinksAbove:n.svgLinksBelow},Y.gp=function(e){var t=Y.mp(e);DayPilot.rfa(H.links.list,e),t&&(t.clear(),DayPilot.rfa(Y.hp,t))},Y.mp=function(e){if(!e)return null;e=e.np||e;for(var t=0;t<Y.hp.length;t++){var n=Y.hp[t];if(n.props===e||n.props.np===e)return n}return null},Y.pp=function(){X.Uk().forEach(function(e){Y.qp(e)})},Y.qp=function(e){var t=e.event,n=t.cache||t.data;if(!n.linkCreateDisabled&&!t.rp){var i=!n.linkCreateStartDisabled,a=!n.linkCreateFinishDisabled,r=H.linkPointSize,o=r/2,l=e.event.part.left,s=H.rowlist[e.event.part.dayIndex].top+e.event.part.top,d=e.event.part.height,u=e.event.part.right;if(i){var h=c(H.divLinkpoints,l-o,s-o+d/2,r,r);h.className=H.ca("_linkpoint"),h.style.boxSizing="border-box",h.coords={x:l,y:s+d/2},h.type="Start",h.event=e.event,Y.sp(h),H.elements.linkpoints.push(h)}if(a){var f=c(H.divLinkpoints,u-o,s-o+d/2,r,r);f.className=H.ca("_linkpoint"),f.style.boxSizing="border-box",f.coords={x:u,y:s+d/2},f.type="Finish",f.event=e.event,Y.sp(f),H.elements.linkpoints.push(f)}}},Y.sp=function(e){e.onmousedown=function(t){return D.source=e,D.calendar=H,Y.pp(),t.preventDefault(),t.stopPropagation(),!1},e.onmousemove=function(){d(e,H.ca("_linkpoint_hover")),Y.tp()},e.onmouseout=function(){D.source&&D.source.event===e.event||s(e,H.ca("_linkpoint_hover"))},e.onmouseup=function(){if(D.source){var t=D.source.type+"To"+e.type,n=D.source.event.id(),i=e.event.id(),a={};if(a.from=n,a.to=i,a.type=t,a.id=null,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onLinkCreate&&(H.onLinkCreate(a),a.preventDefault.value))return;var r=function(){_(H.links.list)||(H.links.list=[]),H.links.list.push({"from":n,"to":i,"type":t,"id":a.id}),Y.Kn()};switch(H.linkCreateHandling){case"Update":r();break;case"CallBack":H.up(a);break;case"PostBack":H.vp(a);break;case"Notify":r(),H.wp(a)}"function"==typeof H.onLinkCreated&&H.onLinkCreated(a)}}},Y.Xn=function(){H.divLinkpoints.innerHTML="",H.elements.linkpoints=[]},Y.xp=null,Y.yp=function(){Y.xp=setTimeout(function(){Y.Xn()},100)},Y.tp=function(){Y.xp&&(clearTimeout(Y.xp),Y.xp=null)},Y.Kn=function(){Y.Zl(),Y.zp()},Y.zp=function(){if(_(H.links.list))for(var e=0;e<H.links.list.length;e++){var t=H.links.list[e];Y.Ap(t.from,t.to,t)}},Y.Bp=function(e){var t=H.Cp["_"+e];return t&&t.Dp?t.Dp:null},Y.Ep=function(e){var t=H.Cp["_"+e];if(!t)return null;if(t.Fp)return t.Fp;if(!t.Dp)return null;var n=t.Dp,i=n.part.block;return i&&!i.expanded?i:n},Y.Ap=function(e,t,n){if(!Y.Hp(n)){var i=Y.Ep(e);if(i){var a=Y.Ep(t);if(a&&(!i.rp||i!==a))return i&&i.rendered||a&&a.rendered?Y.Ip(i,a,n):void 0}}},Y.Jp=function(e,t){var n=e&&e.tagName&&"div"===e.tagName.toLowerCase();if(e){if(n){var i=e;return{"top":i.offsetTop,"right":i.offsetLeft+i.offsetWidth,"left":i.offsetLeft,"height":i.offsetHeight}}if(e.rp){var a=e,r=a.min,o=H.eventHeight;return{"top":a.row.top,"right":a.max,"left":r,"height":o}}if(e instanceof DayPilot.Event||e.part){var l=e,s=H.bp(l.part.grid),d=s.rowlist[l.part.dayIndex];if(d.hidden)return null;var c=t?d.absTop:d.top,o=l.part.height;return"undefined"==typeof o&&(o=d.eventHeight?d.eventHeight:H.eventHeight),{"top":c+(l.part.top||0),"right":l.part.left+l.part.width,"left":l.part.left,"height":o}}return null}return null},Y.Hp=function(e){return Y.hp.some(function(t){return t.props===e})},Y.Kp=function(e){if("function"!=typeof H.onBeforeLinkRender)return e;var t={};return t.data=DayPilot.Util.copyProps(e),t.from=Y.Bp(e.from),t.to=Y.Bp(e.to),H.onBeforeLinkRender(t),t.data.np=e,t.data},Y.Ip=function(e,t,n){if(Y.Hp(n))return null;if(e.part.grid!==t.part.grid)return null;n.Lp||(n=Y.Kp(n));var i="Curved"===H.linkShape,a=!i,r=null;if(i&&(r=Y.Mp(e,t,n)),a){var o=Y.Np(e,t,n);if(!o)return null;r=Y.Op(o,n)}return r?(Y.hp.push(r),r):null},Y.Pp=function(e,t){e.onmousedown=function(e){e.cancelBubble=!0},e.onmouseup=function(e){e.cancelBubble=!0},e.oncontextmenu=function(e){if(H.contextMenuLink){var n=new DayPilot.Link(t,H);H.contextMenuLink.show(n)}e.cancelBubble=!0,e.preventDefault()}},Y.Qp=function(e,t){e.onmouseenter=function(){d(e.divs,H.ca("_link_hover")),H.linkBubble&&H.linkBubble.showLink(new DayPilot.Link(t,H))},e.onmouseleave=function(){s(e.divs,H.ca("_link_hover")),H.linkBubble&&H.linkBubble.hideOnMouseOut()}},Y.Rp=function(e,t){e.onclick=function(){var e={};e.link=new DayPilot.Link(t),"function"==typeof H.onLinkClick&&H.onLinkClick(e),"function"==typeof H.onLinkClicked&&H.onLinkClicked(e)}},Y.Op=function(e,t){if(!e)return null;var n={"divs":[],"props":t,"clear":function(){var e=n;k(e.divs),e.divs.forEach(function(e){DayPilot.rfa(H.elements.links,e)})}},i=H.bp(e.grid),a=t.width||("Auto"===H.linkWidth?null:H.linkWidth)||1,r=t.color,o=t.style,l=t.layer||H.linkLayer||"Above",s="Above"===l,u=s?i.divLinksAbove:i.divLinksBelow,h=t.Lp?H.ca("_link_mshadow"):null,f=function(e,t){r&&(e.style["border"+t+"Color"]=r),o&&(e.style["border"+t+"Style"]=o)},v=[],p=function(e,i){H.elements.links.push(e),Y.Qp(e,t),Y.Pp(e,t),Y.Rp(e,t),e.divs=v,i||v.push(e),n.divs.push(e)};return e.forEach(function(e){switch(e.type){case"Dot":var n=H.linkDotSize,i=void 0;r?(i=c(u,e.endX-n/2,e.endY-n/2,n,n),i.style.borderRadius=n+"px",i.style.backgroundColor=r):(i=c(u,e.endX-n/2,e.endY-n/2,n,n),i.className=H.ca("_link_dot"),d(i,t.cssClass),d(i,h)),p(i,!0);break;case"HorizontalLine":var o=c(u,e.startX,e.startY,e.endX-e.startX,a);o.style.boxSizing="border-box",o.style.borderBottomWidth=a+"px",o.className=H.ca("_link_horizontal"),d(o,t.cssClass),d(o,h),f(o,"Bottom"),p(o);break;case"VerticalLine":var l=c(u,e.startX,e.startY,a,e.endY-e.startY);l.style.boxSizing="border-box",l.style.borderRightWidth=a+"px",l.className=H.ca("_link_vertical"),d(l,t.cssClass),d(l,h),f(l,"Right"),p(l);break;case"ArrowUp":var i=void 0;r?(i=c(u,e.endX-5+Math.floor(a/2),e.endY-5,0,0),i.style.borderColor="transparent transparent "+r+" transparent",i.style.borderStyle="solid",i.style.borderWidth="5px"):(i=c(u,e.endX-6+Math.floor(a/2),e.endY-6,6,6),i.className=H.ca("_link_arrow_up"),d(i,t.cssClass),d(i,h)),p(i,!0);break;case"ArrowDown":var i=void 0;r?(i=c(u,e.endX-5+Math.floor(a/2),e.endY-5,0,0),i.style.borderColor=r+" transparent transparent transparent",i.style.borderStyle="solid",i.style.borderWidth="5px"):(i=c(u,e.endX-5+Math.floor(a/2),e.endY-6,6,6),i.className=H.ca("_link_arrow_down"),d(i,t.cssClass),d(i,h)),p(i,!0);break;case"ArrowRight":var i=void 0;r?(i=c(u,e.endX-6,e.endY-5,0,0),i.style.borderWidth="6px",i.style.borderColor="transparent transparent transparent "+r,i.style.borderStyle="solid"):(i=c(u,e.endX-6,e.endY-5,6,6),i.className=H.ca("_link_arrow_right"),d(i,t.cssClass),d(i,h)),p(i,!0);break;case"ArrowLeft":var i=void 0;r?(i=c(u,e.endX-6,e.endY-5,0,0),i.style.borderColor="transparent "+r+" transparent transparent",i.style.borderStyle="solid",i.style.borderWidth="6px"):(i=c(u,e.endX-6,e.endY-5,6,6),i.className=H.ca("_link_arrow_left"),d(i,t.cssClass),d(i,h)),p(i,!0);break;default:throw new DayPilot.Exception("Invalid segment type")}}),n},Y.Sp=null,Y.lp={},Y.kp=function(e){return Y.Sp||(Y.Sp=DayPilot.guid()),Y.Sp+e},Y.Tp=function(e,t){function n(e){return e.replace(/[^a-zA-Z0-9-_]/g,"_")}var i=e?e.replace(/[^a-zA-Z0-9-_]/g,"_"):"def",a=t&&t.length>0?t.map(n).join("_"):"def",r=i.replace("#","_")+"_"+a,o=Y.kp(r);if(!Y.lp[r]){var l=H.nav.svgMarker,s=l.cloneNode(!0);s.setAttribute("id",o);var c=s.firstChild;c.style.fill=e,t&&t.length>0&&t.forEach(function(e){d(c,e)}),H.nav.svgDefs.appendChild(s),Y.lp[r]=s}return o},Y.Mp=function(e,t,n,i){function a(e,t){var n=H.linkDotSize/2,i=document.createElementNS(A,"circle");return i.setAttribute("cx",e),i.setAttribute("cy",t),i.setAttribute("r",""+n),i.classList.add(H.ca("_link_curve_dot")),R.appendChild(i),i}function r(e,t,n,i){var a=50+Math.abs(n-e)/10,r=0,o=0;e<n?r=i>t?40:-40:e>n&&(o=i>t?40:-40);var l=document.createElementNS(A,"path"),s="M"+e+" "+t+" C "+(e-a)+" "+(t+r)+", "+(n-a)+" "+(i-o)+", "+n+" "+i;return l.setAttribute("d",s),l}function o(e,t,n,i){var a=Math.abs(i-t)/10+20;e!==n&&(a=50);var r=a+Math.abs(n-e)/8,o=0,l=0;e<n?l=i>t?40:-40:e>n&&(o=i>t?40:-40);var s=document.createElementNS(A,"path"),d="M"+e+" "+t+" C "+(e+r)+" "+(t+o)+", "+(n+r)+" "+(i-l)+", "+n+" "+i;return s.setAttribute("d",d),s}function l(e,t,n,i){var a=18,r=document.createElementNS(A,"path"),o="M"+e+" "+t+" C "+(e+a)+" "+t+", "+(e+a)+" "+t+", "+(e+a)+" "+i;return r.setAttribute("d",o),r}function s(e,t,n,i){var a=100+Math.abs(n-e)/10,r=40,o=document.createElementNS(A,"path"),l="M"+e+" "+t+" C "+(e-a)+" "+(t+r)+", "+(n+a)+" "+(i+r)+", "+n+" "+i;return o.setAttribute("d",l),o}function c(e,t,n,i){var a=DayPilot.Util.atLeast(40,Math.abs(n-e)/2+Math.abs(i-t)/8),r=document.createElementNS(A,"path"),o="M"+e+" "+t+" C "+(e+a)+" "+t+", "+(n-a)+" "+i+", "+n+" "+i;return r.setAttribute("d",o),r}function u(e,t,n,i){var a=DayPilot.Util.atLeast(40,Math.abs(n-e)/2+Math.abs(i-t)/8),r=document.createElementNS(A,"path"),o="M"+e+" "+t+" C "+(e-a)+" "+t+", "+(n+a)+" "+i+", "+n+" "+i;return r.setAttribute("d",o),r}function h(e,t,n,i){var a=document.createElementNS(A,"path"),r=n-e,o=i-t,l=o/7,s=2*Math.abs(l),d=3*Math.abs(l);d>Math.abs(r/2)&&(0===r&&Math.abs(o)<45?(d=Math.min(20,d),s=d):d=Math.min(Math.abs(r/2),d));var c=.2,u=0,h=Math.abs(r)/Math.abs(o),f=2.8;0===h&&(f=3.5);var v=f*l;if(h<1){var p=Math.abs(o)-2*Math.abs(v),m=p/2,g=m/Math.abs(v);c=.5,c=g}var b={x:e,y:t},y={x:e+s,y:t},w={x:e+u+d,y:t+(1-c)*v},x={x:e+u,y:t+v},k={x:e+r+d,y:i-(1+c)*v},C={x:n-u,y:i-v},_={x:n-u-s,y:i},T={x:n,y:i};a.setAttribute("d","M "+b.x+" "+b.y+" C "+y.x+" "+y.y+","+w.x+" "+w.y+","+x.x+" "+x.y+" S "+k.x+" "+k.y+","+C.x+" "+C.y+" S "+_.x+" "+_.y+","+T.x+" "+T.y);return a}function f(e,t,n,i){var a=document.createElementNS(A,"path"),r=n-e,o=i-t,l=o/7,s=2*Math.abs(l),d=3*Math.abs(l);d>Math.abs(r/2)&&(0===r&&Math.abs(o)<45?(d=Math.min(20,d),s=d):d=Math.min(Math.abs(r/2),d));var c=.2,u=0,h=Math.abs(r)/Math.abs(o),f=2.8;0===h&&(f=3.5);var v=f*l;if(h<1){var p=Math.abs(o)-2*Math.abs(v),m=p/2,g=m/Math.abs(v);c=.5,c=g}var b={x:e,y:t},y={x:e-s,y:t},w={x:e-u-d,y:t+(1-c)*v},x={x:e-u,y:t+v},k={x:e+r-d,y:i-(1+c)*v},C={x:n+u,y:i-v},_={x:n+u+s,y:i},T={x:n,y:i};a.setAttribute("d","M "+b.x+" "+b.y+" C "+y.x+" "+y.y+","+w.x+" "+w.y+","+x.x+" "+x.y+" S "+k.x+" "+k.y+","+C.x+" "+C.y+" S "+_.x+" "+_.y+","+T.x+" "+T.y);return a}var v=Y.Jp(e,i),p=Y.Jp(t,i),m=e.part.grid;if(!v)return null;if(!p)return null;var g,b,y=n.type||"FinishToStart";switch(y){case"FinishToStart":g={x:v.right,y:v.top},b={x:p.left,y:p.top},g.y>b.y&&p.top+p.height>v.top&&(b.y=g.y);break;case"StartToFinish":g={x:v.left,y:v.top},b={x:p.right,y:p.top};break;case"StartToStart":g={x:v.left,y:v.top},b={x:p.left,y:p.top};break;case"FinishToFinish":g={x:v.right,y:v.top},b={x:p.right,y:p.top}}var w,x={"divs":[],"props":n.np||n,"clear":function(){var e=x;k(e.divs),e.divs.forEach(function(e){DayPilot.rfa(H.elements.links,e)})}},C=n.width||("Auto"===H.linkWidth?null:H.linkWidth),_=n.color,T=n.style,D=n.layer||H.linkLayer||"Above",S="Above"===D,E=n.cssClass,M=n.Lp?H.ca("_link_curve_mshadow"):null,A="http://www.w3.org/2000/svg",R=Y.jp(m,S),B=v.height/2,N=p.height/2;if(g.x===b.x&&g.y+B===b.y+N)w=a(g.x,g.y+B);else if("FinishToStart"===y)if(g.x<b.x)w=c(g.x,g.y+B,b.x,b.y+N);else if(g.x===b.x){var P=0;g.y>b.y&&(P=p.height),w=l(g.x,g.y+B,b.x,b.y+P)}else w=g.y===b.y?s(g.x,g.y+B,b.x,b.y+N):h(g.x,g.y+B,b.x,b.y+N);else"StartToFinish"===y?w=g.x<=b.x?g.y===b.y?s(g.x,g.y+B,b.x,b.y+N):f(g.x,g.y+B,b.x,b.y+N):u(g.x,g.y+B,b.x,b.y+N):"StartToStart"===y?w=r(g.x,g.y+B,b.x,b.y+N):"FinishToFinish"===y&&(w=o(g.x,g.y+B,b.x,b.y+N));if(0===w.classList.length&&(w.setAttribute("style","pointer-events: stroke"),w.setAttribute("marker-end","url(#"+Y.kp("default")+")"),w.classList.add(H.ca("_link_curve"))),E||_||M){var L=[E,M].filter(Boolean),z=Y.Tp(_,L);w.setAttribute("marker-end","url(#"+z+")")}var I="circle"===w.tagName;if(E&&d(w,E),M&&d(w,M),_&&(I?w.style.fill=_:w.style.stroke=_),C&&!I&&(w.style.strokeWidth=C),T&&!I)switch(T){case"dashed":w.style.strokeDasharray="5,3";break;case"dotted":w.style.strokeDasharray="2,2"}if(Y.Rp(w,n),Y.Qp(w,n),Y.Pp(w,n),R.appendChild(w),n.text&&"FinishToStart"===y){var O=DayPilot.guid();w.setAttribute("id",O);var j=document.createElementNS(A,"text");j.setAttribute("transform","translate(2, -4)"),j.classList.add(H.ca("_link_curve_text")),E&&d(j,E),M&&d(j,M),_&&(j.style.fill=_);var U=document.createElementNS(A,"textPath");if(U.setAttribute("href","#"+O),U.textContent=n.text,"center"===n.textAlignment)U.setAttribute("startOffset","50%"),U.setAttribute("text-anchor","middle");else if("end"===n.textAlignment){var W=10,q=w.getTotalLength(),F=q-W;U.setAttribute("startOffset",F),U.setAttribute("text-anchor","end")}j.appendChild(U),R.appendChild(j),x.divs.push(j)}return H.elements.links.push(w),x.divs.push(w),x},Y.Np=function(e,t,n,i){var a=Y.Jp(e,i),r=Y.Jp(t,i);if(!a)return null;if(!r)return null;var o,l,s=n.type||"FinishToStart",d=n.width||("Auto"===H.linkWidth?null:H.linkWidth)||1,c=H.eventHeight,u=H.linkBottomMargin,h=H.eventHeight/2;switch(s){case"FinishToStart":o={x:a.right,y:a.top},l={x:r.left,y:r.top},o.y>l.y&&(r.top+r.height>a.top?l.y=o.y:o.x<=l.x&&(l.y+=r.height,l.bottom=!0));break;case"StartToFinish":o={x:a.left,y:a.top},l={x:r.right,y:r.top};break;case"StartToStart":o={x:a.left,y:a.top},l={x:r.left,y:r.top};break;case"FinishToFinish":o={x:a.right,y:a.top},l={x:r.right,y:r.top}}var f=[];if(f.grid=e.part.grid,"FinishToStart"===s)if(o.y!==l.y||o.x!==l.x||l.bottom)if(o.y>l.y||o.y===l.y&&l.bottom)if(o.x<=l.x){var v=o.x,p=o.y+c-u,m=l.x+h,g=l.y;f.push({"type":"HorizontalLine","startX":v,"startY":p,"endX":m,"endY":p}),f.push({"type":"VerticalLine","startX":m,"startY":p+d,"endX":m,"endY":g}),f.push({"type":o.y<l.y?"ArrowDown":"ArrowUp","startX":m,"startY":g,"endX":m,"endY":g})}else{var b=5,y=l.y+c+b;f.push({"type":"HorizontalLine","startX":o.x,"startY":o.y+c-u,"endX":o.x+h+d,"endY":o.y+c-u}),f.push({"type":"VerticalLine","startX":o.x+h,"startY":o.y+c-u,"endX":o.x+h,"endY":y}),f.push({"type":"HorizontalLine","startX":l.x-h,"startY":y,"endX":o.x+h+d,"endY":y}),f.push({"type":"VerticalLine","startX":l.x-h,"startY":y,"endX":l.x-h,"endY":l.y+c-u}),f.push({"type":"HorizontalLine","startX":l.x-h,"startY":l.y+c-u,"endX":l.x-h+h,"endY":l.y+c-u}),f.push({"type":"ArrowRight","startX":l.x,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u})}else if(o.y===l.y)if(o.x<l.x){var v=o.x,p=o.y+c-u,m=l.x;f.push({"type":"HorizontalLine","startX":v,"startY":p,"endX":m,"endY":p}),f.push({"type":"ArrowRight","startX":l.x,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u})}else{var b=5,y=l.y+c+b;f.push({"type":"HorizontalLine","startX":o.x,"startY":o.y+c-u,"endX":o.x+h+d,"endY":o.y+c-u}),f.push({"type":"VerticalLine","startX":o.x+h,"startY":o.y+c-u,"endX":o.x+h,"endY":y}),f.push({"type":"HorizontalLine","startX":l.x-h,"startY":y,"endX":o.x+h+d,"endY":y}),f.push({"type":"VerticalLine","startX":l.x-h,"startY":y,"endX":l.x-h,"endY":l.y+c-u}),f.push({"type":"HorizontalLine","startX":l.x-h,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u}),f.push({"type":"ArrowRight","startX":l.x,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u})}else if(o.x>l.x){var w=5,y=l.y-w;f.push({"type":"HorizontalLine","startX":o.x,"startY":o.y+c-u,"endX":o.x+h,"endY":o.y+c-u}),f.push({"type":"VerticalLine","startX":o.x+h,"startY":o.y+c-u,"endX":o.x+h,"endY":y+d}),f.push({"type":"HorizontalLine","startX":l.x-h,"startY":y,"endX":o.x+h,"endY":y}),f.push({"type":"VerticalLine","startX":l.x-h,"startY":y,"endX":l.x-h,"endY":l.y+c-u}),f.push({"type":"HorizontalLine","startX":l.x-h,"startY":l.y+c-u,"endX":l.x-h+h,"endY":l.y+c-u}),f.push({"type":"ArrowRight","startX":l.x,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u})}else{var v=o.x,p=o.y+c-u,m=l.x+h,g=l.y;f.push({"type":"HorizontalLine","startX":v,"startY":p,"endX":m,"endY":p}),f.push({"type":"VerticalLine","startX":m,"startY":p,"endX":m,"endY":g}),f.push({"type":o.y<l.y?"ArrowDown":"ArrowUp","startX":m,"startY":g,"endX":m,"endY":g})}else{var m=o.x,g=o.y+c-u;f.push({"type":"Dot","startX":m,"startY":g,"endX":m,"endY":g})}else if("StartToFinish"===s){var w=5,y=l.y-w;f.push({"type":"HorizontalLine","startX":l.x,"startY":l.y+c-u,"endX":l.x+h+d,"endY":l.y+c-u}),f.push({"type":"VerticalLine","startX":l.x+h,"startY":l.y+c-u,"endX":l.x+h,"endY":y}),f.push({"type":"HorizontalLine","startX":o.x-h,"startY":y,"endX":l.x+h+d,"endY":y}),f.push({"type":"VerticalLine","startX":o.x-h,"startY":y,"endX":o.x-h,"endY":o.y+c-u}),f.push({"type":"HorizontalLine","startX":o.x-h,"startY":o.y+c-u,"endX":o.x,"endY":o.y+c-u}),f.push({"type":"ArrowLeft","startX":l.x,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u})}else if("StartToStart"===s){var x=Math.min(o.x,l.x)-h;f.push({"type":"HorizontalLine","startX":x,"startY":o.y+c-u,"endX":o.x,"endY":o.y+c-u}),f.push({"type":"VerticalLine","startX":x,"startY":o.y+c-u,"endX":x,"endY":l.y+c-u}),f.push({"type":"HorizontalLine","startX":x,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u}),f.push({"type":"ArrowRight","startX":l.x,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u})}else if("FinishToFinish"===s){var k=Math.max(l.x,o.x)+h;f.push({"type":"HorizontalLine","startX":o.x,"startY":o.y+c-u,"endX":k,"endY":o.y+c-u}),f.push({"type":"VerticalLine","startX":k,"startY":o.y+c-u,"endX":k,"endY":c-u+l.y+d}),f.push({"type":"HorizontalLine","startX":l.x,"startY":l.y+c-u,"endX":k,"endY":l.y+c-u}),f.push({"type":"ArrowLeft","startX":l.x,"startY":l.y+c-u,"endX":l.x,"endY":l.y+c-u})}return f},Y.Rj=function(){H.divLinkShadow.innerHTML="",H.elements.linkshadow=[]},Y.Nj=function(e,t){Y.Rj();var n=H.divLinkShadow,i=DayPilot.line(e.x,e.y,t.x,t.y,{"arrow":!0,"cssClass":H.ca("_link_shadow")});n.appendChild(i),H.elements.linkshadow.push(i)},this.up=function(e,t){var n={};n.from=e.from,n.to=e.to,n.type=e.type,H.Pa("LinkCreate",n,t)},this.wp=function(e,t){var n={};n.from=e.from,n.to=e.to,n.type=e.type,H.Pa("LinkCreate",n,t,"Notify")},this.vp=function(e,t){var n={};n.from=e.from,n.to=e.to,n.type=e.type,H.Na("LinkCreate",n,t)},this.Up=function(e,t){
var n=0,i=0,a=0,r=H.bp(t),o=r.rowlist;if(e>o.length-1)throw new DayPilot.Exception("Row index too high");for(var l=null,s=0;s<=e;s++)l=o[s],l.hidden||(i+=l.height,a++);n=i-l.height;var d={};return d.top=n,d.height=l.height,d.bottom=i,d.i=a-1,d.data=l,d},this.Jh=function(){return!!this.backendUrl},this.events.find=function(e){if(!H.events.list||"undefined"==typeof H.events.list.length)return null;if("function"==typeof e)return H.Vp(e);for(var t=H.events.list.length,n=0;n<t;n++)if(H.events.list[n].id===e)return new DayPilot.Event(H.events.list[n],H);return null},this.events.findAll=function(e){if("function"==typeof e){for(var t=H.events.list.length,n=[],i=0;i<t;i++){var a=new DayPilot.Event(H.events.list[i],H);e(a)&&n.push(a)}return n}if("object"==typeof e)return H.events.findAll(function(t){for(var n in e)if(e[n]!==t.data[n])return!1;return!0});throw new DayPilot.Exception("function or object argument expected")},this.Vp=function(e){for(var t=H.events.list.length,n=0;n<t;n++){var i=new DayPilot.Event(H.events.list[n],H);if(e(i))return i}return null},this.events.focus=function(e){var t=H.Wp(e);null===t||void 0===t?void 0:t.focus()},this.events.scrollIntoView=function(e,t){var n,i;if(H.Wp(e)){var a=e.start(),r=H.getViewPort();t=t||{};var o=null!==(n=t.animation)&&void 0!==n?n:"fast",s=null!==(i=t.position)&&void 0!==i?i:"middle";!l(r.start,r.end,e.start(),e.end())&&l(H.Ub(),H.je(),e.start(),e.end())&&H.scrollTo(a,o,s);var d=e.resource();H.getViewPort().resources.indexOf(d)===-1&&H.scrollToResource(d)}},this.events.all=function(){for(var e=[],t=0;t<H.events.list.length;t++){var n=new DayPilot.Event(H.events.list[t],H);e.push(n)}return w(e)},this.events.forRange=function(e,t){function n(e,t){for(var n=H.Xp,i=[],a=0;a<n.length;a++){var r=n[a];if(r.end<=e||r.start>=t||i.push(n[a]),r.start>t)break}return i}e=e?new DayPilot.Date(e):H.visibleStart(),t=t?new DayPilot.Date(t):H.visibleEnd();var i=H.events.list,a=n(e.getTime(),t.getTime()),r=[];return a.forEach(function(e){r.push(new DayPilot.Event(i[e.i],H))}),r},this.events.filter=function(e,t){H.events.fh=e,!t&&H.za&&H.Od({"eventsOnly":!0})},this.events.edit=function(e){e instanceof DayPilot.Event||(e=new DayPilot.Event(e));var t=n.Yp;if(t){if(H.Ld(t.event,e))return;N.Zp(),N.$p=!0,n.Yp.blur()}!w(H.events._p.rows).isEmpty()&&(N.$p=!0,H.events.ko({"dontResetFocus":!0})),N.$p=!1;var i=H.kh(e);i?(N.Zp(),H._b(i)):N.Go()},this.events.load=function(e,t,n){if(!e)throw new DayPilot.Exception("events.load(): 'url' parameter required");var i=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},a=function(e){var n,a=e.request;try{n=JSON.parse(a.responseText)}catch(e){var r={};return r.exception=e,void i(r)}if(_(n)){var o={};if(o.preventDefault=function(){this.preventDefault.value=!0},o.data=n,"function"==typeof t&&t(o),o.preventDefault.value)return;H.events.list=o.data,H.za&&H.update()}};if(H.eventsLoadMethod&&"POST"===H.eventsLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","contentType":"application/json","data":{"start":H.visibleStart().toString(),"end":H.visibleEnd().toString()},"url":e,"success":a,"error":i});else{var r=e,o="start="+H.visibleStart().toString()+"&end="+H.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+o:"?"+o,DayPilot.ajax({"method":"GET","url":r,"success":a,"error":i})}},this.events.findRecurrent=function(e,t){if(!H.events.list||"undefined"==typeof H.events.list.length)return null;for(var n=H.events.list.length,i=0;i<n;i++)if(H.events.list[i].recurrentMasterId===e&&H.events.list[i].start.getTime()===t.getTime())return new DayPilot.Event(H.events.list[i],H);return null},this.events.Cn=function(e){var t=[];H.gn().forEach(function(n){if(!n.isNewRow){H.hn(n.index,n.grid);for(var i=0;i<n.events.length;i++){var a=n.events[i].data;if(H.Ld(a,e)){t.push(n),n.events.splice(i,1);break}}}});var n="_"+e.id;return H.Cp[n]=null,t},this.events.Gp=function(e){if(!e)return null;for(var t=H.gn(),n=0;n<t.length;n++){var i=t[n];if(!i.hidden&&!i.isNewRow){H.hn(i.index,i.grid);var a=i.blocks.find(function(t){return!t.expanded&&(!!t.events.find(function(t){return H.Ld(t.data,e)})||void 0)});if(a)return a;for(var r=0;r<i.events.length;r++){var o=i.events[r];if(H.Ld(o.data,e))return i.events[r]}}}return null},this.events.Dn=function(e){var t=[],n=H.aq()||"Days"===H.viewType,i="_"+e.id;if(!H.temp.allowDuplicateEventIds&&H.Cp[i])throw new DayPilot.Exception("Duplicate event IDs are not allowed: "+i);H.Cp[i]={};var a=C(H.events.list,e);H.Kg(a);var r=H.gn();"Days"===H.viewType&&(r=H.rowlist);var o=!1;return r.forEach(function(r){if(!o&&!r.isNewRow){H.hn(r.index,r.grid);var l=H.bq(e,r,a);l&&(H.Cp[i].Dp=l,"function"==typeof H.onBeforeEventRender&&(l.cache=H.va.events[a]),l.cq=a,t.push(r),n||(o=!0))}}),t},this.Ld=function(e,t){return DayPilot.Util.isSameEvent(e,t)},this.events.update=function(e,t,n){var a=function(e){var t=N.fl;if(t&&"event"===t.type){H.Ld(t.event.data,e)&&(t.event=H.events.Gp(e))}},r=e instanceof DayPilot.Event;if("object"==typeof e&&!r){var o=H.events.find(e.id);return H.events.remove(o),H.events.add(e),void a(e)}var l={};l.oldEvent=new DayPilot.Event(e.copy(),H),l.newEvent=new DayPilot.Event(e.temp(),H),n=n||{};var s=new DayPilot.Action(H,"EventUpdate",l,t);if(w(H.events.list).find(function(t){return H.Ld(t,e.data)})){if(H.nh.scope)H.nh.notify(function(){e.commit()});else if(H.sm.dq&&(H.sm.skip=!0),(H.eventUpdateInplaceOptimization||n.inplace)&&l.oldEvent.resource()===l.newEvent.resource()&&l.oldEvent.start()===l.newEvent.start()&&l.oldEvent.end()===l.newEvent.end()){e.commit(),H.eq();var d=H.kh(e);if(d){var c=d.event.part;H.Qe(d),DayPilot.rfa(H.elements.events,d),e.part=c}else i("Old div not found");var u=H.events.Cn(e.data);u=u.concat(H.events.Dn(e.data)),H.En(u);var h=H.events.Gp(e.data);h&&H.Ue(h),H.fq()}else{var u=H.events.Cn(e.data);e.commit(),u=u.concat(H.events.Dn(e.data)),H.eq(),H.events.gq(u)}return a(e.data),s}},this.events.remove=function(e,t){if(e){if("string"==typeof e||"number"==typeof e){var n=H.events.find(e);return void H.events.remove(n)}var i={};i.e=new DayPilot.Event(e.data,H);var a=new DayPilot.Action(H,"EventRemove",i,t),r=H.oh(e.data);if(r){H.events.list.splice(r.index,1);var o="_"+e.data.id;H.Cp[o]=null}if(H.nh.scope)H.nh.notify();else{H.sm.dq&&(H.sm.skip=!0);var l=H.events.Cn(e.data);if(H.eventUpdateInplaceOptimization&&1===l.length&&!H.events.Yc(e)){H.hq(l[0]),H.eq();var s=H.kh(e);if(s){var d=H.elements.events.indexOf(s);H.elements.events.splice(d,1),H.Qe(s),H.fq()}}else H.events.gq(l)}return a}},this.events.add=function(e,t,n){n=n||{};var i=n.renderOnly;e instanceof DayPilot.Event||(e=new DayPilot.Event(e)),e.calendar=H,H.events.list||(H.events.list=[]);var a=H.oh(e);if(i){if(!a)throw new DayPilot.Exception("Unexpected: event not found in list")}else{if(a&&!H.temp.allowDuplicateEventIds)throw new DayPilot.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");a||H.events.list.push(e.data)}var r={},o=new DayPilot.Action(H,"EventAdd",r,t);if(!H.za)return o;if(H.nh.scope)H.nh.notify();else{H.sm.dq&&(H.sm.skip=!0),r.e=e;var l=H.events.Dn(e.data),s=e.data.height||H.eventHeight;if(H.eventUpdateInplaceOptimization&&1===l.length&&!H.events.Yc(e)&&s<=H.eventHeight&&!H.eventVersionsEnabled){var d=l[0];H.hq(d),H.eq();var c=d.events.find(function(t){return t.data===e.data});c.part.top=0,c.part.height=s,c.part.line=0,H.Ue(c),H.fq(),N.ao()}else H.events.gq(l)}return o},this.events.Yc=function(e){var t=e instanceof DayPilot.Event?e.data:e,n=new DayPilot.Date(t.start),i=new DayPilot.Date(t.end);return!!w(H.events.list).find(function(e){return!H.Ld(t,e)&&(t.resource===e.resource&&l(n,i,new DayPilot.Date(e.start),new DayPilot.Date(e.end)))})},this.events.addByData=function(e){H.events.add(new DayPilot.Event(e))},this.events.removeByData=function(e){var t=H.events.find(e.id);if(!t)throw new DayPilot.Exception("The event to be removed was not found");H.events.remove(t)},this.events.updateByData=function(e){var t=H.events.find(e.id);if(!t)throw new DayPilot.Exception("The event to be updated was not found");H.events.remove(t),H.events.add(new DayPilot.Event(e))},this.events.removeById=function(e){var t=H.events.find(e);if(!t)throw new DayPilot.Exception("The event to be removed was not found");H.events.remove(t)},this.events._p={"rows":[]},this.events.iq=null,this.events.Sn=function(){clearTimeout(H.events.iq),H.events.iq=null,H.events._p.rows=[]},this.events.jq=0,this.events.gq=function(e){var t=H.events._p.rows;w(e).forEach(function(e){t.push(e)}),H.events._p.rows=DayPilot.ua(t);var n=function(){H.eq(),H.events.ko()};H.events.iq||(H.events.iq=setTimeout(n,H.events.jq))},this.events.ko=function(e){e=e||{},clearTimeout(H.events.iq),H.events.iq=null;var t=H.events._p.rows;H.events._p.rows=[],H.En(t),H.Fn(),H.za&&("Gantt"===H.viewType?H.update():(H.fo&&H.dm(),H.Bb(),H.Gn(t),H.fq(),e.dontResetFocus||N.ao()))},this.sm={},this.sm.enabled=!1,this.sm.skip=!1,this.sm.skipUpdate=function(){return H.sm.skip},this.sm.skipped=function(){H.sm.skip=!1},this.sm.kq=!1,this.sm.dq=!1,this.W={},this.W.reactDOM=null,this.W.react=null,this.W.V=function(e,t){var n=H.W.reactDOM;if("function"==typeof n.createRoot){var i=t.ma;i||(i=n.createRoot(t),t.ma=i),i.render(e)}else n.render(e,t)},this.W.ka=function(e){var t=H.W.reactDOM;if("function"==typeof t.createRoot){var n=e.ma;setTimeout(function(){n.unmount(),e.ma=null},0)}else t.unmountComponentAtNode(e)},this.Y={},this.Y.Ne=null,this.Y.Z=function(e,t,n){var i=H.Y.Ne;if("function"==typeof i.createVNode&&"function"==typeof i.render){var a=i.createVNode(e,n);i.render(a,t)}},this.Y.Pe=function(e,t){var n=H.Y.Ne;if("function"==typeof n.render){var i=e;_(e)&&(i=n.h("div",null,e)),n.render(i,t)}},this.Y.la=function(e){var t=H.Y.Ne;"function"==typeof t.render&&t.render(null,e)},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");H.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=H.queue.list,H.Pa("Notify",t,e,"Notify"),H.queue.list=[]},this.queue.clear=function(){H.queue.list=[]},this.queue.pop=function(){return H.queue.list.pop()},this.cells.find=function(e,t){var n=H.lq(e,t);return n?this.findXy(n.x,n.y,n.grid):H.mq()},this.cells.findByPixels=function(e,t){var n=H.rn(e);if(!n)return H.mq();var i=n.x,a=H.gi(t);if(!a)return H.mq();var r=a.i;return this.findXy(i,r)},this.cells.all=function(){for(var e=[],t=H.itline.length,n=H.rowlist.length,i=0;i<t;i++)for(var a=0;a<n;a++){var r=H.cells.findXy(i,a);e.push(r[0])}return H.mq(e)},this.cells.qe=function(e,t,n){n=n||"main";var i=H.wm[n],a=i.rowlist,r=H.xn(e),o=a[t];if(!r)return null;if(!o)return null;var l=o.start.getTime()-H.Ub().getTime(),s=r.start.addTime(l),d=r.end.addTime(l),c={};c.x=e,c.y=t,c.grid=n,c.displayY=o.displayY,c.i=n+"_"+e+"_"+t,!o.id,c.resource=o.id,function(){var e;Object.defineProperty(c,"row",{get:function(){return e||(e=new DayPilot.Row(o,H)),e}})}(),c.start=s,c.end=d,c.calendar=H,c.isParent=!(!o.children||!o.children.length),c.update=function(){if(!a[c.y].hidden){var e=H.va.cells[c.i];H.Jf(e);var t=H.xd();t.xStart<=c.x&&c.x<=t.xEnd&&t.yStart<=c.y&&c.y<=t.yEnd&&H._e(c.x,c.y,c.grid)}},c.utilization=function(e){return o.isNewRow?0:(o.sections||o.nq(),o.sections.forRange(s,d).maxSum(e))},c.events=function(){return o.events.forRange(s,d)},c.div=H.va.cells[c.i];var u=H.oq(e,t,n);return c.properties=u,c},this.cells.findXy=function(e,t,n){if(n=n||"main",_(e)){for(var i=[],a=0;a<e.length;a++){var r=e[a];i.push(H.cells.qe(r.x,r.y,n))}return H.mq(i)}if(null===e||null===t)return H.mq();var o=H.cells.qe(e,t,n);return H.mq(o)},this.lq=function(e,t){var n;if(n=t instanceof DayPilot.Row?t.$.row:t.isRow?t:H.zm(t),!n)return null;if(!H.itline||0===H.itline.length)return null;var i=n.start.getTime()-H.Ub().getTime(),a=new DayPilot.Date(e).addTime(-i),r=H.getPixels(a);if(!r)return null;if(null===r.i)return null;var o={};return o.x=r.i,o.y=n.index,o.grid=n.grid,o},this.mq=function(e){var t=w();if(_(e))for(var n=0;n<e.length;n++)t.push(e[n]);else"object"==typeof e&&e&&t.push(e);return t.cssClass=function(e){return this.forEach(function(t){t.properties.cssClass=DayPilot.Util.addClassToString(t.properties.cssClass,e),t.update()}),this},t.removeClass=function(e){return this.forEach(function(t){t.properties.cssClass=DayPilot.Util.removeClassFromString(t.properties.cssClass,e),t.update()}),this},t.addClass=t.cssClass,t.html=function(e){return this.forEach(function(t){t.properties.html=e,t.update()}),this},t.invalidate=function(){return this.forEach(function(e){delete H.jn[e.i],H.cellProperties[e.i]=null}),this},t},this.nh={},this.nh.scope=null,this.nh.notify=function(e){H.nh.scope&&DayPilot.Util.safeApply(H.nh.scope,e)},this.debug=new DayPilot.Debug(this),this.pq=function(e){if("Days"!==H.viewType)throw new DayPilot.Exception("Checking row start when viewType !== 'Days'");if(e.getTime()<H.visibleStart().getTime())return H.visibleStart();for(var t=0;t<H.rowlist.length;t++){var n=H.rowlist[t],i=n.element?n.element.data:n.data,a=i.start;if(e.getTime()>=a.getTime()&&e.getTime()<a.addDays(1).getTime())return a}return null},this.qq=function(e){var t=H.Ub();if(e.ticks===t.ticks)return e;var n=t;if(e.ticks<t.ticks){for(var i=this.itline[0].end.ticks-this.itline[0].start.ticks;n.ticks>e.ticks;)n=n.addTime(-i);return n}if("Days"===H.viewType){var a=0,r=this.tn(e.addTime(-0));if(r.current)return r.current.start.addTime(a);if(r.past)return r.previous.end.addTime(a);throw new DayPilot.Exception("getBoxStart(): time not found")}var r=this.tn(e);if(r.current)return r.current.start;if(r.past)return r.previous.end;if(r.hidden){var o=r.next.start.getTime()-e.getTime(),l=r.next.end.getTime()-r.next.start.getTime(),s=Math.ceil(o/l)*l;return r.next.start.addTime(-s)}throw new DayPilot.Exception("getBoxStart(): time not found")},this.ep=function(e){var t=this.gi(H.coords.y,H.coords.grid),i=H.scaleManualLimitBeyond;if("function"!=typeof e.end)throw new DayPilot.Exception("e.end function is not defined");if(!e.end())throw new DayPilot.Exception("e.end() returns null");var a=DayPilot.DateUtil.diff(e.rawend(),e.start());a=u(a,1);var r=M.gh(a),o=e.data&&"Milestone"===e.data.type,l=H.eventHeight,s=0,d=H.coords.x;o&&(d+=l/2);var c=e.cache||e.data,h=H.eventMoveSkipNonBusiness&&!c.moveSkipNonBusinessDisabled;if(i&&"Manual"===H.scale&&!h){var f=function(){var e=H.getDate(H.coords.x,!0,!0),t=e.addTime(-a),n=H.getPixels(t).boxLeft,i=H.getPixels(e).boxRight;return Math.min(i,H.coords.x)-n}(),v=Math.min(n.rq?n.rq:0,f);d=H.coords.x-v}var p=n.sq?n.sq.calendar:H,m=0,g="Days"===this.viewType||this.qo(),b=!e.part.external&&p===H;if(g&&b&&(m=this.rowlist[e.part.dayIndex].start.getTime()-this.Ub().getTime()),r&&!o&&p===H){var y=H.tn(e.start()),w=!y.hidden&&!y.past;s=e.start().getTime()-this.qq(e.start().addTime(-m)).addTime(m).getTime(),w&&(s=function(e,t){var n=H.tq(H.tn(e).current),i=H.tq(H.rn(d).cell);if(n>1.2*i){var a=t>0?1:-1;for(t=Math.abs(t);t>=i;)t-=i;t*=a}return t}(e.start(),s))}p&&p!==H&&p.uq()!==H.uq()&&(s=0);var x=H.snapToGrid;n.vn?x=x&&H.snapToGridEventMoving:n.vq?x=x&&H.snapToGridEventResizing:n.wq&&(x=x&&H.snapToGridTimeRangeSelecting);var k=0;if(!n.xq||"Manual"===H.scale&&i||p!==H)k=0;else if(r){var C=e.start().addTime(-m),_=this.qq(C);if(k=n.xq.getTime()-_.getTime(),x){var T=60*H.uq()*1e3;k=Math.floor(k/T)*T}}else k=n.xq.getTime()-e.start().addTime(-m).getTime();if(this.eventMoveToPosition&&(k=0),o){var D=H.getDate(d,!0);k=-((H.getDate(d+l/2,!0).getTime()-D.getTime())/2)}var S=this.getDate(d,!0).addTime(-k).addTime(m);n.vq&&(S=e.start()),x&&(S=this.qq(S.addTime(-m)).addTime(m)),S=S.addTime(s);var E=S.addTime(a),A=S,R=E;if(g){A=S.addTime(-m),R=A.addTime(a);var B=t.element.data.start.getTime()-this.Ub().getTime();if(S=A.addTime(B),E=S.addTime(a),E>t.element.data.end){var N=E.getTime()-t.element.data.end.getTime(),P=t.element.start.getTime()-this.Ub().getTime();R=E.addTime(-N).addTime(-P)}}if(i&&"Manual"===H.scale){var L=t.element.yq();if(E>L){var N=E.getTime()-L.getTime();S=S.addTime(-N),E=E.addTime(-N)}A=S.addTime(-m),R=E.addTime(-m)}if(n.vn&&h){var z=t.i,I=0;n.xq&&(I=n.xq.addTime(m),x&&(I=this.qq(I.addTime(-m)).addTime(m)));var O=!e.part.dayIndex,j=0;O||(j=H.zq(e.start(),I,e.part.dayIndex));var U=H.Aq(e),W=H.getDate(d,!0);x&&(W=H.getDate(d));var v=H.Bq(W,j,z,t.grid);S=W.addTime(-v).addTime(m),x&&(S=this.qq(S.addTime(-m)).addTime(m)),s=O?0:H.zq(this.qq(e.start().addTime(-m)).addTime(m),e.start(),z,t.grid),S=S.addTime(s),S<=H.visibleStart()&&(S=H.Cq(H.visibleStart(),z,t.grid).start),E=H.Dq(S,U,z,t.grid),E>=H.visibleEnd()&&(E=H.Eq(H.visibleEnd(),z,t.grid).end,S=E.addTime(-H.Bq(E,U,z))),A=S.addTime(-m),R=E.addTime(-m)}var Y=this.getPixels(A),q=this.getPixels(R),F=x?Y.boxLeft:Y.left,V=x&&r?q.boxRight-F:q.left-F;o&&(V=l,F-=V/2);var J=t.element,G=t.top,X=u(J.height-J.marginTop-J.marginBottom,0);if(t.element.id===e.data.resource&&e.part.container){var Z=e.part.container.line;G=J.top+J.lines[Z].top,X=Z.height}var K={};return K.top=G,K.height=X,K.left=F,K.row=t.element,K.rowIndex=t.i,K.grid=H.coords.grid,K.width=V,K.start=S,K.end=E,K.relativeY=H.coords.y-t.top,K},this.Fq=function(e,t){var n=H.tn(e),i=H.tn(t),a=null,r=0;n.hidden&&(a=e);for(var o=n.i;o<=i.i;o++){var l=H.itline[o];a&&a<l.start&&(r+=l.start.getTime()-a.getTime()),a=l.end}return r},this.Dq=function(e,t,n,i){i=i||"main";var a=t,r=H.rowlist[n],o=r.data.start.getTime()-H.Ub().getTime(),l=e.addTime(-o),s=H.Cq(l,n,i);if(!s)throw new DayPilot.Exception("No next cell found");var d=C(H.itline,s);if(s.start>e);else{if(a-=s.end.getTime()-l.getTime(),a<=0)return e.addTime(t);d+=1}for(var c=d;c<H.itline.length;c++){var u=H.oq(c,n,i),h=H.itline[c];if(u.business){var f=h.start.addTime(o),v=h.end.addTime(o),p=v.getTime()-f.getTime();if(a<=p)return f.addTime(a);a-=p}}return H.itline[H.itline.length-1].end.addTime(a)},this.zq=function(e,t,n,i){i=i||"main";var a=H.bp(i),r=a.rowlist,o=r[n],l=o.data.start.getTime()-H.Ub().getTime(),s=e.addTime(-l),d=t.addTime(-l),c=H.Cq(s,n,i);if(!c)throw new DayPilot.Exception("No next cell found");var h=0,f=C(H.itline,c);if(c.start<=d){if(t<c.end.addTime(l))return c.start>s?t.getTime()-c.start.addTime(l).getTime():t.getTime()-e.getTime();h+=s>c.start?c.end.getTime()-s.getTime():c.end.getTime()-c.start.getTime(),f+=1}for(var v=f;v<H.itline.length;v++){if(H.oq(v,n,i).business){var p=H.itline[v],m=p.start.addTime(l),g=p.end.addTime(l),b=g.getTime()-m.getTime();if(t<m)return h;if(t<=g)return h+=t.getTime()-m.getTime();h+=b}}return h+=u(0,t.getTime()-H.itline.last().end.addTime(l).getTime())},this.Aq=function(e){if(e.part.duration){if(isNaN(e.part.duration))throw new DayPilot.Exception("Unable to get calculated duration");return e.part.duration}var t=e.part.dayIndex;return H.zq(e.start(),e.rawend(),t)},this.Bq=function(e,t,n,i){i=i||"main";var a=0,r=t,o=H.tn(e);if(!o.current)throw new DayPilot.Exception("Current cell not found.");var l=C(H.itline,o.current);if(H.oq(l,n,i).business){if(e.addTime(-t)>=o.current.start)return t}else if(0===t||e.addTime(-t)>=o.current.start){var s=H.Cq(e,n,i);if(s)return e.getTime()-s.start.getTime();var d=H.Eq(e,n,i);return e.getTime()-d.start.getTime()}a+=e.getTime()-o.current.start.getTime(),r-=e.getTime()-o.current.start.getTime(),l-=1;for(var c=o.current.start;l>=0;){var u=H.itline[l];c>u.end&&(a+=c.getTime()-u.end.getTime()),c=u.start;var h=u.end.getTime()-u.start.getTime();if(H.oq(l,n,i).business){if(r<=h)return a+=r;a+=h,r-=h}else a+=h;l-=1}return a+r},this.Eq=function(e,t,n){n=n||"main";var i=H.tn(e),a=0;if(i.past)return null;if(i.current)a=i.i;else{if(!i.previous)return null;a=C(H.itline,i.previous)}for(var r=a;r>=0;r--){if(H.Pf(r,t,n))return H.itline[r]}return null},this.Cq=function(e,t,n){n=n||"main";var i=H.tn(e),a=0;if(i.past)return null;if(i.current)a=i.i;else{if(!i.next)return null;a=C(H.itline,i.next)}for(var r=a;r<H.itline.length;r++){if(H.Pf(r,t,n))return H.itline[r]}return null},this.Pf=function(e,t,n){return n=n||"main",H.oq(e,t,n).business},this.uq=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600;case"Manual":if(H.itline.length>0){var e=H.itline[0];return(e.end.getTime()-e.start.getTime())/6e4}return H.cellDuration}throw new DayPilot.Exception("can't guess cellDuration value")},this.tq=function(e){return e.end.ticks-e.start.ticks},this.Gq=function(e,t){if(t=t||"main","main"===t&&this.treePreventParentUsage&&this.Hq(e,t))return!0;var n=H.wm[t],i=n.rowlist,a=i[e];return!!a.isNewRow||!!a.resource.preventUsage},this.Hq=function(e,t){t=t||"main";var n=H.wm[t],i=n.rowlist,a=i[e];return!!a.isParent||!!(this.treeEnabled&&a.children&&a.children.length>0)},this.Iq={},this.Jq=function(){if(H.treeAutoExpand){var e=this.ep(n.sq),t=e.rowIndex,i=this.Hq(t),a=this.Iq;if(a.timeout&&a.y!==t&&(clearTimeout(a.timeout),a.timeout=null,a.y=null),i){a.y=t;var r=!H.rowlist[a.y].expanded;!a.timeout&&r&&(a.timeout=setTimeout(function(){!H.rowlist[a.y].expanded&&(H.Kq(a.y,{"notAnimated":!0}),H.Lq()),a.timeout=null,a.y=null},500))}}},this.Mq=function(){clearTimeout(H.Iq.timeout),H.Iq.timeout=null,H.Iq.y=null},this.Xf=function(){var e=n.Nq.width,t=n.Nq.left,i=n.Oq,a=n.vq.dpBorder,r=H.rowlist[i.part.dayIndex],o=0;o=r.start.getTime()-H.Ub().getTime();var l=null,s=null,d=H.snapToGrid&&H.snapToGridEventResizing,c=!d;"left"===a?(l=H.getDate(t,c).addTime(o),s=i.rawend()):"right"===a&&(l=i.start(),s=H.getDate(t+e,c,!0).addTime(o)),n.Nq.start=l,n.Nq.end=s},this.yh={};var Z=this.yh;this.exportAs=function(e,t){if(!H.vg())throw new DayPilot.Exception("DayPilot.Scheduler.exportAs(): The instance must be visible during export.");var n=Z.zh(e,t);return new DayPilot.Export(n)},this["export"]=this.exportAs;var K=function(){return H.nav.dummy};Z.Bh=function(){var e=Z.Ah;switch(e){case"viewport":return H.nav.top.offsetWidth;case"full":return H.Om()+Z.Hh();case"range":return H.getPixels(Z.Pq()).boxRight-H.getPixels(Z.Qq()).boxLeft+Z.Hh();default:throw new DayPilot.Exception("Unsupported export mode: "+e)}},Z.Ch=function(){var e=Z.Ah;switch(e){case"viewport":return H.nav.top.offsetHeight-DayPilot.sh(H.nav.scroll)-1;case"full":return H.Rq()+H.Tm()-DayPilot.sh(H.nav.scroll);case"range":var t=Z.fk();if(0===t.length)return H.Tm();var n=t.first(),i=t.last(),a=Z.Sq(i)-Z.Sq(n)+i.height+H.Tm();return a+=H.wm.top.height,a+=H.wm.bottom.height;default:throw new DayPilot.Exception("Unsupported export mode: "+e)}},Z.Sq=function(e){var t=Z.A.includeHiddenRows?e.absTop:e.top;return"bottom"===e.grid&&("viewport"===Z.Ah?t+=H.wm.bottom.top-H.Tm():"full"===Z.Ah?t+=H.Cl:"range"===Z.Ah&&(t+=Z.Ch()-H.Tm()-H.wm.bottom.height)),t},Z.Tq=function(e,t){var n="number"==typeof e.top?e.top:null,i="number"==typeof e.bottom?e.bottom:null,a="number"==typeof e.height?e.height:"number"==typeof e.h?e.h:null;return null!==n&&null!==a&&null!==i&&(i=null),null===n&&null!==a&&null!==i?n=t-i-a:null===a&&null!==n&&null!==i&&(a=t-n-i),null===n&&(n=0),null===a&&(a=t-n),{top:n,height:a}},Z.Uq=function(e){var t=Z.Fh();return"main"!==e.grid&&(t=0),t},Z.Qq=function(){var e=Z.A.dateFrom||H.Ub();return new DayPilot.Date(e)},Z.Pq=function(){var e=Z.A.dateTo||H.je();return new DayPilot.Date(e)},Z.Vq=function(){return Z.A.resourceFrom?H.zm(Z.A.resourceFrom):H.rowlist.find(function(e){return!e.hidden})},Z.Wq=function(){return Z.A.resourceTo?H.zm(Z.A.resourceTo):H.rowlist.last()},Z.Hh=function(){return H.Rm()},Z.Xq=function(){return H.Tm()},Z.Dh=function(){var e=Z.Hh(),t=Z.Xq(),n={};n.main={"x":0,"y":0,"w":Z.Bh(),"h":Z.Ch()},n.corner={"x":0,"y":0,"w":e,"h":t},n.grid={"x":e,"y":t,"w":Z.Bh()-e,"h":Z.Ch()-t};var i=n.grid.w,a=H.itline.last();a&&a.left+a.width<n.grid.w&&(i=a.left+a.width);var r=n.grid.h,o=H.rowlist.last();return o&&o.top+o.height<n.grid.h&&(r=o.top+o.height),n.gridContent={"x":e,"y":t,"w":i,"h":r},n},Z.fk=function(){var e,t,n,i,a=Z.Ah,r=w();switch(a){case"viewport":e=H.Yq,t=e+H.nav.scroll.offsetHeight,n=H.gi(e).i,i=H.gi(t).i;break;case"full":e=0,n=0,i=H.rowlist.length;break;case"range":var o=Z.Vq(),l=Z.Wq();if(!o)throw new DayPilot.Exception("Resource specified using resourceFrom option not found during export.");if(!l)throw new DayPilot.Exception("Resource specified using resourceTo option not found during export.");n=o.index,i=l.index}i<H.rowlist.length&&(i+=1);for(var s=n;s<i;s++){var d=H.rowlist[s];!Z.A.includeHiddenRows&&d.hidden||r.push(d)}return r.offset=n,r},Z.Zq=function(){var e=H.Yq+H.wm.top.height,t=H.gi(e).i+Z.$q().length,n=H._q,i=H.rn(n).x;return i=u(i,0),{x:i,y:t}},Z.$q=function(){return H.wm.top.rowlist},Z.ar=function(){return H.wm.bottom.rowlist},Z.br=function(){var e=[];return e=e.concat(Z.$q()),e=e.concat(Z.fk()),e=e.concat(Z.ar())},Z.cr=function(){var e=[];return e=e.concat(Z.$q()),e=e.concat(Z.ar())},Z.dr=function(){if(H.wm.bottom.enabled()){if("viewport"===Z.Ah)return H.wm.bottom.top;if("full"===Z.Ah)return Z.Ch()-H.wm.bottom.height;if("range"===Z.Ah)return Z.Ch()-H.wm.bottom.height}return Z.Ch()},Z.er=function(){var e=Z.Ah;switch(e){case"full":var t=w();return w(H.rowlist).forEach(function(e){e.hidden||w(e.events).forEach(function(e){t.push(e)})}),t;case"viewport":return X.Uk().filter(function(e){return"main"===e.event.part.grid}).map(function(e){return e.event});case"range":var n=w(),i=Z.Qq(),a=Z.Pq();return Z.fk().forEach(function(e){w(e.events).filter(function(e){return l(e.start(),e.end(),i,a)}).forEach(function(e){n.push(e)})}),n;default:throw new DayPilot.Exception("Unsupported export mode: "+e)}},Z.fr=function(){var e=Z.Ah;switch(e){case"full":var t=w();return Z.cr().forEach(function(e){e.hidden||w(e.events).forEach(function(e){t.push(e)})}),t;case"viewport":return X.Uk().filter(function(e){return"main"!==e.event.part.grid}).map(function(e){return e.event});case"range":var n=w(),i=Z.Qq(),a=Z.Pq();return Z.cr().forEach(function(e){w(e.events).filter(function(e){return l(e.start(),e.end(),i,a)}).forEach(function(e){n.push(e)})}),n;default:throw new DayPilot.Exception("Unsupported export mode: "+e)}},Z.gr=function(){if(_(H.links.list)){for(var e=[],t=0;t<H.links.list.length;t++){var n=H.links.list[t],i=H.events.find(n.from),a=H.events.Gp(i&&i.data),r=H.events.find(n.to),o=H.events.Gp(r&&r.data),l=Y.Np(a,o,n,Z.A.includeHiddenRows);l&&e.push(l)}return e}},Z.hr=function(){var e=Z.Ah;switch(e){case"full":return w(H.itline).addProps({"offset":0});case"viewport":return Z.ir();case"range":return Z.jr();default:throw new DayPilot.Exception("Unsupported export mode: "+e)}},Z.jr=function(){var e=w();if(H.itline&&H.itline.length>0){var t=H.tn(Z.Qq()).i,n=H.tn(Z.Pq()).i,i=H.kr();n=Math.min(n,i-1),t=u(t,0);for(var a=t;a<=n;a++){var r=H.itline[a];e.push(r)}e.offset=t}return e},Z.ir=function(){var e=w();if(H.itline&&H.itline.length>0){var t=H._q,n=t+H.nav.scroll.offsetWidth,i=H.rn(t).x,a=H.rn(n,!0).x,r=H.kr();a=Math.min(a,r),i=u(i,0);for(var o=i;o<=a;o++){var l=H.itline[o];e.push(l)}e.offset=i}return e},Z.lr=function(e,t){if(t=t||Z.Ah,"full"===t)return w(H.timeHeader[e]);var n=w(),i=Z.mr(),a=i+Z.nr(),r=H.or(e,i),o=H.or(e,a);o||(o={"x":H.timeHeader[e].length-1});for(var l=r.x;l<=o.x;l++){var s=H.timeHeader[e][l];n.push(s)}return n},Z.pr=function(){return w(H.separators).map(function(e){var t=new DayPilot.Date(e.location);if(t.getTime()<H.Ub().getTime())return null;if(t.getTime()>=H.je().getTime())return null;var n=H.getPixels(t);return n.cut?null:n.left<0?null:n.left>H.Om()?null:{"left":n.left,"color":e.color,"width":e.width||1}}).filter(function(e){return!!e})},Z.qr=function(){var e=o();e.style.display="none",e.className=H.ca(R.event);var t=o();t.className=H.ca(R.eventBar);var n=o();return n.className=H.ca(R.eventBarInner),t.appendChild(n),e.appendChild(t),K().appendChild(e),e},Z.rr=function(){var e=o();return e.style.display="none",e.className=H.ca("_event_left"),K().appendChild(e),e},Z.Gh=function(){var e=o();e.className=H.ca("_event");var t=o();return t.className=H.ca("_event_inner"),e.appendChild(t),K().appendChild(e),t},Z.sr=function(){var e=o();e.style.display="none",e.className=H.ca(R.event)+" "+H.ca("_task_group");var t=o();return t.className=H.ca(R.eventInner),e.appendChild(t),H.divEvents.appendChild(e),e},Z.ur=function(){var e=o();e.style.display="none",e.className=H.ca(R.event)+" "+H.ca("_task_milestone");var t=o();return t.className=H.ca(R.eventInner),e.appendChild(t),H.divEvents.appendChild(e),e},Z.Eh=function(){var e=o();e.style.display="none",e.className=H.ca("_cell"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=o();return t.className=H.ca("_cell_inner"),e.appendChild(t),H.divCells.appendChild(e),e},Z.vr=function(){var e=o();e.style.display="none",e.className=H.ca("_rowheader"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=o();return t.className=H.ca("_rowheader_inner"),e.appendChild(t),H.divResScroll.appendChild(e),e},Z.wr=function(){var e=o();e.style.display="none",e.className=H.ca("_corner"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=o();return t.className=H.ca("_corner_inner"),e.appendChild(t),H.nav.top.appendChild(e),e},Z.xr=function(){var e=o();return e.style.display="none",e.className=H.ca("_tree_image_expand"),K().appendChild(e),e},Z.yr=function(e){var t=document.createElement("i");return t.className=e,t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t},Z.zr=function(e){var t=/url\((")?([^"].*[^"])\1\)/.exec(e);return t?t[2]:null},Z.Ar=function(){var e={},t=Z.xr();return e.expand=Z.zr(new DayPilot.StyleReader(t).get("background-image")),t.className=H.ca("_tree_image_collapse"),e.collapse=Z.zr(new DayPilot.StyleReader(t).get("background-image")),t.className=H.ca("_tree_image_no_children"),e.nochildren=Z.zr(new DayPilot.StyleReader(t).get("background-image")),k(t),e},Z.Br=function(e){return new DayPilot.StyleReader(e).getFont()},Z.mr=function(){switch(Z.Ah){case"full":return 0;case"viewport":return H.nav.scroll.scrollLeft;case"range":return H.getPixels(Z.Qq()).boxLeft}},Z.Fh=function(){switch(Z.Ah){case"full":return 0;case"viewport":return H.nav.scroll.scrollTop;case"range":return Z.Sq(Z.Vq())-H.wm.top.height}},Z.nr=function(){switch(Z.Ah){case"full":return H.Om();case"viewport":return H.nav.scroll.offsetWidth;case"range":return H.getPixels(Z.Pq()).boxRight-Z.mr()}},Z.Cr=function(e){if(!H.exceljs)throw new DayPilot.Exception("`exceljs` not defined");if("Always"!==H.useEventBoxes&&!e.allowUseEventBoxesNever)throw new DayPilot.Exception("Excel export only supported with `useEventBoxes: 'Always'`.");e=e||{};var t=e.mime||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",n={transformWidth:e.transformWidth,transformHeight:e.transformHeight},i=new DayPilot.Excel(H.exceljs,n),a=i.worksheets.create("Scheduler"),r=H.rowHeaderColumns,o=M.Dr(),l=H.timeHeader.length,s=r?o.length:1,c=Z.Ah,h=new DayPilot.StyleReader(H.nav.top).getColorHex("border-top-color"),f=H.va.timeHeader["0_0"],p=new DayPilot.StyleReader(f).getColorHex("background-color"),m=new DayPilot.StyleReader(f).getColorHex("color"),g=Z.Gh(),b=new DayPilot.StyleReader(g).getColorHex("border-right-color"),y=new DayPilot.StyleReader(g).getColorHex("color"),x=new DayPilot.StyleReader(g).get("background-color");x=DayPilot.Util.isTransparentColor(x)?"#fafafa":new DayPilot.StyleReader(g).get("background-color"),k(g);var C=DayPilot.Util.firstPropValue(H.va.Gl),T=new DayPilot.StyleReader(C).getColorHex("background-color"),D=M.mg(),S=H.eventHeight,E=function(){var e=Z.Eh(),t=new DayPilot.StyleReader(e).getColorHex("background-color");d(e,H.ca("_cell_business"));var n=new DayPilot.StyleReader(e).getColorHex("background-color"),i=new DayPilot.StyleReader(e).getColorHex("color");return k(e),{nonBusiness:t,business:n,font:i}}(),A=Z.br(),R=Z.$q().length,B=Z.hr(),N=H.treeEnabled?1:0,P=function(){return N+A.reduce(function(e,t){return Math.max(e,t.level);
},0)}();!function(){if("full"===c){var e=Z.Zq();e.x+=s+P,e.y+=l,a.freeze(P+s,l+R),a.cell(e.x,e.y).makeTopLeft().focus()}}(),function(){var e={};e.backColor=p,e.html=H.cornerHtml,e.text=H.cornerText,e.fontColor=m,e.horizontalAlignment=null,e.verticalAlignment=null,e.control=H,e.areas=null,"function"==typeof H.onBeforeCornerRender&&H.onBeforeCornerRender(e),e.format=Z.Er,"function"==typeof H.onBeforeCornerExport&&H.onBeforeCornerExport(e);var t=e.verticalAlignment||"top",n=e.horizontalAlignment||"left",i=r?1:0,d=!r||H.timeHeader.length>1,c=r&&H.timeHeader.length>1;d&&a.cell(0,0).setText(e.text).setSpan(P+s,l-i).setBorderColor(h).setBackColor(e.backColor).setFontColor(e.fontColor).setVerticalAlignment(t).setHorizontalAlignment(n),c&&o.forEach(function(e,t){var n=0===t?P+1:1,i=0===t?0:P,r=e.name||e.title;a.cell(t+i,H.timeHeader.length-1).setColspan(n).setBackColor(p).setBorderColor(h).setText(r)})}(),function(){var e=l;w(A).forEach(function(t){var n=s+P,i=t.lines;0===i.length&&(i=[{}]),w(B).forEach(function(r,o){var l=t.grid,s=t.index,d=B.offset,c=H.oq(o+d,s,l),u=c.business,h=H.Fr(o+d,s,l);h||(h={},h.cell=H.cells.findXy(o+d,s,l)[0]);var f=c.text||c.html,v=c.horizontalAlignment||"left",p=c.backColor||(u?E.business:E.nonBusiness);h.text=f,h.horizontalAlignment=v,h.backColor=p,h.fontColor=h.cell&&h.cell.properties&&h.cell.properties.fontColor||E.font,h.verticalAlignment="center",h.format=Z.Er,"function"==typeof H.onBeforeCellExport&&H.onBeforeCellExport(h),i.forEach(function(t,l){var s=l===i.length-1;a.cell(o+n,e+l).setText(h.text).setBorderColor(T,{top:!1,right:!0,bottom:s,left:!0}).setBackColor(h.backColor).setFontColor(h.fontColor).setVerticalAlignment(h.verticalAlignment).setHorizontalAlignment(h.horizontalAlignment).setHeight(S).setWidth(r.width)})}),e+=i.length})}(),function(){var e=l,t=function(e,t){var n=e.part.start,i=e.part.end,a=e.cache||e.data;if(t=t||a.areas,!t)return!1;if(t=t.filter(function(e){return e.start&&e.end&&0===e.top&&0===e.bottom}).map(function(e){return{start:new DayPilot.Date(e.start),end:new DayPilot.Date(e.end)}}),t=t.filter(function(e){var t=H.tn(e.start),n=H.tn(e.end,!0);return!(!t.current||!n.current)&&t.current.start.getTime()===e.start.getTime()&&n.current.end.getTime()===e.end.getTime()}),0===t.length)return!1;if(t.sort(function(e,t){return e.start.getTime()-t.start.getTime()}),t[0].start.getTime()!==n.getTime())return!1;for(var r=0;r<t.length-1;r++)if(t[r].end.getTime()!==t[r+1].start.getTime())return!1;return t[t.length-1].end.getTime()===i.getTime()};w(A).forEach(function(n){var i=s+P,r=w(n.lines);r.length||(r=[[]]),r.forEach(function(n,r){w(n).forEach(function(n){var o=n.cache||n.data,l=t(n,o.areas),s={e:n,text:o.text,backColor:o.backColor||x,borderColor:o.borderColor||b,fontColor:o.fontColor||y,verticalAlignment:"center",horizontalAlignment:"left",format:Z.Er};if(l&&(s.areas=o.areas),"function"==typeof H.onBeforeEventExport&&H.onBeforeEventExport(s),l=t(n,s.areas))s.areas.forEach(function(t){var o=H.tn(t.start).i,l=H.tn(t.end,!0).i,d=1+l-o,c=o-B.offset;c<0&&(d+=c),c=u(0,c),d<1||a.cell(c+i,e+r).setText(t.text).setColspan(d).setBorderColor(t.borderColor||s.borderColor).setBackColor(t.backColor||s.backColor).setFontColor(t.fontColor||s.fontColor).setMinHeight(n.part.height).setVerticalAlignment(t.verticalAlignment||s.verticalAlignment).setHorizontalAlignment(t.horizontalAlignment||s.horizontalAlignment)});else{var d=H.tn(n.part.start).i,c=H.tn(n.part.end,!0).i,h=1+c-d,f=d-B.offset;if(f<0&&(h+=f),f=u(0,f),h<1)return;a.cell(f+i,e+r).setText(s.text).setColspan(h).setBorderColor(s.borderColor).setBackColor(s.backColor).setFontColor(s.fontColor).setMinHeight(n.part.height).setVerticalAlignment(s.verticalAlignment).setHorizontalAlignment(s.horizontalAlignment)}})}),e+=r.length})}(),function(){w(H.timeHeader).forEach(function(e,t){var n={"x":s+P,"y":0};Z.lr(t,c).forEach(function(e){var i=H.rn(e.left),r=i.x;i.cell.left<e.left&&(r+=1);var o=H.rn(e.left+e.width,!0).x;r<B.offset&&(r=B.offset),o>B.length+B.offset-1&&(o=B.length+B.offset-1);var l=o-r+1,s=r-B.offset+n.x,d=t+n.y;if(!(l<1)){var c={areas:null,backColor:e.backColor,fontColor:e.fontColor,start:e.start,end:e.end,level:t,text:e.text,html:e.innerHTML};"function"==typeof H.onBeforeTimeHeaderRender&&H.onBeforeTimeHeaderRender({header:c});var u={};u.header=c,u.text=c.text,u.backColor=c.backColor||p,u.verticalAlignment="center",u.horizontalAlignment="center",u.fontColor=c.fontColor||m,u.format=Z.Er,"function"==typeof H.onBeforeTimeHeaderExport&&H.onBeforeTimeHeaderExport(u),a.cell(s,d).setText(u.text).setColspan(l).setHorizontalAlignment(u.horizontalAlignment).setVerticalAlignment(u.verticalAlignment).setBorderColor(h).setBackColor(u.backColor).setFontColor(u.fontColor).setHeight(D)}})})}(),function(){var e=l,t=H.rowHeaderCols;w(A).forEach(function(n){var i,l=n.children.length>0,s=30,d=H.treeIndent,c=n.lines.length||1,u=N+n.level,f=H.rowHeaderColumnsMergeParents&&l&&t,g=f?t.length-1:0,b=H.rowHeaderWidth-u*d,y=n;"function"==typeof H.onBeforeRowHeaderRender&&(y=H.Gr(n).row);var x=H.bo(),k=H.internalUseStandardColumns&&!n.isNewRow,C=k||x&&_(r),T={row:H.vo(n),text:y.text||y.name,backColor:y.backColor||p,fontColor:y.fontColor||m,verticalAlignment:"middle",horizontalAlignment:"left",format:Z.Er};if(o.length>0&&C&&!f){var D=y.columns.find(function(e,t){return!r[t].hidden});T.text=D.text||D.html}T.columns=[],T.row.columns=T.columns,null===(i=y.columns)||void 0===i?void 0:i.forEach(function(e){var t=v(e,{},["text","html","backColor","horizontalAlignment","verticalAlignment"]);t.text=e.text||e.html,t.fontColor=T.fontColor,t.horizontalAlignment=t.horizontalAlignment||T.horizontalAlignment,t.verticalAlignment=t.verticalAlignment||T.verticalAlignment,t.backColor=t.backColor||T.backColor,T.columns.push(t)}),"function"==typeof H.onBeforeRowHeaderExport&&H.onBeforeRowHeaderExport(T);for(var S=0;S<u;S++){var E=0===S;a.cell(S,e).setWidth(s).setBackColor(T.backColor).setRowspan(c).setBorderColor(h,{top:!0,bottom:!0,left:E})}if(l&&N){var M=n.expanded?"▼":"▶";a.cell(u-1,e).setText(M).setVerticalAlignment(T.verticalAlignment).setFontColor(T.fontColor).setHorizontalAlignment("right")}var A=(T.text||"").includes("\n");if(t&&(b=t[0]-u*d),a.cell(u,e).setText(T.text).setSpan(P-u+1+g,c).setBorderColor(h,{top:!0,right:!0,bottom:!0}).setVerticalAlignment(T.verticalAlignment).setBackColor(T.backColor).setFontColor(T.fontColor).setWordWrap(A),a.cell(P,e).setWidth(b),t&&!f){var R=T.row.columns,B=w(R);C&&(B=B.filter(function(e,t){return!r[t].hidden})),w(t).forEach(function(t,n){if(0!==n){var i=k||H.bo()?0:1,r=n-i,o=B[r]||{},l=o.text,s=o.backColor||T.backColor,d=o.fontColor||T.fontColor,u=o.verticalAlignment||T.verticalAlignment,f=o.horizontalAlignment||T.horizontalAlignment,v=(l||"").includes("\n");a.cell(P+r,e).setText(l).setSpan(1,c).setBorderColor(h,{top:!0,right:!0,bottom:!0}).setVerticalAlignment(u).setHorizontalAlignment(f).setBackColor(s).setFontColor(d).setWidth(t).setWordWrap(v)}})}e+=c})}();var L={};return L.download=function(e){i.writeBuffer().then(function(n){var i=new Blob([n],{type:t});e=e||"scheduler.xlsx",DayPilot.Util.downloadBlob(i,e)})},L.toBlobAsync=function(){return i.writeBuffer().then(function(e){return new Blob([e],{type:t})})},L},Z.A=null,Z.Ah=null,Z.zh=function(e,t){function n(e){var t,n=p.grid.y+Z.Sq(e)-Z.Uq(e);n+=u(0,p.grid.y-n);var i=H.treeEnabled&&!e.isNewRow,a=10,r=i?e.level*H.treeIndent+H.treeImageMarginLeft+5:5;"Disabled"!==H.rowMoveHandling&&(r+=10);var o={"x":0,"y":n,"w":p.grid.x+1,"h":e.height+1},l=e;if(me){l=H.Gr(e).row}var s=H.bo(),d=H.internalUseStandardColumns&&!e.isNewRow,h=d||s&&_(H.rowHeaderColumns),f={};if(f.text=l.html,M.Dr().length>0&&h&&l.columns){var g=l.columns.find(function(e,t){return!H.rowHeaderColumns[t].hidden});f.text=g.text||g.html}f.backColor=l.backColor||ie,f.fontSize=te.size,f.fontFamily=te.family,f.fontStyle=te.style,f.fontColor=l.fontColor||ne,f.borderColor=b,f.horizontalAlignment="left",f.verticalAlignment="center",f.format=Z.Er,f.row=H.vo(e),f.columns=[],f.row.columns=f.columns,null===(t=l.columns)||void 0===t?void 0:t.forEach(function(e){var t=v(e,{},["text","html","backColor","horizontalAlignment","verticalAlignment"]);t.text=e.text||e.html,t.fontSize=f.fontSize,t.fontFamily=f.fontFamily,t.fontStyle=f.fontStyle,t.fontColor=f.fontColor,t.horizontalAlignment=t.horizontalAlignment||f.horizontalAlignment,t.verticalAlignment=t.verticalAlignment||f.verticalAlignment,t.backColor=t.backColor||f.backColor,f.columns.push(t)}),e.isNewRow&&(f.text=H.rowCreateText),ge&&H.onBeforeRowHeaderExport(f);var y=10,x={"x":r,"y":n+H.treeImageMarginTop+2,"w":10,"h":y},k={"size":f.fontSize,"family":f.fontFamily,"style":f.fontStyle};"center"===f.verticalAlignment&&(x.y=n+o.h/2-5);var C=i?r+a+3:r,T=i?o.w-C:o.w,D={"x":C,"y":n,"w":T,"h":e.height+1};if(H.rowHeaderCols&&(D.w=H.rowHeaderCols[0]-C),c.fillRect(o,f.backColor),c.text(D,f.text,k,f.fontColor,f.horizontalAlignment,0,f.verticalAlignment),c.rect(o,f.borderColor),i){var S=null;S=w(e.children).isEmpty()?m.nochildren:e.expanded||Z.A.includeHiddenRows?m.collapse:m.expand,c.image(x,S)}var E=w(f.row.columns);if(h&&(E=E.filter(function(e,t){return!H.rowHeaderColumns[t].hidden})),H.rowHeaderCols){var A=o.x;w(H.rowHeaderCols).forEach(function(e,t){if(0!==t){var n=d||H.bo()?0:1,i=t-n,a=E[i]||{},r=v(o);r.x=A,r.w=e+1;var l=3,s=v(r);s.x+=l,s.w-=l;var u=a.backColor||f.backColor;c.fillRect(r,u),a.text&&c.text(s,a.text,{"size":a.fontSize,"family":a.fontFamily,"style":a.fontStyle},a.fontColor,a.horizontalAlignment,0,a.verticalAlignment),c.rect(r,f.borderColor)}A+=e})}}function i(e,t,n){n=n||"main";var i=H.itline[e],a=H.wm[n].rowlist[t],r=H.oq(e,t,n),o=r.business,l=H.Fr(e,t,n);l||(l={},l.cell=H.cells.findXy(e,t,n)[0]);var s=r.html,d=r.horizontalAlignment||"left",h=r.backColor||(o?W:U);l.areas=l.cell&&l.cell.properties&&l.cell.properties.areas||[],l.text=s,l.horizontalAlignment=d,l.backColor=h,l.fontSize=Y.size,l.fontFamily=Y.family,l.fontStyle=Y.style,l.fontColor=l.cell&&l.cell.properties&&l.cell.properties.fontColor||q,l.format=Z.Er,be&&(H.onBeforeCellExport(l),s=l.text,d=l.horizontalAlignment,h=l.backColor);var f=p.grid.y+Z.Sq(a)-Z.Uq(a);f+=u(0,p.grid.y-f);var v=p.grid.x+i.left-ue;v+=u(0,p.grid.x-v);var m={"x":v,"y":f,"w":i.width,"h":a.height};c.fillRect(m,h);var g={};g.x=m.x+1,g.y=m.y+1,g.w=m.w-2,g.h=m.h-2;var b={"size":l.fontSize,"family":l.fontFamily,"style":l.fontStyle};s&&c.text(g,s,b,l.fontColor,d),w(l.areas).forEach(function(e){if(DayPilot.Areas.isVisible(e)){var t={"type":"cell-area"};"undefined"!=typeof e.id&&(t.id=e.id),c.groupStart(t);var n=0;"number"==typeof e.left?n=e.left:e.start?n=H.getPixels(new DayPilot.Date(e.start)).left-i.left:"number"==typeof e.right&&(n=i.width-e.right-e.width);var a=e.width||e.w;"number"==typeof e.right?a=i.width-e.right-n:e.end&&(a=H.getPixels(new DayPilot.Date(e.end)).left-e.left-i.left+1);var r=H.yh.Tq(e,i.height),o={"x":v+n,"y":f+r.top,"w":a,"h":r.height};if(e.backColor&&c.fillRect(o,e.backColor),e.icon){var s=H.yh.Ir(e.icon);c.text(o,s.text,s.font,e.fontColor||l.fontColor,e.horizontalAlignment,e.padding,e.verticalAlignment)}else if(e.image){var d=new Image;d.src=e.image,c.image(o,d)}else e.symbol?c.symbol(o,e.symbol,{color:e.fontColor||l.fontColor}):(e.text||e.html)&&c.text(o,e.text||e.html,{"size":e.fontSize||l.fontSize,"family":e.fontFamily||l.fontFamily,"style":e.fontStyle||l.fontStyle},e.fontColor||l.fontColor,e.horizontalAlignment,e.padding,e.verticalAlignment);c.groupEnd()}})}function a(e){var t=p.grid.y+Z.Sq(e)-Z.Uq(e);if(t+=u(0,p.grid.y-t),t!==p.grid.y&&!("main"===e.grid&&t>Z.dr())){var n=V,i={};if(ye){if(i.row=H.vo(e),i.hidden=!1,i.cssClass=null,i.type="HorizontalLine",i.color=null,H.onBeforeGridLineRender(i),i.hidden)return;n=i.color||V}c.line(p.gridContent.x+1,t,p.gridContent.x+p.gridContent.w-1,t,n),"top"===e.grid&&e===H.wm.top.rowlist.last()&&c.line(p.gridContent.x+1,t+e.height,p.gridContent.x+p.gridContent.w-1,t+e.height,V)}}function r(e,t){var n=p.grid.x+e.left-ue;if(n+=u(0,p.grid.x-n),n!==p.grid.x){var i=p.grid.y+1,a=p.grid.y+p.grid.h-2;"top"===t&&(a=i+H.wm.top.height),"bottom"===t&&(i=Z.dr());var r=G,o={};if(ye){if(o.start=e.start,o.end=e.end,o.hidden=!1,o.cssClass=null,o.type="VerticalLine",o.color=null,H.onBeforeGridLineRender(o),o.hidden)return;r=o.color||G}c.line(n,i,n,a,r)}}function o(e){function t(){var e=R.backColor;c.diamond(N,e)}function n(){var e={"x":f,"y":h,"w":s,"h":R.barHeight},t={"x":f+k,"y":h,"w":_,"h":R.barHeight},n=m.backColor||B,i={x:f,y:h+5,h:N.h-6-5,w:N.w};c.fillRect(i,n);var a=m.text||m.html;c.text(i,a,{"size":R.fontSize,"family":R.fontFamily,"style":R.fontStyle},R.fontColor,R.horizontalAlignment,R.textPadding,R.verticalAlignment,H.eventTextWrappingEnabled),c.upperRightCorner({x:f+N.w-6,y:i.y+i.h,w:6,h:6},n),c.upperLeftCorner({x:f,y:i.y+i.h,w:6,h:6},n),d&&(c.fillRect(e,b),_>0&&c.fillRect(t,g))}function i(t,n){var i=m.versions[n];c.groupStart({"type":"event-version","event-id":e.id()});var a=t.width,r=p.grid.y+l+t.top-he;r+=u(0,p.grid.y-r);var o=p.grid.x+t.left-ue+1,s=u(0,p.grid.x-o);o+=s,a-=s;var d=H.eventVersionHeight,h=H.durationBarVisible&&!i.barHidden,f=h?M.Kr():0,v={"x":o,"y":r,"w":a,"h":d};c.fillRect(v,i.backColor||R.backColor);var g={"x":o+E,"y":r+f,"w":u(0,a-E),"h":d-f};if(c.text(g,i.text,{"size":R.fontSize,"family":R.fontFamily,"style":R.fontStyle},R.fontColor,R.horizontalAlignment,R.textPadding,R.verticalAlignment,H.eventTextWrappingEnabled),c.rect(v,i.borderColor||R.borderColor),h){var b=i.barBackColor||P,y=i.barColor||L,w=100*t.barLeft/a,x=Math.ceil(100*t.barWidth/a),k={"x":o,"y":r+1,"w":a,"h":f},C={"x":o+w,"y":r+1,"w":x,"h":f};c.fillRect(k,b),x>0&&c.fillRect(C,y)}c.groupEnd()}function a(){var t={"x":f,"y":h,"w":s,"h":R.barHeight},n={"x":f+k,"y":h,"w":_,"h":R.barHeight},i={"x":f+E,"y":h+R.barHeight,"w":s-E,"h":e.part.height-R.barHeight};c.fillRect(N,R.backColor),c.text(i,R.text,{"size":R.fontSize,"family":R.fontFamily,"style":R.fontStyle},R.fontColor,R.horizontalAlignment,R.textPadding,R.verticalAlignment,H.eventTextWrappingEnabled),c.rect(N,R.borderColor),d&&(c.fillRect(t,b),_>0&&c.fillRect(n,g)),w(R.areas).forEach(function(t){if(DayPilot.Areas.isVisible(t)){var n={"type":"event-area"};"undefined"!=typeof t.id&&(n.id=t.id),c.groupStart(n);var i=0;"number"==typeof t.left?i=t.left:t.start?i=H.getPixels(new DayPilot.Date(t.start)).left-e.part.left:"number"==typeof t.right&&(i=e.part.width-t.right-t.width);var a=t.width||t.w;"number"==typeof t.right?a=e.part.width-t.right-i:t.end&&(a=H.getPixels(new DayPilot.Date(t.end)).left-t.left-e.part.left+1);var r=H.yh.Tq(t,e.part.height),o={"x":f+i,"y":h+r.top,"w":a,"h":r.height};if(t.backColor&&c.fillRect(o,t.backColor),t.icon){var l=H.yh.Ir(t.icon);c.text(o,l.text,l.font,t.fontColor||R.fontColor,t.horizontalAlignment,t.padding,t.verticalAlignment)}else if(t.image){var s=new Image;s.src=t.image,c.image(o,s)}else t.symbol?c.symbol(o,t.symbol,{color:t.fontColor||R.fontColor}):(t.text||t.html)&&c.text(o,t.text||t.html,{"size":t.fontSize||R.fontSize,"family":t.fontFamily||R.fontFamily,"style":t.fontStyle||R.fontStyle},t.fontColor||R.fontColor,t.horizontalAlignment,t.padding,t.verticalAlignment);c.groupEnd()}})}var r,o=H.wm[e.part.grid].rowlist[e.part.dayIndex],l=Z.Sq(o),s=e.part.width,d=null===(r=e.client)||void 0===r?void 0:r.barVisible(),h=p.grid.y+l+e.part.top-Z.Uq(o),f=p.grid.x+e.part.left-ue+1,v=u(0,p.grid.x-f);f+=v,s-=v;var m=e.cache||e.data,g=m.barColor||L,b=m.barBackColor||P,y=m.backColor||S,x=m.fontColor||D,k=e.part.barLeft,_=e.part.barWidth;"PercentComplete"===H.durationBarMode&&(k=0,_=u(0,Math.floor(e.part.width*(m.complete||0)/100))),"Milestone"===e.data.type&&(y=A);var E=2,R={};R.e=e,R.text=e.text?e.text():e.client.html(),R.areas=DayPilot.Util.createArrayCopy(m.areas),R.fontSize=T.size,R.fontFamily=T.family,R.fontStyle=T.style,R.fontColor=x,R.backColor=y,R.borderColor=C,R.horizontalAlignment="left",R.verticalAlignment="center",R.barHeight=4,R.textPadding=2,R.textLeft=m.textLeft||m.htmlLeft,R.textRight=m.textRight||m.htmlRight,R.format=Z.Er,"function"==typeof H.onBeforeEventExport&&H.onBeforeEventExport(R);var N={"x":f,"y":h,"w":s,"h":e.part.height};c.groupStart({"type":"event","id":e.id()}),"Milestone"===e.data.type?t():"Group"===e.data.type?n():a();var z=R.textLeft;if(z){var O={"size":R.fontSize,"family":R.fontFamily,"style":R.fontStyle},j=c.textWidth(z,O),U={"x":f-(H.eventHtmlLeftMargin+j),"y":h,"w":j,"h":e.part.height};c.text(U,z,O,I,null,0,"center",!1)}var W=R.textRight;if(W){var Y={"size":R.fontSize,"family":R.fontFamily,"style":R.fontStyle},q=c.textWidth(W,Y),F={"x":f+s+H.eventHtmlRightMargin,"y":h,"w":q,"h":e.part.height};c.text(F,W,Y,I,null,0,"center",!1)}c.groupEnd(),(e.versions||[]).forEach(i)}"object"==typeof e&&(t=e,e=null),t=t||{},e=e||t.format||"svg";var l=t.scale||1;"jpg"===e.toLowerCase()&&(e="jpeg");var s=t.area||"viewport";if(Z.A=v(t),Z.Ah=s,Z.Er=e,Z.A.includeHiddenRows=Z.A.includeHiddenRows&&"range"===s,Z.fk().forEach(function(e){H.Hr(e)}),"xlsx"===e&&Z.Cr)return Z.Cr(t);var c,h=Z.Bh(),f=Z.Ch();switch(e.toLowerCase()){case"svg":c=new DayPilot.Svg(h,f);break;case"png":c=new DayPilot.Canvas(h,f,"image/png",l);break;case"jpeg":c=new DayPilot.Canvas(h,f,"image/jpeg",l,t.quality);break;default:throw new DayPilot.Exception("Export format not supported: "+e)}var p=Z.Dh(),m=Z.Ar(),g=new DayPilot.StyleReader(H.nav.top).get("background-color"),b=new DayPilot.StyleReader(H.nav.top).get("border-top-color"),y=new DayPilot.StyleReader(H.nav.divider).get("background-color"),x=w(H.elements.events).filter(function(e){return!e.event.data.type}).map(function(e){return e.firstChild}).last(),C=new DayPilot.StyleReader(x).get("border-right-color"),T=Z.Br(x),D=new DayPilot.StyleReader(x).get("color"),S=new DayPilot.StyleReader(x).get("background-color");S=DayPilot.Util.isTransparentColor(S)?"white":S;var E=Z.ur(),A=new DayPilot.StyleReader(E.firstChild).get("background-color");k(E);var R=Z.sr(),B=new DayPilot.StyleReader(R.firstChild).get("background-color");k(R);var N=Z.qr(),P=new DayPilot.StyleReader(N.firstChild).get("background-color"),L=new DayPilot.StyleReader(N.firstChild.firstChild).get("background-color");k(N);var z=Z.rr(),I=new DayPilot.StyleReader(z).get("color");k(z);var j=Z.Eh(),U=new DayPilot.StyleReader(j).get("background-color");d(j,H.ca("_cell_business"));var W=new DayPilot.StyleReader(j).get("background-color"),Y=Z.Br(j),q=new DayPilot.StyleReader(j).get("color");k(j);var F=DayPilot.Util.firstPropValue(H.va.Gl),V=new DayPilot.StyleReader(F).get("background-color"),J=DayPilot.Util.firstPropValue(H.va.Fl),G=new DayPilot.StyleReader(J).get("background-color"),X=H.va.timeHeader["0_0"],K=Z.Br(X),Q=new DayPilot.StyleReader(X).get("color"),$=new DayPilot.StyleReader(X).get("background-color"),ee=Z.vr(),te=Z.Br(ee),ne=new DayPilot.StyleReader(ee).get("color"),ie=new DayPilot.StyleReader(ee).get("background-color");k(ee);var ae,re,oe,le=Z.wr(),se=Z.Br(le),de=new DayPilot.StyleReader(le).get("color"),ce=new DayPilot.StyleReader(le).get("background-color");H.rowHeaderColumns&&H.Zo&&H.Zo.blocks[0]&&(ae=H.Zo.blocks[0].section.firstChild,re=new DayPilot.StyleReader(ae).getFont(),oe=new DayPilot.StyleReader(ae).get("color"));var ue=Z.mr(),he=Z.Fh();c.fillRect(p.main,"white"),c.fillRect(p.main,g),function(){var e={};e.backColor=ce,e.text=H.cornerText,e.fontSize=se.size,e.fontFamily=se.family,e.fontStyle=se.style,e.fontColor=de,e.horizontalAlignment="left",e.verticalAlignment="top",e.control=H,e.format=Z.Er,"function"==typeof H.onBeforeCornerExport&&H.onBeforeCornerExport(e);var t={"size":e.fontSize,"family":e.fontFamily,"style":e.fontStyle};c.fillRect(p.corner,e.backColor),c.text(p.corner,e.text,t,e.fontColor,e.horizontalAlignment,0,e.verticalAlignment)}();var fe=p.corner.x;M.Dr().forEach(function(e,t){var n=H.rowHeaderCols[t],i={};i.x=fe,i.w=n+1,i.y=p.corner.h-H.Zo.height,i.h=H.Zo.height+1;var a=3,r=v(i);r.x+=a,r.w-=a;var o=e.name||e.title||e.text||"";c.fillRect(i,ce),c.text(r,o,re,oe,"left",0,"center"),c.rect(i,b),fe+=n});var ve="function"==typeof H.onBeforeTimeHeaderRender,pe="function"==typeof H.onBeforeTimeHeaderExport,me="function"==typeof H.onBeforeRowHeaderRender,ge="function"==typeof H.onBeforeRowHeaderExport,be="function"==typeof H.onBeforeCellExport;Z.fk().forEach(n),Z.$q().forEach(n),Z.ar().forEach(n),Z.fk().forEach(function(e){var t=e.index;Z.hr().forEach(function(n,a,r){a=r.offset+a,i(a,t,e.grid)})});var ye="function"==typeof H.onBeforeGridLineRender;Z.fk().forEach(a),Z.hr().forEach(function(e){r(e,"main")});var we=Z.hr().last();return function(e){if(e){var t=G,n={};if(ye){if(n.start=e.end,n.end=e.end,n.hidden=!1,n.cssClass=null,n.type="VerticalLine",n.color=null,H.onBeforeGridLineRender(n),n.hidden)return;t=n.color||G}var i=p.grid.x+e.left-ue+e.width;c.line(i,p.grid.y+1,i,p.grid.y+p.grid.h-2,t)}}(we),Z.pr().forEach(function(e){var t=p.grid.x+e.left-ue;t<Z.Hh()||c.line(t,p.grid.y+1,t+e.width,p.grid.y+p.grid.h-2,e.color)}),Z.gr().forEach(function(e){e&&e.map(function(e){return Z.Jr(e).shift(p.grid.x-ue,p.grid.y-he)}).forEach(function(e){switch(e.type){case"HorizontalLine":c.line(e.startX,e.startY,e.endX,e.endY,"red");break;case"VerticalLine":c.line(e.startX,e.startY,e.endX,e.endY,"red");break;case"ArrowRight":c.triangle({x:e.startX-10,y:e.startY-4.5,w:10,h:10},"red");break;case"ArrowDown":c.triangle({x:e.startX-4.5,y:e.startY-10,w:10,h:10},"red",90);break;case"ArrowLeft":c.triangle({x:e.startX,y:e.startY-4.5,w:10,h:10},"red",180);break;case"ArrowUp":c.triangle({x:e.startX-4.5,y:e.startY,w:10,h:10},"red",-90)}})}),Z.er().forEach(o),Z.cr().forEach(function(e){var t=e.index;Z.hr().forEach(function(n,a,r){a=r.offset+a,i(a,t,e.grid)}),a(e)}),Z.hr().forEach(function(e){r(e,"top"),r(e,"bottom")}),Z.fr().forEach(o),w(H.timeHeader).forEach(function(e,t){Z.lr(t,s).forEach(function(e){var n=p.grid.x+e.left-ue,i=e.width,a=O.Lr(t),r=a.top,o=a.height,l=o,s={areas:null,backColor:e.backColor,fontColor:e.fontColor,start:e.start,end:e.end,level:t,text:e.text,html:e.innerHTML};ve&&H.onBeforeTimeHeaderRender({header:s});var d={};d.header=s,d.areas=s.areas,d.text=s.text,d.backColor=s.backColor,d.verticalAlignment="center",d.horizontalAlignment="center",d.fontColor=s.fontColor||Q,d.fontSize=K.size,d.fontFamily=K.family,d.fontStyle=K.style,d.format=Z.Er,pe&&H.onBeforeTimeHeaderExport(d);var h=u(0,p.grid.x-n);n+=h,i-=h,i-=u(0,n+i-(p.grid.x+p.grid.w));var f={"x":n,"y":r,"w":i+1,"h":o+1},v={"size":d.fontSize,"family":d.fontFamily,"style":d.fontStyle};c.fillRect(f,d.backColor||$),c.rect(f,b),c.text(f,d.text,v,d.fontColor,d.horizontalAlignment,0,d.verticalAlignment),w(d.areas).forEach(function(t){if(DayPilot.Areas.isVisible(t)){var i={"type":"timeheader-area"};"undefined"!=typeof t.id&&(i.id=t.id),c.groupStart(i);var a=0;"number"==typeof t.left?a=t.left:t.start?a=H.getPixels(new DayPilot.Date(t.start)).left-e.left:"number"==typeof t.right&&(a=e.width-t.right-t.width);var o=t.width||t.w;if("number"==typeof t.right)o=e.width-t.right-a;else if(t.end)if(o){var s=H.getPixels(new DayPilot.Date(t.end)).left-e.left;a=s-o}else o=H.getPixels(new DayPilot.Date(t.end)).left-a-e.left+1;var u=H.yh.Tq(t,l),h={"x":n+a,"y":r+u.top,"w":o,"h":u.height};if(t.backColor&&c.fillRect(h,t.backColor),t.borderColor&&c.rect(h,t.borderColor,t.borders),t.icon){var f=H.yh.Ir(t.icon);c.text(h,f.text,f.font,t.fontColor||d.fontColor,t.horizontalAlignment,t.padding,t.verticalAlignment)}else if(t.image){var v=new Image;v.src=t.image,c.image(h,v)}else t.symbol?c.symbol(h,t.symbol,{color:t.fontColor||d.fontColor}):(t.text||t.html)&&c.text(h,t.text||t.html,{"size":t.fontSize||d.fontSize,"family":t.fontFamily||d.fontFamily,"style":t.fontStyle||d.fontStyle},t.fontColor||d.fontColor,t.horizontalAlignment,t.padding,t.verticalAlignment);c.groupEnd()}})})}),c.rect(p.main,b),c.line(p.grid.x,0,p.grid.x,p.main.h,y),c.line(0,p.grid.y,p.main.w,p.grid.y,y),c},Z.Ir=function(e){var t=Z.yr(e);K().appendChild(t);var n=window.getComputedStyle(t,":before").content.replace(/"/g,""),i=new DayPilot.StyleReader(t).getFont();return K().removeChild(t),{"text":n,"font":i}},Z.Jr=function(e){return{"startX":e.startX,"endX":e.endX,"startY":e.startY,"endY":e.endY,"type":e.type,"shift":function(t,n){return Z.Jr({"startX":e.startX+t,"endX":e.endX+t,"startY":e.startY+n,"endY":e.endY+n,"type":e.type})}}},this.Mr={};var Q=this.Mr;Q.findJointDivs=function(e){var t=e.data.join;return t?w(H.elements.events).filter(function(n){return n.event.data.join===t&&n.event!==e}):w()},J.divs=[],J.list=[],J.forbidden=!1,J.Nr=function(){var e=w(),t=H.multiselect.isSelected(n.vq.event),i=H.allowMultiResize;if(t&&i&&(e=w(H.multiselect.zd).filter(function(e){return e!==n.vq})),H.jointEventsResize){var a=Q.findJointDivs(n.Oq);e=e.concat(a)}return e},J.update=function(){J.clear(),J.draw()},J.clear=function(){k(J.divs),J.divs=[]},J.isInvalid=function(){return J.divs.some(function(e){return e.info.invalid})},J.Or=function(){return H.Pr(J.list)},J.Qr=function(){if(n.vq){var e=n.Oq,t=n.Nq,i=t.start.getTime()-e.start().getTime(),a=t.end.getTime()-e.end().getTime(),r=0;J.list=[],J.forbidden=!1,J.invalid=!1,J.rowoffset=r,J.Nr().forEach(function(e){if(e.event){var t=e.event,n=H.rowlist[t.part.dayIndex+r];if(!n)return void(J.invalid=!0);var o=t.start().addTime(i),l=t.end().addTime(a),s={};s.$={},o>=l&&(s.invalid=!0,i>0?(s.$.Rr=o,s.$.Sr=l.addSeconds(-1)):a<0&&(s.$.Tr=l,s.$.Ur=o.addSeconds(1))),s.event=t,s.start=o,s.end=l,s.$.Vr=n,J.list.push(s)}})}},J.zp=function(){var e=0,t=H.eventBorderRadius;if("number"==typeof t&&(t+="px"),J.list.forEach(function(e){var n=e.event,i=e.$.Vr,a=n.part.top+i.top,r=n.part.height,l=new DayPilot.Date(e.start),s=new DayPilot.Date(e.end),d=H.getPixels(l),c=H.getPixels(s);e.$.Rr===l&&e.$.Sr&&(d=H.getPixels(e.$.Sr)),e.$.Tr===s&&e.$.Ur&&(c=H.getPixels(e.$.Ur));var h=DayPilot.DateUtil.diff(n.rawend(),n.start());h=u(h,1);var f=M.gh(h),v=f?d.boxLeft:d.left,p=f?c.boxRight-v:c.left-v,m=o();m.style.position="absolute",m.style.left=v+"px",m.style.top=a+"px",m.style.height=r+"px",m.style.width=p+"px",m.style.zIndex=101,m.style.overflow="hidden",m.className=H.ca("_shadow"),m.info=e;var g=o();g.className=H.ca("_shadow_inner"),m.appendChild(g),t&&(m.style.borderRadius=t,g.style.borderRadius=t),H.um.appendChild(m),J.divs.push(m)}),J.invalid){var i=H.ca("_shadow_overlap");return void w(J.divs).forEach(function(e){d(e,i)})}w(J.divs).forEach(function(t){if(t.info){var i=t,a=t.info,r=t.info.event,o=H.rowlist[r.part.dayIndex+e],l=H.getPixels(a.start),s=H.getPixels(a.end),c=l.left,u=s.left-c;t.info.invalid&&d(t,H.ca("_shadow_invalid"));var h=w(J.list).map(function(e){return e.event.data}).add(n.vq.event.data);H.Wr(i,o,c,u,h),H.Xr(i,a.start,a.end,r.resource()),i.overlapping&&(a.overlapping=!0,J.forbidden=!0)}})},J.draw=function(){J.Qr(),J.zp()},F.divs=[],F.list=[],F.forbidden=!1,F.Yr=0,F.Zr=function(){return"All"===H.multiMoveVerticalMode},F.Nr=function(){var e=w(),t=H.vn,i=H.multiselect.isSelected(n.sq),a=H.allowMultiMove;if(i&&a&&(e=w(H.multiselect.zd).filter(function(e){var i=e&&e.event,a=n.sq,r=t.sq;return!(H.Ld(i,a)||H.Ld(i,r))})),H.jointEventsMove){var r=Q.findJointDivs(n.sq);e=e.concat(r)}return e},F.update=function(){F.clear(),F.draw()},F.Or=function(){return H.Pr(F.list)},F.Qr=function(){if(F.list=[],F.rowoffset=0,n.vn){var e=n.sq,t=!!n.$r,i=t?n.$r.start:e.start(),a=i.getTime()-e.start().getTime(),r=e.part.dayIndex,o=t?C(H.rowlist,n.$r.row):r,l=o-r;F.Zr()||(l=0),F.forbidden=!1,F.invalid=!1,F.rowoffset=l,F.Nr().forEach(function(t){if(t.event){var n=t.event,r=n.cache||n.data,o=!r.moveDisabled&&!r.moveVDisabled,s=!r.moveDisabled&&!r.moveHDisabled,d=l;o||(d=0);var c=H.rowlist[n.part.dayIndex+d];if(!c)return void(F.invalid=!0);var u=a;s||(u=0);var h=n.start().addTime(u),f=n.end().addTime(u);if(H.eventMoveSkipNonBusiness&&!r.moveSkipNonBusinessDisabled){var v=H.Aq(n),p=n.part.dayIndex+d;if(s&&0===l){var m=e.start(),g=n.start(),b=1;m>g&&(m=n.start(),g=e.start(),b=-1);var y=H.zq(m,g,p,c.grid);b===-1?(y=H.Bq(i,y,p,c.grid),h=i.addTime(-y)):h=H.Dq(i,y,p,c.grid)}var w="Days"===H.viewType||H.qo(),x=0;w&&(x=H.rowlist[n.part.dayIndex].start.getTime()-H.Ub().getTime());var k=0,C=M.gh(v),_=n.data&&"Milestone"===n.data.type;C&&!_&&(k=H.zq(H.qq(n.start().addTime(-x)).addTime(x),n.start(),p,c.grid));var T=H.Cq(h,p,c.grid);if(!T)return void(F.invalid=!0);h=T.start.addTime(k),f=H.Dq(h,v,p,c.grid)}var D={};D.event=n,D.start=h,D.end=f,D.resource=c.id,F.list.push(D)}})}},F._r=function(){return F.list.map(function(e){var t=e.start,n=e.end,i=e.event,a=H.getPixels(t),r=H.getPixels(n),o=DayPilot.DateUtil.diff(i.rawend(),i.start());o=u(o,1);var l=M.gh(o),s=H.zm(e.resource),d=l?a.boxLeft:a.left,c=l?r.boxRight-d:r.left-d,h=i.part.top+s.top,f=i.part.height;e.resource!==e.event.data.resource&&(h=s.top,f=s.height);var v={};return v.info=e,v.y=s.index,v.left=d,v.width=c,v.height=f,v.top=h,v})},F.zp=function(){var e=H.eventBorderRadius;if("number"==typeof e&&(e+="px"),F.list.forEach(function(t){var n=t.start,i=t.end,a=t.event,r=H.getPixels(n),l=H.getPixels(i),s=DayPilot.DateUtil.diff(a.rawend(),a.start());s=u(s,1);var d=M.gh(s),c=H.zm(t.resource);if(!c)return void(F.invalid=!0);t.$={},t.$.Vr=c;var h=d?r.boxLeft:r.left,f=d?l.boxRight-h:l.left-h,v=a.part.top+c.top,p=a.part.height;"Milestone"===a.data.type&&(f=H.eventHeight,h-=f/2),t.resource!==t.event.data.resource&&(v=c.top,p=c.height);var m=o();m.style.position="absolute",m.style.left=h+"px",m.style.top=v+"px",m.style.height=p+"px",m.style.width=f+"px",m.style.overflow="hidden",m.className=H.ca("_shadow"),m.info=t,m.left=h,m.width=f;var g=o();g.className=H.ca("_shadow_inner"),m.appendChild(g),e&&(m.style.borderRadius=e,g.style.borderRadius=e),H.um.appendChild(m),F.divs.push(m)}),F.invalid){var t=H.ca("_shadow_overlap");return void w(F.divs).forEach(function(e){d(e,t)})}w(F.divs).forEach(function(e){if(e.info){var t=e,i=e.info,a=e.info.$.Vr,r=H.getPixels(i.start),o=H.getPixels(i.end),l=r.left,s=o.left-l,d=w(F.list).map(function(e){return e.event.data}).add(n.sq.data);H.Wr(t,a,l,s,d),H.Xr(t,i.start,i.end,i.resource),i.overlapping=!1,t.overlapping&&(i.overlapping=!0,F.forbidden=!0)}})},F.draw=function(){F.Qr(),F.zp()},F.clear=function(){k(F.divs),F.divs=[]},this.Pr=function(e,t){return t=["$"].concat(t||[]),e.map(function(e){var n=e,i={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var r=null===t||void 0===t?void 0:t.includes(a),o=n[a];"undefined"!=typeof o&&(r?Object.defineProperty(i,a,{value:o}):i[a]=o)}return i})},this.as=function(){var e=H.coords,t=n.vq.dpBorder,i=n.vq.event,a=i.part.left;"right"===t&&(a+=i.part.width);var r,o=n.vq.event.calendar.cellWidth,l=n.vq.event.part.width,s=n.vq.event.part.left,d=0,c=e.x-a,u=H.snapToGrid&&H.snapToGridEventResizing;if("right"===t){if(u){var h=H.rn(l+s+c).cell,f=H.rn(s).cell,v=f.left+f.width-s;r=h.left+h.width-s,r<v&&(r=v)}else r=l+c;var p=H.Om();if(s+r>p&&(r=p-s),H.qo()){var m=!u,g=H.wm[i.part.grid].rowlist,b=g[i.part.dayIndex],y=b.start.getTime()-H.Ub().getTime(),w=H.getDate(s+r,m,!0).addTime(y);if(w>b.data.end){var x=b.data.end.addTime(-y),k=H.getPixels(x);w=k.left,u&&(w=k.boxRight),r=w-s}}n.Nq.left=s,n.Nq.width=r}else{if("left"!==t)throw new DayPilot.Exception("Invalid dpBorder.");var C=void 0;u?(c>=l&&(c=l),C=Math.floor((s+c+0)/o)*o,C<d&&(C=d)):C=s+c,r=l-(C-s);var _=s+l,T=o;u?"Never"===H.useEventBoxes&&(T=l<o?l:1):T=1,r<T&&(r=T,C=_-r),n.Nq.left=C,n.Nq.width=r}H.bs()},this.Lq=function(){if(H.coords&&n.sq){H.Um();var e=n.$r,t=this.ep(n.sq);if(!H.Gq(t.rowIndex,t.grid)){var i=n.sq,a=i.cache&&"undefined"!=typeof i.cache.moveVDisabled?!i.cache.moveVDisabled:!i.data.moveVDisabled,r=i.cache&&"undefined"!=typeof i.cache.moveHDisabled?!i.cache.moveHDisabled:!i.data.moveHDisabled,o=!F.Nr().isEmpty();o&&"Disabled"===H.multiMoveVerticalMode&&(a=!1),a&&t.grid!==e.grid&&(e.parentNode.removeChild(e),H.wm[t.grid].divShadow.appendChild(e),e.grid=t.grid);var l=0,s=0;if(function(){if(H.yl){var e=t.relativeY,n=H.rn(t.left).x,i=t.row,a=i.evColumns[n],r=a.events.find(function(t){return e<t.part.top+t.part.height+H.eventMarginBottom});r||(r=a.events.last()),r&&(s=r.part.top,l=C(a.events,r),
e-r.part.top>r.part.height/2&&(s=r.part.top+r.part.height+H.eventMarginBottom/2,l+=1))}else{for(var o=t.relativeY,i=t.row,d=0,c=H.Ba.fp(),h=i.lines.length,f=0;f<i.lines.length;f++){if(i.lines[f].ie(t.left,H.cellWidth)){h=f;break}}var v=Math.floor((o-d+c/2)/c);v=Math.min(h,v),v=u(0,v),l=v,s=H.rowMarginTop+l*(H.Ba.fp()+H.eventMarginBottom)+H.eventMarginBottom/2}}(),s>0&&(s-=3),a)if(this.Gq(t.rowIndex,t.grid)){var d=e.row,c=1;if(!d)return;c=t.rowIndex<d.index?1:-1;for(var f=t.rowIndex;f!==d.index;f+=c){var v=this.rowlist[f];if(!this.Gq(f,t.grid)&&!v.hidden){e.row=v,e.style.top=e.row.top+e.row.marginTop+"px",e.style.height=u(e.row.height-e.row.marginTop-e.row.marginBottom,0)+"px",H.eventMoveToPosition&&(l=c>0?0:v.lines.length-1,e.style.top=t.top+s+"px",e.style.height="3px",e.line=l);break}}}else e.row=t.row,e.style.top=t.top+"px",e.style.height=t.height+"px",H.eventMoveToPosition&&(e.style.top=t.top+s+"px",e.style.height="3px",e.line=l);else{for(var p=H.wm[i.part.grid].rowlist,d=p[i.part.dayIndex],m=d.lines.length,f=0;f<d.lines.length;f++){if(d.lines[f].ie(t.left,H.cellWidth)){m=f;break}}if(o||(e.style.height=u(d.height,0)+"px",e.style.top=d.top+"px"),e.row=d,H.eventMoveToPosition&&!o)if(t.row===d)e.style.top=d.top+s+"px",e.style.height="3px",e.line=l;else{var g=t.rowIndex>d.index&&m>0?m*H.Ba.fp()-3:0;e.style.top=d.top+g+"px",e.style.height="3px",e.line=0}}var b=H.jb;if(b&&"number"==typeof b.height){var y=h(e.row.height-e.row.marginTop-e.row.marginBottom,b.height);e.style.height=y+"px"}r?(e.style.left=t.left+"px",H.eventMoveToPosition?e.style.width=H.cellWidth+"px":e.style.width=t.width+"px",e.start=t.start,e.end=t.end):(e.style.left=i.part.left+"px",e.start=i.start(),e.end=i.rawend(),t.left=i.part.left),e.left=t.left,e.width=t.width,H.cs()}}},this.cs=function(){function e(e){if(!!e.from!=!!e.to){e.Lp=!0;var n=function(e){return e?"object"!=typeof e?Y.Ep(e):e:t},i=n(e.from),a=n(e.to);if(i&&a){var r=Y.Ip(i,a,e);W.fs(r)}}}var t=n.$r,i=H.Sl,a=H.jb,r=n.sq;if(a){var o=a.start.getTime()===t.start.getTime(),l=a.end.getTime()===t.end.getTime(),c=a.resource===t.row.id,f=a.shift+"_"+a.ctrl+"_"+a.meta+"_"+a.alt==H.coords.shift+"_"+H.coords.ctrl+"_"+H.coords.meta+"_"+H.coords.alt,v=!H.eventMoveToPosition||a.position===t.line;if(o&&l&&c&&f&&v)return}a&&(s(t,a.cssClass),t.firstChild.innerHTML=""),i.clear(),i.Qr();var p=function(){var e=H.links,t=e.findAllByFromTo(r.id(),null).map(function(e){return{"to":e.to(),"type":e.type()}});return t=t.concat(e.findAllByFromTo(null,r.id()).map(function(e){return{"from":e.from(),"type":e.type()}}))}();!function(){t.overlapping=!1;var e=t.row,a=r.data,o=t.width,l=t.left,s=w(i.list).map(function(e){return e.event.data}).add(a);H.Wr(t,e,l,o,s),H.Xr(n.$r,t.start,t.end,t.row.id)}();var m="Milestone"===r.data.type,g=!!y.drag&&r.part.external;if(!a&&"function"==typeof H.onEventMoveStart){var b={e:r,control:H,external:g};b.shift=H.coords.shift,b.ctrl=H.coords.ctrl,b.meta=H.coords.meta,b.alt=H.coords.alt,b.areaData=y.movingAreaData,b.multimove=i.Or().map(function(e){return{event:e.event}}),b.multimove.splice(0,0,{event:r}),H.onEventMoveStart(b)}var x={};x.start=t.start,x.end=H.dk(t.end),x.duration=new DayPilot.Duration(x.start,x.end),x.e=r,x.external=g,x.control=H,x.resource=t.row.id,x.height=null,x.html=null,x.row=H.vo(t.row),x.position=t.line,x.overlapping=t.overlapping||i.forbidden,x.allowed=!0,x.left={},x.left.html=x.start.toString(H.eventMovingStartEndFormat,M.Xc()),x.left.enabled=H.eventMovingStartEndEnabled,x.left.space=5,x.left.width=null,x.left.height=H.eventHeight,x.right={},x.right.html=x.end.toString(H.eventMovingStartEndFormat,M.Xc()),x.right.enabled=H.eventMovingStartEndEnabled,x.right.space=5,x.right.width=null,x.right.height=H.eventHeight,x.multimove=i.Or(),x.shift=H.coords.shift,x.ctrl=H.coords.ctrl,x.meta=H.coords.meta,x.alt=H.coords.alt,x.areaData=y.movingAreaData,x.links=p,x.link=null,x.cssClass=null,x.html=null,m&&(x.end=x.start);var k={};k.event=r,k.start=x.start,k.end=x.end,k.overlapping=x.overlapping,k.resource=x.resource,x.multimove.splice(0,0,k),H.jb=x;var C={"start":x.start,"end":x.end,"resource":x.resource};if("function"==typeof H.onEventMoving&&H.onEventMoving(x),n.vn){if(i.list=w(x.multimove,!0),i.list.splice(0,1),i.zp(),t.allowed=x.allowed,d(t,x.cssClass),x.fullShadow){var T=H.kh(r);t.innerHTML=T.innerHTML,t.style.boxShadow="0 2px 5px rgba(0,0,0,.2)"}else x.html?t.firstChild.innerHTML=x.html:t.firstChild.innerHTML="";if(x.start!==C.start||x.end!==C.end){var D=x.start,S=H.Jj(x.end);t.start=D,t.end=S;var E=DayPilot.DateUtil.diff(D,S);E=u(E,1);var A=!m&&M.gh(E),R=A?H.getPixels(D).boxLeft:H.getPixels(D).left,B=A?H.getPixels(S).boxRight:H.getPixels(S).left;if(m){var N=H.eventHeight;R-=N/2,B=R+N}t.style.left=R+"px",t.left=R,t.style.width=B-R+"px",t.width=B-R}if(x.resource!==C.resource){var P=H.zm(x.resource);if(P&&(t.row=P,t.style.height=u(P.height,0)+"px",t.style.top=P.top+"px",H.eventMoveToPosition)){var L=H.rowMarginTop;t.style.top=P.top+L+"px",t.style.height="3px",t.line=0}}if("number"==typeof x.height){var z=h(t.row.height-t.row.marginTop-t.row.marginBottom,x.height);t.style.height=z+"px"}!function(){var e=t.row,a=r.data,o=t.width,l=t.left;t.overlapping=!1;var s=w(i.list).map(function(e){return e.event.data}).add(a);H.Wr(t,e,l,o,s),H.Xr(n.$r,t.start,t.end,t.row.id)}(),H.ds(t,x),H.es(t,x),W.Zl();var I=x.link,O=x.links;I?e(I):_(O)&&O.forEach(function(t){e(t)})}},this.Wr=function(e,t,i,a,r){if(!H.allowEventOverlap){!function(){e.overlapping=!1;for(var o=0;o<t.lines.length;o++){if(!t.lines[o].ie(i,a,r))return void(e.overlapping=!0)}var s=t.index;return w(P.list).some(function(t){var n=t.div,r=parseInt(n.style.left),o=parseInt(n.style.width),d=t.start.y;return e!==n&&(d===s&&l(i,i+a,r,r+o))})?void(e.overlapping=!0):F._r().some(function(t){var n=t.info,r=t.left,o=t.width,d=t.y,c=null;return e.event?c=e.event.data.id:e.info&&(c=e.info.event.data.id),(null===c||c!==n.event.data.id)&&d===s&&l(i,i+a,r,r+o)})?void(e.overlapping=!0):w(J.divs).some(function(t){var n=t.info,r=parseInt(t.style.left),o=parseInt(t.style.width),d=n.$.Vr.index;return e!==t&&d===s&&l(i,i+a,r,r+o)})?void(e.overlapping=!0):function(){var t=n.$r;return!!t&&e!==t&&(e.info?e.info.$.Vr:e.row).index===t.row.index&&l(e.left,e.left+e.width,t.left,t.left+t.width)}()?void(e.overlapping=!0):void 0}();var o=e.overlapping,c=H.ca("_shadow_overlap");o?d(e,c):s(e,c)}},this.Xr=function(e,t,n,i){H.Zc(t,n,i)&&(e.overlapping=!0);var a=H.ca("_shadow_overlap");e.overlapping?d(e,a):s(e,a)},this.Zc=function(e,t,n){if(!(H.cellConfig&&H.cellConfig.hasDisabled||H.jn.hs))return!1;if(H.qo()){return H.ks(n).some(function(n){if(l(n.data.startTicks,n.data.endTicks,e.getTime(),t.getTime())){var i=H.vo(n).cells.forRange(e,t);return!!i&&i.some(function(e){return e.properties.disabled})}return!1})}var i=null;"Days"===H.viewType&&(i=H.pq(e));var a=H.rows.find(n,i).cells.forRange(e,t);return!!a&&a.some(function(e){return e.properties.disabled})},this.ds=function(e,t){var n=H.ca("_shadow_forbidden");!t.allowed||F.invalid?d(e,n):s(e,n)},this.es=function(e,t){if(this.ls(),e.calendar===H){var n=H.bp(e.grid),i={};i.left=parseInt(e.style.left),i.top=parseInt(e.style.top),i.right=i.left+parseInt(e.style.width);var a=t.left.width||10,r=o();r.style.position="absolute",r.style.left=i.left-a-t.left.space+"px",r.style.top=i.top+"px",r.style.height=t.left.height+"px",r.style.overflow="hidden",r.style.boxSizing="border-box",r.innerHTML=t.left.html,r.className=H.ca("_event_move_left"),r.onmousemove=H.ms;var l=H.Cl;if(t.left.enabled){var s=0;i.top+t.left.height>l&&(s=i.top-(l-t.left.height),r.style.top=l-t.left.height+"px"),n.divHover.appendChild(r),t.left.width?r.style.width=a+"px":r.style.whiteSpace="nowrap";var d=r.offsetWidth,c=i.left-d-t.left.space;r.style.width=d+"px",r.style.left=c+"px";var u=H.nav.scroll.scrollLeft;c<u&&n.divHover.removeChild(r);var h=H.Rm()+(c-u);h>0&&(r.style.left=h+"px",r.style.top=i.top-n.div.scrollTop+n.top-s+"px",H.nav.top.appendChild(r),H.elements.hover.push(r))}var f=o();if(f.style.position="absolute",f.style.left=i.right+t.right.space+"px",f.style.top=i.top+"px",f.style.height=t.right.height+"px",f.style.overflow="hidden",f.style.boxSizing="border-box",t.right.width?f.style.width=t.right.width+"px":f.style.whiteSpace="nowrap",f.innerHTML=t.right.html,f.className=this.ca("_event_move_right"),f.onmousemove=H.ms,t.right.enabled){i.top+t.right.height>l&&(f.style.top=l-t.right.height+"px"),n.divHover.appendChild(f);var v=H.nav.scroll.scrollWidth;i.right+t.right.space+f.offsetWidth>=v&&n.divHover.removeChild(f)}}},this.ls=function(){H.divHover.innerHTML="",H.wm.top.divHover.innerHTML="",H.wm.bottom.divHover.innerHTML="",k(H.elements.hover),H.elements.hover=[]},W.Oc=[],W.Zl=function(){W.Oc.forEach(function(e){e.clear()}),W.Oc=[]},W.fs=function(e){e&&W.Oc.push(e)},this.ns=function(){var e=H.rowHeaderColumnDefaultWidth;if(this.rowHeaderColumns){var t=M.Dr();this.rowHeaderCols=DayPilot.Util.propArray(t,"width",e)}else this.rowHeaderCols=null},this.os=function(){var e=0;if(this.ns(),this.rowHeaderCols)for(var t=0;t<this.rowHeaderCols.length;t++)e+=this.rowHeaderCols[t];else e=this.rowHeaderWidth;return e},this.ps=function(){return this.qs(H.progressiveRowRenderingPreload)},this.qs=function(e){e=e||0;var t=0,n=H.rowlist.length;if(H.progressiveRowRendering){var i=H.xd();t=i.yStart,function(){var e=H.rowlist[t],n=e&&e.split&&e.split.parent;n&&(t=n.index)}(),n=i.yEnd+1,t=u(0,t-e),n=Math.min(H.rowlist.length,n+e)}return{"start":t,"end":n}},this.rs=function(){function e(e,t,n){for(var i=H.bp(e).divHeader,r=t;r<n;r++){var o=i.rows[r];if(o){var l={"row":o,"grid":e,"i":r};H.ss(l,a)}}}if(this.vg()){var t=!1,n=0;if(this.rowHeaderWidthAutoFit){var i=this.divHeader;if(!i)return;if(!i.rows)return;var a=[];this.ns();H.rowHeaderWidthAutoFitShrink&&(H.rowHeaderScrolling||(H.rowHeaderWidth=0),H.rowHeaderCols&&H.rowHeaderCols.forEach(function(e,t){H.rowHeaderCols[t]=0}));var r=H.ps();if(e("main",r.start,r.end),H.wm.top.enabled()&&e("top",0,H.wm.top.divHeader.rows.length),H.wm.bottom.enabled()&&e("bottom",0,H.wm.bottom.divHeader.rows.length),this.rowHeaderCols)for(var o=0;o<a.length;o++)"number"==typeof this.rowHeaderCols[o]&&(a[o]>this.rowHeaderCols[o]&&(this.rowHeaderCols[o]=a[o],t=!0),n+=this.rowHeaderCols[o]);else{n=this.rowHeaderWidth;var l=M.Sm();this.rowHeaderWidth<a[0]+H.rowHeaderWidthMarginRight+l&&(n=a[0]+H.rowHeaderWidthMarginRight+l,t=!0)}}t&&(this.Zo&&(this.Zo.widths=this.rowHeaderCols,this.Zo.updateWidths(),DayPilot.Util.updatePropsFromArray(M.Dr(),"width",this.rowHeaderCols)),this.rowHeaderCols||(this.rowHeaderWidth=n),this.Nn(),this.ts())}},this.ss=function(e,t){var n=e.row,i=H.bp(e.grid),a=i.rowlist[e.i],r=H.rowHeaderColumns;if(!a.hidden){for(var o=0;o<n.cells.length;o++)if(n.cells[o]&&"number"!=typeof n.cells[o].vs){var l=n.cells[o].firstChild.firstChild;if(l&&l.style){var s=l.style.width,d=l.style.right,c=l.style.display;l.style.position="absolute",l.style.width="auto",l.style.right="auto",l.style.whiteSpace="nowrap",l.style.display="block";var u=l.offsetWidth+2;n.cells[o].vs=u,l.style.position="",l.style.width=s,l.style.right=d,l.style.display=c,l.style.whiteSpace=""}}for(var o=0;o<n.cells.length;o++)if(n.cells[o]){var u=n.cells[o].vs;if("undefined"==typeof t[o]&&(t[o]=0),r&&r[o]&&"number"==typeof r[o].maxAutoWidth){var h=r[o].maxAutoWidth;u=Math.min(u,h)}t[o]=Math.max(t[o],u)}}},this._l=function(){this.ws=!0,this.ns();var e=this.os(),t=this.divHeader;if(t.style.width=e+"px",t.style.height=H.Cl+"px",H.wm.main.divHeader=t,H.progressiveRowRendering)i();else for(var n=this.rowlist.length,a=0;a<n;a++)H.xs(a);if(H.wm.top.enabled())for(var a=0;a<H.wm.top.rowlist.length;a++)H.xs(a,"top");if(H.wm.bottom.enabled())for(var a=0;a<H.wm.bottom.rowlist.length;a++)H.xs(a,"bottom");H.ys(),this.divResScroll.appendChild(t),this.rowHeaderWidthAutoFit&&this.rs()},this.$l=function(){function e(e){var t=H.bp(e),n=t.divHeader,i=n;n.zs&&(i=n.zs),H.ap(e),i&&(i.innerHTML=""),n&&(n.rows=[])}e("main"),e("top"),e("bottom")},this.On=function(e){if(e=e||{},H.progressiveRowRendering){for(var t=this.ps(),i=0;i<H.rowlist.length;i++)t.start<=i&&i<t.end?H.xs(i):H.cp(i);var a=function(){if(H.rowHeaderWidthAutoFit&&!n.As){var e=H.Rm();H.rs();if(H.Rm()!==e){var t=H.cellWidth;H.Vl();H.cellWidth!==t&&(H.Wl(),H.bm(),H.cm(),H.Bb(),H.tb(),Y.Zl(),H.Bs())}}};if(!e.skipAutoFit){H.W.reactDOM&&"function"==typeof H.onBeforeRowHeaderDomAdd?setTimeout(a,0):a()}}},this.ys=function(){if(!H.Ba.Cs()){var e=H.divHeader,t=o();t.style.position="absolute",e.appendChild(t),H.nav.resScrollSpace=t;var n=o();n.style.position="relative",n.style.height="100%",n.className=this.ca("_rowheader"),t.appendChild(n);var i=this.os(),a=H.nav.resScrollSpace;a.style.width=i+"px",a.style.top=this.Cl+"px"}},this.cp=function(e,t){var n=H.bp(t),i=n.divHeader.rows[e];if(i){if(i)for(var a=0;a<i.cells.length;a++){var r=i.cells[a];if(r){var o=r.domArgs;if(r.domArgs=null,o&&"function"==typeof H.onBeforeRowHeaderDomRemove&&H.onBeforeRowHeaderDomRemove(o),o&&"function"==typeof H.onBeforeRowHeaderDomAdd){var l=o&&o.Le;if(l){var s=H.W.reactDOM&&p(o.element),d=H.Y.Ne&&(m(o.element)||g(o.element));s?H.W.ka(l):d&&(H.Y.Oe=!0,H.Y.la(l),H.Y.Oe=!1)}}o&&(o.element=null,o.Le=null)}}k(i.cells),n.divHeader.rows[e]=null}},this.do=function(e,t){this.cp(e,t),this.xs(e,t)},this.bo=function(){return"Standard"===H.rowHeaderColumnsMode||"Tabular"===H.rowHeaderColumnsMode},this.Ds=function(e,t){var n=void 0;return e.tags?n=e.tags[t]:e.task?n=e.task[t]:e.swimlane&&(n=e.swimlane[t]),"undefined"!=typeof n?n:e[t]},this.wo=function(e,t,n){return e.tags&&"undefined"!=typeof e.tags[t]?void(e.tags[t]=n):void(e[t]=n)},this.xs=function(e,t){function n(){var t=o(),n=H.treeImageWidth;if(H.treeEnabled&&!u.isNewRow){var i=u.level*H.treeIndent+H.treeImageMarginLeft;X&&(i+=Z);var a=H.treeImageHeight;t.style.marginLeft=i+"px",t.style.position="relative",t.className=H.ca("_rowheader_inner_indent");var r=o();r.style.width=n+"px",r.style.height=a+"px",r.style.backgroundRepeat="no-repeat",r.style.position="absolute",r.style.top=H.treeImageMarginTop+"px",u.loaded||0!==u.children.length?u.children.length>0?(u.expanded?r.className=H.ca("_tree_image_collapse"):r.className=H.ca("_tree_image_expand"),r.style.cursor="pointer",r.index=e,r.onclick=function(e){H.Kq(this.index),e.cancelBubble=!0}):r.className=H.ca("_tree_image_no_children"):(r.className=H.ca("_tree_image_expand"),r.style.cursor="pointer",r.index=e,r.onclick=function(e){H.Ps(this.index),e.cancelBubble=!0}),t.appendChild(r)}var l=o();if(H.treeEnabled){var s=H.treeImageMarginRight;l.style.marginLeft=n+s+"px"}l.innerHTML=H.La(A.text,A.html),l.className=H.ca("_rowheader_inner_text"),D.textDiv=l,D.cellDiv=q,t.appendChild(l),G.appendChild(t);var d=A.verticalAlignment||M.verticalAlignment;if(d)switch(G.style.display="flex",d){case"center":G.style.alignItems="center";break;case"top":G.style.alignItems="flex-start";break;case"bottom":G.style.alignItems="flex-end"}}function i(t,n,i){if(("function"==typeof H.onBeforeRowHeaderDomAdd||"function"==typeof H.onBeforeRowHeaderDomRemove)&&!u.isNewRow){var a={};if(a.control=H,a.row=H.vo(u),a.row.columns=DayPilot.Util.createArrayCopy(u.columns,H.Qs),a.x=t,a.element=null,a.target="Cell",l.rows[e].cells[t].domArgs=a,"function"==typeof H.onBeforeRowHeaderDomAdd&&H.onBeforeRowHeaderDomAdd(a),a.element){var r=null;switch(a.target&&a.target.toLowerCase()){case"text":r=n;break;case"cell":r=i}if(r){a.Le=r,r.innerHTML="";var o=p(a.element),s=m(a.element),d=g(a.element);if(o){if(!H.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");H.W.V(a.element,r)}else if(s){if(!H.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");H.Y.Oe=!0,H.Y.Z(a.element,r,a.props),H.Y.Oe=!1}else if(d){if(!H.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");H.Y.Oe=!0,H.Y.Pe(a.element,r),H.Y.Oe=!1}else r.appendChild(a.element)}}}}var a=H.bp(t),r=a.rowlist,l=a.divHeader,s=l;if(l.zs&&(s=l.zs),l&&(l.rows||(l.rows=[]),!l.rows[e])){var c=this.rowHeaderCols,u=r[e];if(u&&!u.hidden){var h=I.va[u.grid+"_"+e],f=u.height,v=u.cells&&u.cells[0];v&&v.rowspan>1&&(f=v.row.split.totalHeight());var b=null;u.split&&u.split.parent&&u.split.Es()&&(b=H.Gr(u.split.parent));var y=this.Gr(u),x=c&&y.row.columns&&y.row.columns.length>0,k=x?this.rowHeaderCols.length:0,C=this.os();l.rows[e]={},l.rows[e].cells=[];var D=o();D.style.position="absolute",D.style.top=u.top+"px",D.row=b?u.split.parent:u,D.index=e,D.column=0;var S=b?b.row:null,E=y.row,M=y.row,A=b?b.row:M,B=H.bo(),N=u.children.length>0,P=H.internalUseStandardColumns&&!u.isNewRow,L=_(H.rowHeaderColumns),z=P||B&&L,O=w(y.row.columns);b&&L&&y.row.columns.length===H.rowHeaderColumns.length&&H.rowHeaderColumns.forEach(function(e,t){e.split||(O[t]=b.row.columns[t])}),z&&(O=O.filter(function(e,t){return!H.rowHeaderColumns[t].hidden}),k=O.length);var j=!(H.rowHeaderColumnsMergeParents&&N);if(z&&j){A=O[0]||y.row,M=S||M;var U=H.rowHeaderColumns.find(function(e){return!e.hidden});U&&U.split&&(D.row=u,M=E)}H.ja()&&(A=y.row);var W=x?c[0]:C;D.style.width=W+"px",D.style.border="0px none";var Y=A.toolTip||M.toolTip;Y&&(D.title=Y),"undefined"!=typeof M.ariaLabel?D.setAttribute("aria-label",M.ariaLabel):D.setAttribute("aria-label",A.text||""),D.onmouseenter=H.Fs,D.onmouseleave=H.Gs,D.onmousemove=H.Hs,D.onmouseout=H.Is,D.onmouseup=H.Js,D.oncontextmenu=H.Ks,D.onclick=H.Ls,D.ondblclick=H.Ms,DayPilot.rePassive(D,"touchstart",H.Ca.Ns),DayPilot.reNonPassive(D,"touchend",H.Ca.Os);var q=o();q.style.width=W+"px",q.className=this.ca("_rowheader"),h&&d(q,H.ca("_rowheader_selected")),M.cssClass&&d(q,M.cssClass),A.cssClass&&d(q,A.cssClass);var F=A.backColor||M.backColor;F&&(q.style.background=F);var V=A.fontColor||M.fontColor;V&&(q.style.color=V);var J=A.horizontalAlignment||M.horizontalAlignment;H.treeEnabled&&(J=null),J&&(q.style.textAlign=J),q.style.height=f+"px",q.style.overflow="hidden",q.style.position="relative";var G=o();switch(G.className=this.ca("_rowheader_inner"),J){case"right":G.style.justifyContent="flex-end";break;case"left":G.style.justifyContent="flex-start";break;case"center":G.style.justifyContent="center"}q.appendChild(G);var X="Disabled"!==this.rowMoveHandling&&"main"===u.grid,Z=H.rowDragHandleWidth,K=A.areas||[],Q=H.rowDragHandleVisibility||"Hover";X&&!M.moveDisabled&&K.push({"v":Q,"w":Z,"bottom":0,"top":0,"left":0,"css":H.ca("_rowmove_handle"),"action":"Move"});var $=H.vo(u);DayPilot.Areas.attach(q,$,{"areas":K,"allowed":function(){return!T.row}});var ee=o();ee.style.position="absolute",ee.style.bottom="0px",ee.style.width="100%",ee.style.height="0px",ee.style.boxSizing="content-box",ee.style.borderBottom="1px solid transparent",ee.className=this.ca(R.resourcedivider),q.appendChild(ee),n(),D.appendChild(q);v&&v.refCell||(l.rows[e].cells[0]=D,i(0,D.textDiv,G),s.appendChild(D));var te=!u.isNewRow&&H.rowHeaderColumnsMergeParents&&y.row.children().length>0;if(!y.row.columns||0===y.row.columns.length||te)D.colSpan="max",q.style.width=C+"px";else for(var ne=W,ie=P||B?0:1,ae=1;ae<k;ae++){var re=O[ae-ie]||{},oe=u.cells[ae-ie];if(!oe.refCell){var le=u.height;oe.rowspan>1&&(le=oe.row.split.totalHeight()),M=oe.Rs?S:E;var se=o();se.style.position="absolute",se.style.top=u.top+"px",se.style.left=ne+"px",se.row=u,se.index=e,se.column=ae;var de=re.toolTip||M.toolTip;de&&(se.title=de),se.onmousemove=H.Hs,se.onmouseout=H.Is,se.onmouseup=H.Js,se.oncontextmenu=H.Ks,se.onclick=H.Ls,se.ondblclick=H.Ms;var ce=o(),ue=c[ae];ne+=ue;var he=re.backColor||M.backColor;he&&(ce.style.backgroundColor=he);var fe=re.fontColor||M.fontColor;fe&&(ce.style.color=fe),ce.style.width=ue+"px",ce.style.height=le+"px",ce.style.overflow="hidden",ce.style.position="relative",d(ce,this.ca("_rowheader")),d(ce,this.ca("_rowheadercol")),d(ce,this.ca("_rowheadercol"+ae)),h&&d(ce,H.ca("_rowheader_selected")),M.cssClass&&d(ce,M.cssClass),re.cssClass&&d(ce,re.cssClass);var ve=re.horizontalAlignment||M.horizontalAlignment;ve&&(ce.style.textAlign=ve);var pe=o();switch(pe.className=this.ca("_rowheader_inner"),ve){case"right":pe.style.justifyContent="flex-end";break;case"left":pe.style.justifyContent="flex-start";break;case"center":pe.style.justifyContent="center"}ce.appendChild(pe);var me=o();me.style.position="absolute",me.style.bottom="0px",me.style.width="100%",me.style.height="0px",me.style.boxSizing="content-box",me.style.borderBottom="1px solid transparent",me.className=this.ca(R.resourcedivider),ce.appendChild(me);var ge=o(),be=H.La(re.text,re.html);ge.innerHTML=be,se.textDiv=ge,se.cellDiv=ce,pe.appendChild(ge),DayPilot.Areas.attach(ce,$,{"areas":re.areas,"allowed":function(){return!T.row}}),se.appendChild(ce),oe.refCell||(l.rows[e].cells[ae]=se,i(ae,ge,pe),s.appendChild(se))}}}}},this.Ks=function(e){if("Disabled"===H.rowRightClickHandling)return!1;var t=this.row,n=this.column,i=H.vo(t),a={};if(a.ctrl=e.ctrlKey,a.shift=e.shiftKey,a.meta=e.metaKey,a.originalEvent=e,a.row=i,a.x=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof H.onRowRightClick||(H.onRowRightClick(a),!a.preventDefault.value)){switch(H.rowRightClickHandling){case"ContextMenu":t.contextMenu&&t.contextMenu.show(i)}return"function"==typeof H.onRowRightClicked&&H.onRowRightClicked(a),!1}},this.Ls=function(e){if(!A.cancelClick){var t=this.row,n=this.column,i=H.vo(t,this.index);return t.isNewRow?void H.Il.Co(t):void H.zo(i,e,n)}},this.Ms=function(e){if(H.wn.resClick){for(var t in H.wn.resClick)window.clearTimeout(H.wn.resClick[t]);H.wn.resClick=null}var n=this.row,i=H.vo(n,this.index),a=this.column;if(H.Kb()){var r={};if(r.resource=i,r.row=i,r.x=a,r.ctrl=e.ctrlKey,r.shift=e.shiftKey,r.meta=e.metaKey,r.originalEvent=e,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onRowDoubleClick&&(H.onRowDoubleClick(r),r.preventDefault.value))return;switch(H.rowDoubleClickHandling){case"PostBack":H.rowDoubleClickPostBack(i);break;case"CallBack":H.rowDoubleClickCallBack(i);break;case"Select":H.Bo(n,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":H.Il.Co(n,a)}"function"==typeof H.onRowDoubleClicked&&H.onRowDoubleClicked(r)}else switch(H.rowDoubleClickHandling){case"PostBack":H.rowDoubleClickPostBack(i);break;case"CallBack":H.rowDoubleClickCallBack(i);break;case"JavaScript":H.onRowDoubleClick(i);break;case"Select":H.Bo(n,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":H.Il.Co(n,a)}},this.rowDoubleClickPostBack=function(e,t){var n={};n.resource=e,this.Na("RowDoubleClick",n,t)},this.rowDoubleClickCallBack=function(e,t){var n={};n.resource=e,this.Pa("RowDoubleClick",n,t)},this.Bf=function(){var e;if("undefined"!=typeof DayPilot.Bubble){var t=this.cell,n=t.th,i={calendar:H,start:n.start,end:n.end,level:t.level,bubbleHtml:n.bubbleHtml,toJSON:function(){return{start:this.start,end:this.end,level:this.level}}};null===(e=H.timeHeaderBubble)||void 0===e?void 0:e.showTimeHeader(i,!1,this)}},this.Ss=function(){var e;"undefined"!=typeof DayPilot.Bubble&&(null===(e=H.timeHeaderBubble)||void 0===e?void 0:e.hideOnMouseOut())},this.Ts=function(e){if("Disabled"!==H.timeHeaderClickHandling){var t={};t.start=this.cell.start,t.level=this.cell.level,t.end=this.cell.end,t.end||(t.end=new DayPilot.Date(t.start).addMinutes(H.cellDuration)),H.Do(t,e)}},this.Us=function(e){if("Disabled"!==H.timeHeaderRightClickHandling){e.cancelBubble=!0,e.preventDefault();var t={};if(t.start=this.cell.start,t.level=this.cell.level,t.end=this.cell.end,t.end||(t.end=new DayPilot.Date(t.start).addMinutes(H.cellDuration)),H.Kb()){var n={};if(n.header=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onTimeHeaderRightClick&&(H.onTimeHeaderRightClick(n),n.preventDefault.value))return;"function"==typeof H.onTimeHeaderRightClicked&&H.onTimeHeaderRightClicked(n)}}},this.Vs=function(e){var t=H.rowlist[e];if(t.hidden)return 0;var n=t.height;return"number"==typeof t.forcedHeight&&(n=t.forcedHeight),n},this.Ws=function(e,t,n){function i(e){var n=H.Vs(e),i=t;"hide"===t?i=0:"show"===t&&(i=H.rowlist[e].height);var a=i-n;o.push({"i":e,"now":n,"dist":a})}function a(e){l||(l=e);var t=e-l,i=Math.min(1,t/r);0===i&&(i=.1),o.forEach(function(e){var t=e.now+e.dist*i;H.rowlist[e.i].forcedHeight=t}),H.Yl(),H.Xs({skipAutoFit:!0}),i<1?window.requestAnimationFrame(a):(s.style.overflowX=d,s.style.overflowY=c,"function"==typeof n&&n())}var r=200,o=[];if("number"==typeof e)i(e);else{if(!_(e))throw new DayPilot.Exception("Unexpected param (must be number/array).");e.forEach(function(e){i(e)})}var l=0,s=H.nav.scroll,d=s.style.overflowX,c=s.style.overflowY;0===DayPilot.sw(s)&&(s.style.overflowY="hidden"),window.requestAnimationFrame(a)},this.vo=function(e){return new DayPilot.Row(e,H)},this.hn=function(e,t){t=t||"main";var n=H.wm[t],i=n.rowlist,a=i[e];if(a.events||a.Ys(),!a.data){if(a.data={},a.data.start=new DayPilot.Date(a.start),a.data.startTicks=a.data.start.getTime(),a.end)a.data.end=new DayPilot.Date(a.end);else{var r=this.je().getTime()-this.Ub().getTime();a.data.end=M.Zs()?a.data.start.addTime(r):a.data.start.addDays(1)}a.data.endTicks=a.data.end.getTime(),a.data.offset=a.start.getTime()-this.Ub().getTime(),a.data.i=e,a.data.grid=t}},this.Cp={},this.Xp=[],this.tb=function(e){if(e?this.events.list=e:this.events.list||(this.events.list=[]),null!=this.events.list&&!_(this.events.list))throw new DayPilot.Exception("DayPilot.Scheduler.events.list expects an array object");var t=H.qo();U.Ej(!0);var n,i=this.events.list,a="function"==typeof this.onBeforeEventRender,r="Resources"===H.viewType;H.Cp={};for(var o=0;o<i.length;o++){var l=i[o];if(l){if("object"!=typeof l)throw new DayPilot.Exception("Event data item must be an object");if(!l.start)throw new DayPilot.Exception("Event data item must specify 'start' property");if(l instanceof DayPilot.Event)throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");var s="string"==typeof l.id||"number"==typeof l.id,d="string"==typeof l.recurrentMasterId||"number"==typeof l.recurrentMasterId;if(!s&&!d)throw new DayPilot.Exception("All events must have an id property (string or number)");var c="_"+l.id;!s&&d&&(c="#"+l.recurrentMasterId+"#"+new DayPilot.Date(l.start));if(!H.temp.allowDuplicateEventIds&&H.Cp[c])throw new DayPilot.Exception("Duplicate event IDs are not allowed: "+c);H.Cp[c]={},"Milestone"===l.type&&(l.end=l.start),a&&this.Kg(o),"*"===l.resource?n=H.rowlist:r?n=H.ks(l.resource).concat(H.ks("*")):"Days"===H.viewType?n=H.rowlist:"Gantt"===H.viewType&&(n=H.ks(l.id));for(var u=H.Cp[c],h=0;n&&h<n.length;h++){var f=n[h],v=this.bq(l,f,o);v&&(u.Dp||(u.Dp=v),a&&(v.cache=this.va.events[o]),v.cq=o)}if(!u.Dp&&(null===n||void 0===n?void 0:n[0])&&r&&!t){var f=n[0],p=0;l.start>=f.data.end&&(p=H.Om()),u.Fp={part:{grid:f.data.grid,dayIndex:f.data.i,left:p,top:0,width:0,height:H.eventHeight}}}}}H.gn().forEach(function(e){H.hq(e)}),H.eq(),H.Fn()},this.$s=function(e,t){return e.start-t.start},this.eq=function(){H.Xp=[];for(var e in H.Cp){var t=H.Cp[e];if(t&&t.Dp){var n=t.Dp.part.start.getTime(),i=t.Dp.part.end.getTime(),a={"i":t.Dp.cq,"start":n,"end":i};H.Xp.push(a)}}H.Xp.sort(H.$s)},U._s={},U.Ej=function(e){U._s={},U.at={},U.bt=[];for(var t=H.gn({"includeSplitParents":!0}),n=0;n<t.length;n++){var i=t[n];if(e&&i.Ys(),H.hn(i.index,i.grid),f(i.id))U.bt.push(i);else if(!i.isNewRow){var a=i.split.list&&i.split.list.length>0,r=typeof i.id+"_"+i.id;a?(U.at[r]||(U.at[r]=[]),U.at[r].push(i)):(U._s[r]||(U._s[r]=[]),U._s[r].push(i))}}},this.ks=function(e,t){if(f(e))return U.bt;t=t||{};var n=t.includeSplitParents,i=typeof e+"_"+e,a=U._s[i]||[];return n&&(a=a.concat(U.at[i])),a},this.aq=function(){var e={};if("Resources"!==H.viewType)return!1;for(var t=0;t<H.rowlist.length;t++){var n=H.rowlist[t],i=n.id;if(e[i])return!0;e[i]=!0}return!1},this.Kg=function(e){var t=this.va.events,n=this.events.list[e],i={};n instanceof DayPilot.Event&&(n=n.data);for(var a in n)i[a]=n[a];if("string"==typeof i.start&&(i.start=new DayPilot.Date(i.start)),"string"==typeof i.end&&(i.end=new DayPilot.Date(i.end)),"function"==typeof this.onBeforeEventRender){var r={};r.e=i,r.data=i,r.control=H,this.onBeforeEventRender(r)}t[e]=i},this.ct=function(e){var t=e.data.container,n=typeof t;return"string"!==n&&"number"!==n?null:typeof t+"_"+t},this.hq=function(e){if(e.lines=[],e.sections=null,!e.isNewRow){var t=H.groupConcurrentEvents;this.sortDirections&&!t?e.events.sort(this.ih):H.yl||e.events.sort(this.hh),e.containerCache={},e.containers=[],e.events.forEach(function(t){var n=H.ct(t);if(n){var i=e.containerCache[n];i||(i={"events":[],"line":null,"start":null,"end":null,"left":null,"width":null},e.containerCache[n]=i,e.containers.push(i)),t.part.container=i,i.events.push(t)}}),e.containers.forEach(function(e){var t=e.events[0],n=e.events[e.events.length-1];e.start=t.part.start,e.end=n.part.end,e.left=t.part.left,e.width=n.part.right-t.part.left,e.right=n.part.right});if(H.yl)return void z.hq(e);if(t)for(var n=0;n<e.blocks.length;n++)e.blocks[n].clear();w(e.events).forEach(function(t){if(!t.part.height)return e.eventHeight?void(t.part.height=e.eventHeight):void(t.part.height=M.fp())});var i=function(e){return"number"==typeof e.data.line};if(e.events.filter(i).forEach(function(t){e.ge(t)}),t){for(var a=0;a<e.events.length;a++){var r=e.events[a];t&&e.ee(r)}this.sortDirections&&e.events.sort(this.ih)}for(var a=0;a<e.events.length;a++){var r=e.events[a];e.ge(r)}for(var o=0,n=0;n<e.lines.length;n++){var l=e.lines[n];l.top=o,o+=(l.height||e.eventHeight)*e.eventStackingLineHeight/100}if(t)for(var a=0;a<e.blocks.length;a++){var s=e.blocks[a];s.lines=[],s.events.sort(this.ih);for(var d=0;d<s.events.length;d++){var r=s.events[d];s.ge(r)}s.lines.length<=H.groupConcurrentEventsLimit&&(s.expanded=!0);var c=w(s.events).map(function(e){return e.id()}).some(function(e){return x(H.dt,e)});c&&(s.expanded=!0);for(var u=0,n=0;n<s.lines.length;n++){var l=s.lines[n];l.top=u,u+=(l.height||e.eventHeight)*e.eventStackingLineHeight/100}}H.rowReverseLines&&e.lines.reverse()}},this.En=function(e){e=DayPilot.ua(e),e=H.eo(e),e.forEach(function(e){H.hq(e)}),H.yl?z.et():e.forEach(function(e){H.Hr(e)})},this.qo=function(){var e="Manual"===H.scale?H.itline[0].start:H.startDate;return w(H.rowlist).some(function(t){return!!t.start&&t.start.getTime()!==new DayPilot.Date(e).getTime()})},this.bq=function(e,t,n){if(!t.hideEvents){var i=new DayPilot.Date(e.start),a=new DayPilot.Date(e.end);a=H.Jj(a);var r=i.ticks,o=a.ticks;if(o<r)return null;"number"!=typeof n&&(n=C(H.events.list,e));var l=null;if("function"==typeof H.onBeforeEventRender&&(l=H.va.events[n]),l){if(l.hidden)return null}else if(e.hidden)return null;var s=!1;switch(this.viewType){case"Days":s=(!(o<=t.data.startTicks||r>=t.data.endTicks)||r===o&&r===t.data.startTicks)&&!0;break;case"Resources":s=(t.id===e.resource||"*"===t.id||"*"===e.resource)&&(!(o<=t.data.startTicks||r>=t.data.endTicks)||r===o&&r===t.data.startTicks);break;case"Gantt":s=t.id===e.id&&!(o<=t.data.startTicks||r>=t.data.endTicks)}if(!s)return null;var d=new DayPilot.Event(e,H);d.part.dayIndex=t.data.i,d.part.grid=t.data.grid,d.part.start=t.data.startTicks<r?i:t.data.start,d.part.end=t.data.endTicks>o?a:t.data.end;var c=this.getPixels(d.part.start.addTime(-t.data.offset)),h=this.getPixels(d.part.end.addTime(-t.data.offset));d.part.start===d.part.end&&(h=this.getPixels(d.part.end.addTime(-t.data.offset).addMilliseconds(1))),l&&l.height?d.part.height=l.height:e.height&&(d.part.height=e.height),d.part.ft=function(){var e=this.height;if(H.eventVersionsEnabled&&!w(d.versions).isEmpty()){var t=d.versions.length;e+=t*H.eventVersionHeight,e+=t*H.eventVersionMargin}return e+H.eventMarginBottom};var f=c.left,v=h.left;if(d.part.startPixels=c,d.part.endPixels=h,f===v){if(c.cut||h.cut)return null;var p=(d.part.start.addTime(-t.data.offset).getTime()+d.part.end.addTime(-t.data.offset).getTime())/2;if(H.getPixels(new DayPilot.Date(Math.floor(p))).cut)return null}d.part.box=M.gh(o-r);var m=H.eventHeight;if("Milestone"===e.type){var g=e.width||m;d.part.end=d.part.start,d.part.left=f-g/2,d.part.width=g,d.part.barLeft=0,
d.part.barWidth=g}else if(d.part.box){var b=c.boxLeft,y=h.boxRight;d.part.left=b,d.part.width=y-b,d.part.barLeft=u(f-d.part.left,0),d.part.barWidth=u(v-f,1)}else d.part.left=f,d.part.width=u(v-f,1),d.part.barLeft=0,d.part.barWidth=u(v-f-1,1);var x=H.eventMinWidth;if(d.part.width=Math.max(d.part.width,x),d.part.right=d.part.left+d.part.width,d.cache=l,d.cq=n,H.eventVersionsEnabled&&H.gt(d,t),"function"==typeof H.onEventFilter&&H.events.fh){var k={};if(k.filter=H.events.fh,k.filterParam=H.events.fh,k.visible=!0,k.e=d,H.onEventFilter(k),!k.visible)return null}return t.events.push(d),d}},this.gt=function(e,t){e.versions=[];var n=e.cache||e.data,i=w(n.versions);if(!i.isEmpty()){var a=e.part.left,r=e.part.left+e.part.width;i.forEach(function(n){var i=new DayPilot.Date(n.start),o=new DayPilot.Date(n.end),l=H.getPixels(i.addTime(-t.data.offset)),s=H.getPixels(o.addTime(-t.data.offset));i.ticks===o.ticks&&(s=H.getPixels(o.addTime(-t.data.offset).addTime(1)));var d=l.left,c=s.left;if(d===c&&(l.cut||s.cut))return null;var u={};u.left=d,u.continueLeft=i<t.data.start,u.right=c,u.continueRight=o>t.data.end,u.width=c-d,e.versions.push(u),u.left<a&&(a=u.left),u.right>r&&(r=u.right)});H.eventVersionsReserveSpace&&!n.versionsReserveSpaceDisabled?(e.part.versionsLeft=a,e.part.versionsRight=r,e.part.versionsWidth=r-a):(e.part.versionsLeft=e.part.left,e.part.versionsRight=e.part.left+e.part.width,e.part.versionsWidth=e.part.width)}},this.hh=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var n=e.start().ticks,i=t.start().ticks,a=e.end().ticks,r=t.end().ticks;"Milestone"===e.data.type&&(n-=1,a+=1),"Milestone"===t.data.type&&(i-=1,r+=1);var o=n-i;return 0!==o?o:r-a},this.ih=function(e,t){if(!e||!t)return 0;var n=e.cache||e.data,i=t.cache||t.data;if(!(n.sort&&n.sort.length>0&&i.sort&&i.sort.length>0))return H.hh(e,t);for(var a=0,r=0;0===a&&"undefined"!=typeof n.sort[r]&&"undefined"!=typeof i.sort[r];)a=n.sort[r]===i.sort[r]?0:"number"==typeof n.sort[r]&&"number"==typeof i.sort[r]?n.sort[r]-i.sort[r]:H.jh(n.sort[r],i.sort[r],H.sortDirections[r]),r++;return a},this.jh=function(e,t,n){var i="desc"!==n,a=i?-1:1,r=-a;if(null===e&&null===t)return 0;if(null===t)return r;if(null===e)return a;var o=[];return o[0]=e,o[1]=t,o.sort(),e===o[0]?a:r},this.Ga="javasc",this.Bo=function(e,t,n,i){if(H.Kb()){var a=C(H.rowlist,e),r=H.vo(e,a),o=C(A.kj,e)!==-1,l=o?"deselected":"selected",s={};if(s.row=r,s.selected=o,s.ctrl=t,s.shift=n,s.meta=i,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onRowSelect&&(H.onRowSelect(s),s.preventDefault.value))return;var d=n&&!t&&!i;if(n||(A.ht={"row":e,"index":a}),d){A.it();var c=A.ht.index,u=a;A.jt(c,u)}switch(H.rowSelectHandling){case"PostBack":H.rowSelectPostBack(r,l);break;case"CallBack":H.rowSelectCallBack(r,l);break;case"Notify":d||A.L(e,t,n,i),H.rowSelectNotify(r,l);break;case"Update":d||A.L(e,t,n,i)}"function"==typeof H.onRowSelected&&(s.selected=C(A.kj,e)!==-1,H.onRowSelected(s))}else{A.L(e,t,n);var a=C(H.rowlist,e),r=H.vo(e,a),o=C(A.kj,e)!==-1,l=o?"deselected":"selected";switch(H.rowSelectHandling){case"PostBack":H.rowSelectPostBack(r,l);break;case"CallBack":H.rowSelectCallBack(r,l);break;case"Notify":H.rowSelectNotify(r,l);break;case"JavaScript":H.onRowSelect(r,l)}}},this.rowSelectPostBack=function(e,t,n){var i={};i.resource=e,i.change=t,this.Na("RowSelect",i,n)},this.rowSelectCallBack=function(e,t,n){var i={};i.resource=e,i.change=t,this.Pa("RowSelect",i,n)},this.rowSelectNotify=function(e,t,n){var i={};i.resource=e,i.change=t,this.Pa("RowSelect",i,n,"Notify")},I.va=[],I.get=function(){var e=[];return w(A.kj).forEach(function(t){e.push(H.vo(t))}),e},I.clear=function(){A.kt()},I.add=function(e){if(!e||!e.isRow)throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected");w(A.kj).some(function(t){return t===e.$.row})||(A.kj.push(e.$.row),I.lt(),A.al(e.$.row))},I.remove=function(e){if(!e||!e.isRow)throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected");I.isSelected(e)&&(DayPilot.rfa(A.kj,e.$.row),I.lt(),A.al(e.$.row))},I.isSelected=function(e){if(!e||!e.isRow)throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected");return C(A.kj,e.$.row)!==-1},I.lt=function(){H.selectedRows=w(A.kj).map(function(e){return e.id}),I.va=[],A.kj.forEach(function(e){I.va[e.grid+"_"+e.index]=!0})},this.rows.all=function(){for(var e=w(),t=H.gn({"includeSplitParents":!0}),n=0;n<t.length;n++){var i=H.vo(t[n]);e.push(i)}return e},this.rows.visible=function(){for(var e=w(),t=0;t<H.rowlist.length;t++){var n=H.rowlist[t];if(!n.hidden){var i=H.vo(n);e.push(i)}}return e},this.rows.each=function(e){H.rows.all().forEach(e)},this.rows.forEach=function(e){H.rows.all().forEach(e)},this.rows.filter=function(e,t){H.rows.fh=e,t||H.za&&H.Od({"immediateEvents":!0})},Object.defineProperty(H.rows,"filterParam",{get:function(){return H.rows.fh}}),this.rows.sort=function(e){var t=H.rows.sortParam;if("string"==typeof e)H.rows.mt={"field":e,"order":"asc"};else if("object"==typeof e){var n=v(e);n.order||(n.order="asc"),H.rows.mt=n}else H.rows.mt=null;if(H.za&&H.Od({"immediateEvents":!0}),"function"==typeof H.onRowSorted){var i={};i.oldSortParam=t,H.onRowSorted(i)}},Object.defineProperty(H.rows,"sortParam",{get:function(){return{"order":H.rows.nt(),"field":H.rows.ot()}}}),this.rows.ot=function(){var e=H.rows.mt;return e?e.field:null},this.rows.nt=function(){var e=H.rows.mt;return e?e.order:"asc"},this.rows.find=function(e,t){if("string"==typeof e||"number"==typeof e||!e&&t){var n=H.ks(e,{"includeSplitParents":!0});e||(n=H.rowlist);var i=null;return"string"==typeof t||t instanceof DayPilot.Date?(t=new DayPilot.Date(t),i=n.find(function(e){return t===e.start})):i=n[0],i?new DayPilot.Row(i,H):null}if("function"!=typeof e)throw new DayPilot.Exception("Invalid rows.find() argument: id or function expected");var a=t||0,r=H.rowlist.find(function(t,n){return!(n<a)&&e(H.vo(t))});if(r)return H.vo(r)},this.rows.load=function(e,t,n){if(!e)throw new DayPilot.Exception("rows.load(): 'url' parameter required");var i=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},a=function(e){var n,a=e.request;try{n=JSON.parse(a.responseText)}catch(e){var r={};return r.exception=e,void i(r)}if(_(n)){var o={};if(o.preventDefault=function(){this.preventDefault.value=!0},o.data=n,"function"==typeof t&&t(o),o.preventDefault.value)return;H.resources=o.data,H.za&&H.update()}};H.rowsLoadMethod&&"POST"===H.rowsLoadMethod.toUpperCase()?DayPilot.ajax({"method":"POST","url":e,"success":a,"error":i}):DayPilot.ajax({"method":"GET","url":e,"success":a,"error":i})},this.rows.expand=function(e){for(var t=[],n=e||1,i=0;i<H.rowlist.length;i++){var a=H.rowlist[i],r=n===-1;a.level<n&&(r=!0),r&&!a.expanded&&a.children&&a.children.length>0&&t.push(a.index)}if(0!==t.length)if(1===t.length)H.Kq(t[0]);else{for(var i=0;i<t.length;i++){var o=t[i],l=H.rowlist[o].resource;l.expanded=!0}H.Od()}},this.rows.collapse=function(e){H.rowlist.forEach(function(t){e(H.vo(t))&&(t.resource.expanded=!1)}),H.Od()},this.rows.expandAll=function(){H.rows.expand(-1)},this.rows.collapseAll=function(){H.rowlist.forEach(function(e){e.resource.expanded=!1}),H.Od()},this.rows.headerHide=function(){H.pt=!0,H.qt(),H.ts(),H.Zm()},this.rows.headerShow=function(){H.pt=!1,H.qt(),H.ts(),H.Zm()},this.rows.headerToggle=function(){H.pt?H.rows.headerShow():H.rows.headerHide()},this.rows.edit=function(e,t){var n=H.rowHeaderColumns,i=n&&n.length-1;if("undefined"!=typeof t&&(t<0||t>i))throw new DayPilot.Exception("Invalid column index: "+t);A.Co(e.$.row,t)},this.rows.remove=function(e){if("number"==typeof e||"string"==typeof e){var t=H.rows.find(e);if(!t)throw new DayPilot.Exception("The row to be removed was not found");return void H.rows.remove(t)}var n=e.$.row.resource,i=j.rt(n);if(!i)throw new DayPilot.Exception("Cannot find source node parent");var a=j.Gd(i,n);i.splice(a,1),H.update()},this.rows.add=function(e){H.resources.push(e),H.Od()},this.rows.addChild=function(e,t){"number"!=typeof e&&"string"!=typeof e||(e=H.rows.find(e)),e&&(e instanceof DayPilot.Row||(t=e,e=H.rows.find(t.id)))&&(e.data.children||(e.data.children=[]),e.data.children.push(t),H.Od())},this.rows.update=function(e){if(!(e instanceof DayPilot.Row||"object"==typeof e))throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object.");if(!(e instanceof DayPilot.Row)){var t=e;if(e=H.rows.find(t.id),!e)return;e.st(t)}!w(H.events._p.rows).isEmpty()&&(N.$p=!0,H.events.ko({"dontResetFocus":!0})),N.$p=!1;var n=H.rows.selection.isSelected(e),i=e,a=i.splitChildren(),r=a.length>0,o=i.$.row.split.parent,l=e.index,s=H.bp(e.grid).rowlist;r&&(s=H.bp(e.grid).rowlistparents,l=s.indexOf(e.$.row));var d=s[l],c=e.data,u=e.parent()?e.parent().$.row:null,h=H.tt(c),f=H.ut(h,u);if(f.vt=(new Date).getTime(),f.hidden=d.hidden,f.level=d.level,f.children=d.children,f.index=l,f.top=d.top,f.height=d.height,f.grid=d.grid,f.split=d.split,s[l]=f,r){a.forEach(function(e){e.$.row.split.parent=f,H.rows.update(e)});var v=typeof f.id+"_"+f.id,p=U.at[v];return void(p[p.indexOf(d)]=f)}if(o){var m=o.split.list,g=m.indexOf(d);g>-1&&m.splice(g,1,f)}n&&(DayPilot.rfa(A.kj,i.$.row),A.kj.push(f)),f.Ys(),H.hn(f.index,f.grid),H.Yl(),H.wt(f),H.hq(f),H.Fn(),H.xt(),H.Gn([f]),H.Bb(),N.ao(),H.yt=!0,H.zt=setTimeout(function(){H.yt=!1},500)},this.wt=function(e){for(var t=H.events.list,n=t.length,i="function"==typeof H.onBeforeEventRender,a=0;a<n;a++){var r=t[a];if(r){if(r instanceof DayPilot.Event)throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if("Days"===H.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");if("Gantt"===H.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");if("*"===r.resource||"*"===e.id||r.resource===e.id){i&&this.Kg(a);var o=this.bq(r,e,a);o&&(i&&(o.cache=this.va.events[a]),o.cq=a)}}}},this.At=function(){var e=T.position,t=T.source,i=T.target,a=T.sourceCalendar;if(A.Bt(),"forbidden"!==e||H.rowMoveFireOnForbiddenTarget&&H.Kb()){var r=n.Ct.element;if(r&&r.remove(),H.Kb()){var o={},l=H.vo(t);if(l.calendar=a,o.source=l,o.target=H.vo(i),o.position=e,o.external=!!n.Ct,o.keepSource=function(){this.keepSource.value=!0},o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onRowMove&&(H.onRowMove(o),o.preventDefault.value))return;if("forbidden"!==e){switch(H.rowMoveHandling){case"Update":A.Dt(o);break;case"CallBack":H.rowMoveCallBack(o.source,o.target,o.position);break;case"PostBack":H.rowMovePostBack(o.source,o.target,o.position);break;case"Notify":A.Dt(o),H.rowMoveNotify(o.source,o.target,o.position)}o.keepSource.value||a&&H!==a&&a.rows.remove(l)}"function"==typeof H.onRowMoved&&H.onRowMoved(o)}else{var l=H.vo(t),s=H.vo(i);switch(H.rowMoveHandling){case"CallBack":H.rowMoveCallBack(l,s,e);break;case"PostBack":H.rowMovePostBack(l,s,e);break;case"JavaScript":H.onRowMove(l,s,e)}}}},this.nm=function(e){var t=w(e);A.kj=[],t.isEmpty()||(H.wl=!1,H.sb()),t.forEach(function(e){H.ks(e).forEach(function(e){A.kj.push(e)})}),I.va=[],A.kj.forEach(function(e){I.va[e.grid+"_"+e.index]=!0}),A.Et()},A.Co=function(e,t){A.Ft(e,t)},A.Gt=function(){A.ht={"row":H.rowlist[0],"index":0}},A.Ht=function(e){var t=C(H.rowlist,e);if(t===-1)throw new DayPilot.Exception("DayPilot.Scheduler: Row not found when selecting a range");A.ht={"row":e,"index":t}},A.it=function(){A.ht||A.Gt();var e=C(H.rowlist,A.ht.row);if(!(e>-1)){var t=H.zm(A.ht.row.id);t?(e=C(H.rowlist,t),A.ht={"row":t,"index":e}):A.Gt()}},A.It=function(e){var t=H.os(),n=H.ca("_rowmove_source"),i=e.top,a=e.height;e.split.list.length>0&&(i=e.split.list[0].top,a=e.split.totalHeight());var r=c(H.divHeader,0,i,t,a);r.className=n,e.moveOverlay=r},A.Jt=function(e){e&&(k(e.moveOverlay),e.moveOverlay=null)},A.Kt=function(){var e=A.Lt;if(e){A.Lt=null;try{e.input.parentNode.removeChild(e.input)}catch(e){i()}e.input=null}},A.Ft=function(e,t){t=t||0,e.isNewRow&&(t=0);var n=A.Mt(e),i=n.cells[t];if(i.input)return i.input;A.Kt(),DayPilot.Areas.disable(i.firstChild);var a=i.clientWidth;e.isNewRow&&(a=H.Rm());var r=0;0===t&&(r=e.level*H.treeIndent);var o=document.createElement("input");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width=a+"px",o.style.height=e.height-1+"px",o.style.border="0px none",o.style.overflow="hidden",o.style.boxSizing="border-box",o.style.resize="none",o.style.paddingLeft=r+"px",o.style.outline="none";var l=i.textDiv;o.style.fontFamily=DayPilot.gs(l,"fontFamily")||DayPilot.gs(l,"font-family"),o.style.fontSize=DayPilot.gs(l,"fontSize")||DayPilot.gs(l,"font-size");var s=e.name;if(!e.isNewRow&&H.rowHeaderColumns){var d=e.resource,c=H.rowHeaderColumns[t]||{},u=c.display;s=H.Ds(d,u),0!==t||u||(s=e.name)}o.value=s||"",i.firstChild.appendChild(o),i.input=o;var h=A.Kt;return o.focus(),o.onblur=function(){o.onblur=null;var n=o.value;h(),DayPilot.Areas.enable(i.firstChild),H.yo(e,n,o.canceled,t)},o.onkeydown=function(e){var t=e.keyCode;return 27===t&&(o.canceled=!0,h()),13!==t||(o.onblur(),!1)},o.setSelectionRange?o.setSelectionRange(0,9999):o.select(),A.Lt=i,o},A.kj=[],A.L=function(e,t,n,i){var a=C(A.kj,e)!==-1;if(t||i){if(a)return DayPilot.rfa(A.kj,e),I.lt(),void A.al(e)}else a=!1,A.kt();a||A.kj.push(e),I.lt(),A.al(e)},A.jt=function(e,t){A.kt();for(var n=Math.min(e,t),i=Math.max(e,t),a=n;a<=i;a++){var r=H.rowlist[a];A.kj.push(r)}I.lt();for(var a=n;a<=i;a++){var r=H.rowlist[a];A.al(r)}},A.Et=function(){for(var e=0;e<A.kj.length;e++){var t=A.kj[e];A.al(t)}},A.al=function(e){var t=C(H.rowlist,e);if(t===-1){var n=H.zm(e.id);if(!n)return;t=n.index}H.jo(t,e.grid),H.im(),H.cp(t,e.grid),H.xs(t,e.grid)},A.Jo=function(){var e=[];if(!A.kj)return e;for(var t=0;t<A.kj.length;t++){var n=A.kj[t],i=C(H.rowlist,n),a=H.vo(n,i);e.push(a.toJSON())}return e},A.ht=null,A.kt=function(){var e=A.kj;if(A.kj=[],H.selectedRows=[],I.va=[],e.length<=5)e.forEach(function(e){A.al(e)});else{H.fm(),H.im();for(var t=0;t<H.rowlist.length;t++)H.divHeader.rows[t]&&H.do(t)}},A.Mt=function(e){for(var t=H.divHeader,n=0;n<t.rows.length;n++){var i=t.rows[n];if(i&&i.cells[0]&&i.cells[0].row&&i.cells[0].row.resource===e.resource)return i}return null},A.ne=function(e){var t=e.split.parent?e.split.parent:e;if(T.row=t,T.sourceCalendar=H,T.cursor=H.divResScroll.style.cursor,H.divResScroll.style.cursor="move",n.Ct||A.It(t),"function"==typeof H.onRowMoveStart){var i={row:H.vo(T.row)};H.onRowMoveStart(i)}},A.Bt=function(e){e=e||{};var t=e.keepOverlay;H.divResScroll.style.cursor=T.cursor,k(T.div),t||A.Jt(T.row),T={}},A.Nt=function(e){var t=DayPilot.mo3(H.divHeader,e),i=H.gi(t.y,"main",!0),a=H.rowlist[i.i];if(a&&!a.isNewRow){a.split.parent&&(a=a.split.parent);var r=H.rowMoveSameLevelOnly,l=t.y-i.top,s=i.bottom-i.top,d=s/3,c=2*d,u=s/2,h="before",f=a.children&&a.children.length>0,v=f&&a.expanded,p=function(){for(var e=i.i,t=a.level;e>=0;){var n=H.rowlist[e];if(e--,!(t<=n.level)){if(n===T.row)return!0;if(0===n.level)return!1;t=n.level}}return!1}(),m=a,g=H.treeEnabled,b=i.i===T.row.index&&T.sourceCalendar===H;if(p||b&&!r)h="forbidden";else if(g)if(r){var y=T.row.level,w=a.level;if(w===y-1)h="child";else if(y!==w)if(y===w-1){var x=a.Ot,C=x.children.length-1;a.index===x.children[C]?(m=x,h="after"):h="forbidden"}else h="forbidden";else h=l<u?"before":f&&v?"before":"after"}else h=f&&v?l<u?"before":"child":l<d?"before":l<c?"child":"after";else h=f?"before":l<u?"before":"after";T.row.moveDisabled&&(h="forbidden"),T.calendar=H,T.source=T.row,T.target=m,T.position=h;if(function(){return!T.last||(T.last.target!==T.target||T.last.position!==T.position)}()){if("function"==typeof H.onRowMoving){var _={};_.source=H.vo(T.source),_.target=H.vo(T.target),_.position=h,_.external=!!n.Ct,H.onRowMoving(_),T.position=_.position}}else T.last&&(T.position=T.last.position);T.last={},T.last.target=T.target,T.last.position=T.position,function(){T.div&&k(T.div);var e=i.top,t=T.position,n=H.rowlist[i.i],a=n.level,r=a*H.treeIndent;switch(t){case"before":e=i.top;break;case"child":e=i.top+u;break;case"after":e=i.bottom;break;case"forbidden":e=i.top+u}var l=H.os()-r,s=o();s.style.position="absolute",s.style.left=r+"px",s.style.width=l+"px",s.style.top=e+"px",s.className=H.ca("_rowmove_position_"+t),T.div=s,H.divResScroll.appendChild(s)}()}},A.Dt=function(e){var t=e.source.$.row.resource,n=e.target.$.row.resource,i=e.position;if(t!==n&&"forbidden"!==i){if(e.source.calendar===e.target.calendar){var a=e.source.calendar.Nl.rt(t);if(!a)throw new DayPilot.Exception("Cannot find source node parent");var r=j.Gd(a,t);a.splice(r,1)}var o=j.rt(n);if(!o)throw new DayPilot.Exception("Cannot find target node parent");var l=j.Gd(o,n);switch(i){case"before":o.splice(l,0,t);break;case"after":o.splice(l+1,0,t);break;case"child":n.children||(n.children=[],n.expanded=!0),n.children.push(t)}H.update()}},j.Pt=null,j.rt=function(e){return j.Qt(H.resources,e)},j.Gd=function(e,t){return j.Pt?e.indexOf(t):e.findIndex(function(e){return e.id===t.id})},j.Qt=function(e,t){if(!Array.isArray(e))return null;if(j.Pt){if(e.includes(t))return e}else if(e.some(function(e){return t.id===e.id}))return e;for(var n=0;n<e.length;n++){var i=e[n];if(i.children&&i.children.length>0){var a=j.Qt(i.children,t);if(a)return a}}return null},this.Xl=function(){var e=this.resources,t=this.ja();t||("Gantt"===this.viewType?e=this.Rt():"Days"===this.viewType&&(e=this.St())),!t||"Days"!==this.viewType||e&&0!==e.length||(e=this.St());var n={};if(n.i=0,null!=e&&!_(e))throw new DayPilot.Exception("DayPilot.Scheduler.resources expects an array object");e=e||[],H.Tt=!1;var i=e.filter(function(e){var t="string"==typeof e.frozen?e.frozen.toLowerCase():null;return"top"!==t&&"bottom"!==t});H.rowlist=w(),H.rowlistparents=w(),this.Ut(i,n,0,null,this.treeEnabled,!1,"main");var a=e.filter(function(e){return"string"==typeof e.frozen&&"top"===e.frozen.toLowerCase()});H.wm.top.rowlist=w(),H.wm.top.rowlistparents=w(),H.wm.top.height=0,this.Ut(a,{"i":0},0,null,!1,!1,"top");var r=e.filter(function(e){return"string"==typeof e.frozen&&"bottom"===e.frozen.toLowerCase()});H.wm.bottom.rowlist=w(),H.wm.bottom.rowlistparents=w(),H.wm.bottom.height=0,this.Ut(r,{"i":0},0,null,!1,!1,"bottom"),"Disabled"!==H.rowCreateHandling&&this.Vt(),j.Pt=H.aq()},this.Vt=function(){var e={};e.id="NEW",e.isNewRow=!0,e.html="",e.index=H.rowlist.length,e.loaded=!0,e.start=H.Ub(),e.children=[],e.height=H.eventHeight,e.marginBottom=0,e.marginTop=0,e.getHeight=function(){return H.rowCreateHeight?H.rowCreateHeight:H.eventHeight+H.rowMarginBottom+H.rowMarginTop},e.ge=function(){},e.Ys=function(){},e.events={forRange:function(){return[]}},this.rowlist.push(e)},this.Yl=function(e){function t(e,t){if(e.cells=[],!e.hidden||n){var i=e.split&&e.split.parent;(H.rowHeaderColumns||[{}]).forEach(function(n,a){var r={};r.row=n.split?e:i||e,r.y=t,r.x=a,r.rowspan=1;var o=!n.split&&i,l=i&&e.split.Es(),s=(n.split&&!i,i&&i.split.list.filter(function(e){return!e.hidden}).length),d=0;if(i){var c=i.split.list.find(function(e){return e.split.Es()}),u=i.split.list.indexOf(c);u>0&&(d=u)}o&&(r.Rs=!0,l?(r.rowspan=s,r.totalHeight=function(){return i.split.totalHeight()}):r.refCell=i.split.list[d].cells[a]),e.cells.push(r)})}}e=e||{};var n=e.includeHidden;H.rowlist.forEach(function(e,n){t(e,n)}),H.wm.top.rowlist.forEach(function(e,n){t(e,n)}),H.wm.bottom.rowlist.forEach(function(e,n){t(e,n)})},this.Rt=function(){var e=[];if(this.Dl&&this.resources)for(var t=0;t<this.resources.length;t++)e.push(this.resources[t]);if(this.events.list){for(var t=0;t<this.events.list.length;t++){var n=this.events.list[t],i={};i.id=n.id,i.name=n.text,i.columns=n.columns,e.push(i)}return e}},this.St=function(){var e=[],t=H.Ub(),n=this.Ba.Xc(),i=H.resources||[],a=i.filter(function(e){return"string"==typeof e.frozen&&"top"===e.frozen.toLowerCase()}),r=i.filter(function(e){return"string"==typeof e.frozen&&"bottom"===e.frozen.toLowerCase()});e=e.concat(a).concat(r);for(var o=0;o<this.days;o++){var l=t.addDays(o);if(H.showNonBusiness||H.businessWeekends||0!==l.dayOfWeek()&&6!==l.dayOfWeek()){var s={};s.name=l.toString(n.datePattern,n),s.start=l,e.push(s)}}return e},this.Ub=function(){return this.itline&&this.itline.length>0?this.itline[0].start:new DayPilot.Date(this.startDate)},this.je=function(){if(this.itline&&this.itline.length>0){var e=H.itline[this.itline.length-1].end;return"Days"!==H.viewType?e:e.addDays(H.days-1)}return new DayPilot.Date(H.startDate).addDays(H.days)},this.visibleStart=function(){return this.Ub()},this.visibleEnd=function(){return this.je()},this.ut=function(e,t){var n={};if(n.backColor=e.backColor,n.fontColor=e.fontColor,n.cssClass=e.cssClass,n.expanded=e.expanded,n.name=e.name,n.html=H.La(e.name,e.html),n.emptyHeight="undefined"!=typeof e.emptyHeight?e.emptyHeight:H.rowEmptyHeight,n.eventHeight="undefined"!=typeof e.eventHeight?e.eventHeight:H.Ba.fp(),n.minHeight="undefined"!=typeof e.minHeight?e.minHeight:H.rowMinHeight,n.marginBottom="undefined"!=typeof e.marginBottom?e.marginBottom:H.rowMarginBottom,n.marginTop="undefined"!=typeof e.marginTop?e.marginTop:H.rowMarginTop,n.eventStackingLineHeight="undefined"!=typeof e.eventStackingLineHeight?e.eventStackingLineHeight:H.eventStackingLineHeight,n.loaded=!e.dynamicChildren,n.id=e.id||e.value,n.id=f(e.id)?e.value:e.id||e.value,n.toolTip=e.toolTip,n.children=[],n.columns=[],n.start=e.start?new DayPilot.Date(e.start):this.Ub(),n.end=e.end,n.isParent=e.isParent,n.contextMenu=e.contextMenu?DayPilot.Util.evalVariable(e.contextMenu):this.contextMenuResource,n.areas=e.areas,n.moveDisabled=e.moveDisabled,n.bubbleHtml=e.bubbleHtml,n.cellsDisabled=e.cellsDisabled,n.tags=e.tags,n.task=e.task,n.swimlane=e.swimlane,n.hideEvents=e.hideEvents,n.height=n.eventHeight,n.level=0,n.resource=e.Wt,n.lines=[],n.blocks=[],n.containers=[],n.containerCache={},n.isRow=!0,n.split={},n.split.list=[],n.split.totalHeight=function(){var e=0;return this.list.forEach(function(t){t.hidden||(e+=t.height)}),e},n.getHeight=function(){var e=0,t=Math.max(0,n.resource&&n.resource.maxLines||1e5);if(H.groupConcurrentEvents)for(var i=0;i<this.blocks.length;i++){var a=this.blocks[i];e=Math.max(e,a.getHeight())}else if(this.lines.length>0){var r=Math.min(this.lines.length,t),o=r-1,l=this.lines[o],s=l.height||H.eventHeight,d=l.top||0;e=d+s}if(0===e){if("number"==typeof this.emptyHeight)return this.emptyHeight;e=this.eventHeight}return e>this.minHeight?e:this.minHeight},n.yq=function(){var e=n.start.getTime()-H.Ub().getTime();return H.itline[H.itline.length-1].end.addTime(e)},n.Ys=function(){var e=n;e.events=w(),e.events.forRange=function(t,n){t=new DayPilot.Date(t),n=n?new DayPilot.Date(n):e.yq();for(var i=w(),a=0;a<e.events.length;a++){var r=e.events[a],o=H.Jj(r.end());l(r.start(),o,t,n)&&i.push(r)}return i}},n.nq=function(){function e(){for(var e=[],t=0;t<i.events.length;t++){var n=i.events[t];x(e,n.start().toString())||e.push(n.start().toString()),x(e,n.rawend().toString())||e.push(n.rawend().toString())}return e.sort(),e}function t(){for(var t=e(),n=[],a={"start":i.data.start},r=0;r<t.length;r++)a.end=new DayPilot.Date(t[r]),n.push(a),a={"start":new DayPilot.Date(t[r])};return a.end=i.data.end,n.push(a),n.forRange=function(e,t){for(var n=w(),i=0;i<this.length;i++){var a=this[i];l(e,t,a.start,a.end)&&n.push(a)}return n.maxSum=function(e){for(var t=0,n=0;n<this.length;n++){var i=this[n],a=i.sum(e);a>t&&(t=a)}return t},n},n}for(var i=n,a=i.sections=t(),r=0;r<a.length;r++){var o=a[r];o.events=w();for(var s=0;s<i.events.length;s++){var d=i.events[s];l(o.start,o.end,d.start(),d.rawend())&&o.events.push(d)}o.sum=function(e){for(var t=0,n=0;n<this.events.length;n++){var i=this.events[n],a=0;"undefined"==typeof e?a=1:i.tag(e)?a=i.tag(e):i.data[e]&&(a=i.data[e]),"number"==typeof a&&(t+=a)}return t}}},n.Xt=function(){var e=[];return e.height=0,e.add=function(t){this.push(t);var n=t.part.ft();n>e.height&&(e.height=n)},e.ie=function(e,t,n){for(var i=e+t-1,a=this.length,r=0;r<a;r++){var o=this[r];if(!o.data.nonBlocking){if(!(i<o.part.left||e>o.part.left+o.part.width-1)){if(x(n,o.data))continue;return!1}if(o.part.container&&!(i<o.part.container.left||e>o.part.container.left+o.part.container.width-1))return!1;var l=o.cache||o.data;if(H.eventVersionsReserveSpace&&!l.versionsReserveSpaceDisabled&&!(i<o.part.versionsLeft||e>o.part.versionsRight-1))return!1}}return!0},e},n.Yt=function(e,t,i,a){if("number"==typeof i||"number"==typeof a)for(var r="number"==typeof i?i:a,o=0;o<=r;o++)this.lines[o]||(this.lines[o]=n.Xt());if("number"==typeof i)return i;if("dedicated"===i){var l=n.Xt();return l.ie=function(){return!1},this.lines.push(l),this.lines.length-1}var s=0;"number"==typeof a&&(s=a);for(var o=s;o<this.lines.length;o++){if(this.lines[o].ie(e,t))return o}var d=n.Xt();return this.lines.push(d),this.lines.length-1},n.ge=function(e){var t=e.data,i=e.part,a=e.part.container,r=-1;if(a){if(null===a.line&&("number"==typeof t.line||"dedicated"===t.line))return r=n.Yt(a.left,a.width,t.line),i.line=r,this.lines[r].add(e),a.line=r,r}else if("number"==typeof t.line||"dedicated"===t.line)return r=n.Yt(i.left,i.width,t.line),i.line=r,this.lines[r].add(e),r;var o=e.cache||e.data,l=H.eventVersionsReserveSpace&&!o.versionsReserveSpaceDisabled;if(a){if(null!==a.line)return this.lines[a.line].add(e),a.line;r=n.Yt(a.left,a.width,null,t.minLine),a.line=r}else r=l?n.Yt(i.versionsLeft,i.versionsWidth,null,t.minLine):n.Yt(i.left,i.width,null,t.minLine);return i.line=r,this.lines[r].add(e),r},n.ee=function(e){for(var t=e.cache||e.data,n=H.eventVersionsReserveSpace&&!t.versionsReserveSpaceDisabled,i=0;i<this.blocks.length;i++){var a=this.blocks[i];if(C(a.events,e)!==-1)return;var r=n?e.part.versionsLeft:e.part.left,o=n?e.part.versionsWidth:e.part.width;if(a.fe(r,o))return a.events.push(e),e.part.block=a,a.min=Math.min(a.min,r),a.max=Math.max(a.max,r+o),i}var l={};l.rp=!0,l.expanded=!1,l.row=this,l.events=w(),l.lines=w(),l.ge=function(e){for(var t=0;t<this.lines.length;t++){var i=this.lines[t],a=n?e.part.versionsLeft:e.part.left,r=n?e.part.versionsWidth:e.part.width;if(i.ie(a,r))return i.add(e),t}var o=[];o.height=0,o.add=function(e){this.push(e),e.part.height>o.height&&(o.height=e.part.height),e.data.versions&&(o.height=e.part.height+e.data.versions.length*(H.eventVersionHeight+H.eventVersionMargin))},o.ie=function(e,t){for(var i=e+t-1,a=this.length,r=0;r<a;r++){var o=this[r],l=n?o.part.versionsLeft:o.part.left,s=n?o.part.versionsWidth:o.part.width;if(!(i<l||e>l+s-1))return!1}return!0},o.add(e),this.lines.push(o)},l.fe=function(e,t){return!(e+t-1<this.min||e>this.max-1)},l.getHeight=function(){if(!this.expanded)return H.eventHeight;if(this.lines.length>0){var e=this.lines.length-1,t=this.lines[e],n=t.height||H.eventHeight;return(t.top||0)+n}return H.eventHeight},l.clear=function(){l.events=w(),l.min=null,l.max=null},l.events.push(e),e.part.block=l,l.min=n?e.part.versionsLeft:e.part.left,l.max=l.min+(n?e.part.versionsWidth:e.part.width),this.blocks.push(l)},n.Zt=!1,n.Ot=t,n._d=function(){this.hidden=!this.$t(),this.Zt=!1,this.Ot&&this.Ot._d()},n.$t=function(){return!this.Ot||this.Ot.$t()&&this.Ot.expanded},e.columns)for(var i=0;i<e.columns.length;i++)n.columns.push(e.columns[i]);return n},this.Vn=function(){H.gn().forEach(function(e){if(!e.isNewRow&&"function"==typeof H.onRowFilter&&H.rows.fh){var t=e.Ot,n={};n.visible=!0,n.row=H.vo(e),n.filter=H.rows.fh,n.filterParam=H.rows.fh,n.control=H,H.onRowFilter(n),e.Zt=!n.visible,n.visible?H.rowFilterParentsAlwaysVisible&&t&&t._d():e.hidden=!0}})},this._t=function(e){return!e.some(function(e){return e.children&&e.children.length})},this.au=function(e){return!e.some(function(e){return!e.children||0===e.children.length})},this.bp=function(e){return e=e||"main",H.wm[e]},this.Ut=function(e,t,n,i,a,r,o){function l(e,a,l){for(var s=function(s){!function(){var d=e.split[s],c=H.tt(d,l),u=H.ut(c,i);u.level=n,u.index=t.i,u.grid=o||"main",r&&(u.hidden=!0),u.split={},u.split.parent=a,u.split.y=s,u.split.Es=function(){var e=u.split.parent.split.list.find(function(e){return!e.hidden});return!!e&&u.split===e.split},u.Ot=a,a.split.list.push(u),null!==i&&i.children.push(t.i),h.push(u),t.i++,H.Tt=!0}()},d=0;d<e.split.length;d++)s(d)}if(e){var s=!1;if(H.rows.mt)switch(H.rowSortingMode){case"LeavesOnly":s=H._t(e);break;case"ParentsOnly":s=H.au(e);break;case"All":s=!0}if(s){var d=H.rows.ot(),c="desc"===H.rows.nt(),u=w(e,!0);u.sort(function(e,t){var n=H.Ds(e,d),i=H.Ds(t,d),a=0;return a=n===i?0:"number"==typeof n&&"number"==typeof i?n-i:H.jh(n,i,"asc"),c?-a:a}),e=u}for(var h=H.bp(o).rowlist,f=0;f<e.length;f++)if(e[f]){var v={};if(v.level=n,v.hidden=r,v.index=t.i,!e[f].hidden){var p=this.tt(e[f],v),m=H.ut(p,i);r&&(m.hidden=!0),m.level=n,m.index=t.i,m.grid=o||"main";var g=!p.children||0===p.children.length,b=g&&p.split;if(b?(l(p,m,v),H.bp(o).rowlistparents.push(m)):(null!==i&&i.children.push(t.i),h.push(m),t.i++),a&&p.children&&p.children.length){var y=r||!m.expanded;this.Ut(p.children,t,n+1,m,!0,y,o)}}}}},this.Qs=["text","html","backColor","cssClass","areas","horizontalAlignment","hidden"],this.Gr=function(e){if(e.isNewRow)return{"row":{"cssClass":H.ca("_row_new"),"moveDisabled":!0,"html":H.La(H.rowCreateText,H.rowCreateHtml)}};var t={};t.row=this.vo(e),v(e,t.row,["html","backColor","fontColor","cssClass","toolTip","contextMenu","moveDisabled"]),t.row.areas=DayPilot.Util.createArrayCopy(e.areas),t.row.columns=DayPilot.Util.createArrayCopy(e.columns,H.Qs),e.split&&_(H.rowHeaderColumns)&&H.rowHeaderColumns.forEach(function(n,i){!e.split.parent&&0===e.split.list.length&&n.split?t.row.columns[i].text="":!e.split.parent&&n.split?t.row.columns[i]=null:e.split.parent&&!n.split&&(t.row.columns[i]=null)});var n=H.rowHeaderColumns;if("undefined"==typeof t.row.columns&&n.length>0){t.row.columns=[];for(var i=0;i<n.length;i++)t.row.columns.push({})}return t.row.children().length>0&&H.rowHeaderColumnsMergeParents&&H.rowHeaderColumns&&H.rowHeaderColumns.forEach(function(e,n){n>0&&delete t.row.columns[n]}),"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(t),t},this.tt=function(e,t){var n=this.bu(e,t);if("function"==typeof this.onBeforeResHeaderRender){var i={};i.resource=n,this.onBeforeResHeaderRender(i)}return n},this.bu=function(e,t){var n={get $data(){return this.Wt}};for(var i in t)n[i]=t[i];for(var a in e)n[a]=e[a];if(n.html=H.La(e.name,e.html),H.rowHeaderColumns&&H.rowHeaderColumns.length>0&&"undefined"==typeof n.columns){n.columns=[];var r=H.rowHeaderColumns;if(H.bo()){for(var o=0;o<r.length;o++){var l=r[o],s=H.Ds(e,l.display);n.columns.push({"text":s})}n.columns[0]&&r[0]&&!r[0].display&&(n.columns[0].text=n.name)}else for(var o=0;o<r.length;o++)n.columns.push({})}return n.Wt=e,n},this.Rn=function(){this.nav.top.dp=this,this.nav.top.innerHTML="",d(this.nav.top,this.ca("_main")),this.nav.top.setAttribute("role","region"),this.nav.top.setAttribute("aria-label","scheduler"),this.nav.top.style.userSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.Nk,this.nav.top.onmouseleave=function(){if(H.Mq(),n.Ct){var e={"keepOverlay":!!n.Ct.cu};A.Bt(e)}},DayPilot.reNonPassive(this.nav.top,"touchstart",B.mf),DayPilot.reNonPassive(this.nav.top,"touchmove",B.nf),DayPilot.reNonPassive(this.nav.top,"touchend",B.of),this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var e=this.Rm(),t="Top"===H.timeHeaderPosition;if(H.Qn=H.timeHeaderPosition,"DivBased"===this.Ba.du()){var i=o();i.style.position="absolute",i.style.left="0px",i.style.width=e+"px";
var a=o();a.style.height="0px",a.style.boxSizing="content-box",a.style.borderTop="1px solid transparent",a.className=this.ca("_divider_horizontal"),this.nav.dh1=a,this.nav.left=i,"Top"===H.timeHeaderPosition?(i.appendChild(this.Gf()),i.appendChild(a),i.appendChild(this.eu()),i.appendChild(this.fu()),i.appendChild(this.gu())):"Bottom"===H.timeHeaderPosition?(i.appendChild(this.eu()),i.appendChild(a),i.appendChild(this.Gf())):i.appendChild(this.eu());var r=o();r.style.position="absolute",r.style.left=e+"px",r.style.width=M.Sm()+"px",r.style.height=this.Tm()+this.df()+"px",r.className=this.ca("_divider")+" "+this.ca("_splitter"),this.nav.divider=r,this.rowHeaderScrolling&&this.hu();var l=o();l.style.marginLeft=e+M.Sm()+"px",l.style.position="relative",this.nav.right=l;var s=o();t&&(s.style.position="absolute",s.style.top=this.Tm()+"px"),s.style.width="100%",s.style.height="1px",s.style.boxSizing="border-box",s.style.borderBottom="1px solid transparent",s.setAttribute("data-dh2","true"),s.className=this.ca("_divider_horizontal"),this.nav.dh2=s,"Top"===H.timeHeaderPosition?(l.appendChild(H.iu()),l.appendChild(H.ju()),l.appendChild(s),l.appendChild(H.ku()),l.appendChild(H.lu())):"Bottom"===H.timeHeaderPosition?(l.appendChild(H.ju()),l.appendChild(s),l.appendChild(H.iu())):l.appendChild(H.ju());var c=o();c.style.clear="left";var u=o();u.style.height="1px",u.style.position="absolute",u.style.left="0px",u.style.right="0px",u.style.display="none",u.className=this.ca("_divider_horizontal")+" "+this.ca("_divider_horizontal_frozen_top"),u.onmousemove=function(e){e.cancelBubble=!0},this.nav.dividerTop=u;var h=o();h.style.height="1px",h.style.position="absolute",h.style.left="0px",h.style.right="0px",h.style.display="none",h.className=this.ca("_divider_horizontal")+" "+this.ca("_divider_horizontal_frozen_bottom"),h.onmousemove=function(e){e.cancelBubble=!0},this.nav.dividerBottom=h,this.nav.top.appendChild(i),this.nav.top.appendChild(r),this.nav.top.appendChild(l),this.nav.top.appendChild(c),this.nav.top.appendChild(u),this.nav.top.appendChild(h)}else{var f=document.createElement("table");f.cellPadding=0,f.cellSpacing=0,f.border=0,f.style.position="absolute";var v=f.insertRow(-1);v.insertCell(-1).appendChild(this.Gf()),v.insertCell(-1).appendChild(this.iu());var p=f.insertRow(-1);p.insertCell(-1).appendChild(this.eu()),p.insertCell(-1).appendChild(this.ju()),this.nav.top.appendChild(f)}if(this.Dj=o(),this.Dj.style.display="none",this.nav.top.appendChild(this.Dj),this.Ua()){var m=document.createElement("input");m.type="hidden",m.id=this.id+"_state",m.name=this.id+"_state",this.nav.state=m,this.nav.top.appendChild(m)}var g=o();g.style.position="absolute",g.style.left=this.Rm()+M.Sm()+5+"px",g.style.top=this.Tm()+5+"px",g.style.display="none",g.innerHTML=H.La(this.loadingLabelText,this.loadingLabelHtml),d(g,this.ca("_loading")),this.nav.loading=g,this.nav.top.appendChild(g);var b=o();b.style.position="absolute",b.style.display="none",this.nav.dummy=b,this.nav.top.appendChild(b),this.mu(),H.nu()},this.Nk=function(e){if(n.Ct&&!T.row){var t=n.Ct;if(t.cu)A.ne(t.cu.row),T.calendar=H,T.sourceCalendar=t.cu.sourceCalendar;else{var i=t.options.data;if("function"==typeof H.onExternalRowEnter){var a={};a.data=i,H.onExternalRowEnter(a),i=a.data}var r=H.tt(i),o=H.ut(r);A.ne(o),T.calendar=H,T.sourceCalendar=null}}if(T.row)A.Nt(e);else if(n.As){var l=DayPilot.mo3(H.nav.top,e).x,s=H.os(),d=H.rowHeaderWidthMin,c=l-1;H.rowHeaderCols&&(c=Math.min(s,l-1)),c=Math.max(d,c),H.rowHeaderWidth=c,H.pt=!1,H.rowHeaderCols||H.ou(),H.qt(),H.om(),H.hb()}},this.ub=function(){var e=this.Tm(),t="Top"===H.timeHeaderPosition;this.nav.corner&&(this.nav.corner.style.height=e+"px"),this.divTimeScroll&&(this.divTimeScroll.style.height=e+"px"),this.divNorth&&(this.divNorth.style.height=e+"px"),this.nav.dh1&&this.nav.dh2&&t&&(this.nav.dh1.style.top=e+"px",this.nav.dh2.style.top=e+"px"),this.nav.loading.style.top=e+5+"px",t&&(this.nav.scroll.style.top=e+1+"px")},this.Rm=function(){if(this.pt)return 0;var e=0,t=this.rowHeaderScrolling,n=this.os();return e=t&&this.rowHeaderWidth<n?this.rowHeaderWidth:n},this.hu=function(){var e=this.nav.divider;H.rowHeaderScrolling?(H.rowHeaderResizable&&(e.style.cursor="col-resize"),e.onmousedown=function(){if(H.rowHeaderResizable){var e=n.As={};return e.cursor=H.nav.top.style.cursor,e.cleanup=function(){if(H.ts(),H.nav.top.style.cursor=e.cursor,"function"==typeof H.onRowHeaderResized){var t={};H.onRowHeaderResized(t)}},H.nav.top.style.cursor="col-resize",!1}}):(e.style.cursor=null,e.onmousedown=null)},this.qt=function(){var e=M.Sm(),t=this.Rm();if(this.nav.corner&&(this.nav.corner.style.width=t+"px"),this.nav.corner&&(this.divCorner.style.width=t+"px"),this.divResScroll.style.width=t+"px","DivBased"===M.du()&&(this.nav.left.style.width=t+"px",this.nav.divider.style.left=t-e+"px",this.nav.right.style.marginLeft=t+"px"),this.nav.message&&(this.nav.message.style.left=H.Qm()+"px"),this.nav.loading&&(this.nav.loading.style.left=t+e+5+"px"),this.nav.hideIcon){var n=this.nav.hideIcon,i=H.ca("_header_icon_show"),a=H.ca("_header_icon_hide");n.style.left=t-1+"px",H.pt?(s(n,a),d(n,i)):(s(n,i),d(n,a))}},this.ou=function(){this.ns();var e=this.os(),t=function(e,t,n){if(e&&e.style){var i=e.firstChild;H.ws?(e.style.width=t+"px",i.style.width=t+"px","number"==typeof n&&(e.style.left=n+"px")):i.style.width=t+"px"}},n=function(n){var i=n.cells[0];if(i&&(i.colSpan>1||"max"===i.colSpan))t(i,e);else if(H.rowHeaderCols)for(var a=0,r=0;r<n.cells.length;r++){var o=H.rowHeaderCols[r],l=n.cells[r];t(l,o,a),a+=o}else{var o=H.rowHeaderWidth,s=n.cells[0];t(s,o)}},i=this.divHeader;i.style.width=e+"px";for(var a=H.ps(),r=a.start;r<a.end;r++){var o=i.rows[r];o&&n(o)}if(H.wm.top.enabled())for(var r=0;r<H.wm.top.rowlist.length;r++){var o=H.wm.top.divHeader.rows[r];o&&n(o)}if(H.wm.bottom.enabled())for(var r=0;r<H.wm.bottom.rowlist.length;r++){var o=H.wm.bottom.divHeader.rows[r];o&&n(o)}if(H.nav.resScrollSpace&&(H.nav.resScrollSpace.style.width=e+"px"),H.wm.bottom.enabled()){H.wm.bottom.divSpace.style.width=e+"px"}this.hb()},this.Nn=function(){this.qt(),this.ou()},this.Mn=function(){var e=H.nav.corner,t=M.Dr(),n=M.mg();"number"==typeof H.rowHeaderColumnHeaderHeight&&(n=H.rowHeaderColumnHeaderHeight);var i=o();i.style.position="absolute",i.style.bottom="0px",i.style.left="0px",i.style.width="100%",i.style.height=n+"px",i.style.overflow="hidden",H.nav.columnScroll=i;var a=o();a.style.position="absolute",a.style.bottom="0px",a.style.left="0px",a.style.width="5000px",a.style.height=n+"px",a.style.overflow="hidden",a.className=this.ca("_columnheader"),i.appendChild(a);var r=o();r.style.position="absolute",r.style.top="0px",r.style.bottom="0px",r.style.left="0px",r.style.right="0px",r.className=this.ca("_columnheader_inner"),a.appendChild(r),H.Zo&&(H.Zo.dispose(),H.Zo=null);var l=[];t.forEach(function(e){var t={};t.column={},t.column.html=H.La(e.text||e.name||e.title,e.html),t.column.areas=null,t.column.toolTip=e.toolTip,t.column.sortingEnabled=!!e.sort,t.column.data=e,t.column.cssClass=null,t.column.bubbleHtml=e.bubbleHtml,l.push(t),"function"==typeof H.onBeforeRowHeaderColumnRender&&H.onBeforeRowHeaderColumnRender(t)});var s=new DayPilot.Splitter(r);s.calendar=H,s.bubble=H.rowHeaderColumnBubble,s.enabled=H.rowHeaderColumnsResizable,s.nonresizable=DayPilot.Util.propArray(t,"nonresizable",!1),s.widths=DayPilot.Util.propArray(t,"width",H.rowHeaderColumnDefaultWidth),s.height=n,s.css.title=this.ca("_columnheader_cell"),s.css.titleInner=this.ca("_columnheader_cell_inner"),s.css.splitter=this.ca("_columnheader_splitter"),H.rowHeaderScrolling&&(s.splitterWidthLast=6);var d=H.rows.ot(),c=H.rows.nt();s.titles=w(l).map(function(e){var t=e.column.data,n=e.column.html,i=e.column.cssClass,a=e.column.toolTip,r={};if(r.areas=[],t.sort&&e.column.sortingEnabled){var o=H.ca("_sorticon");d===t.sort?(o+=" "+H.ca("_sorticon_active"),o+="asc"===c?" "+H.ca("_sorticon_asc"):" "+H.ca("_sorticon_desc")):o+=" "+H.ca("_sorticon_asc"),r.areas=[{right:5,top:0,bottom:0,width:10,cssClass:o,onClick:function(){var e={};e.field=t.sort,d===t.sort?e.order="asc"===H.rows.nt()?"desc":"asc":e.order="asc",H.rows.sort(e)}}]}return _(e.column.areas)&&(r.areas=r.areas.concat(e.column.areas)),r.cssClass=i,r.html=n,r.toolTip=a,r.bubbleHtml=e.column.bubbleHtml,r.data=e.column.data,r}),s.data=w(t,!0),s.started=function(){var e=s.totalWidth()===H.rowHeaderWidth;s.qu=e},s.updating=function(){H.sm.skip=!0,DayPilot.Util.updatePropsFromArray(M.Dr(),"width",this.widths),s.qu&&H.rowHeaderScrolling&&(H.rowHeaderWidth=s.totalWidth()),H.Nn()},s.updated=function(e){if(H.ts(),H.Kb()){if("function"==typeof H.onRowHeaderColumnResized){var t={};t.column=M.Dr()[e.index],H.onRowHeaderColumnResized(t)}}else switch(H.rowHeaderColumnResizedHandling){case"CallBack":break;case"PostBack":break;case"JavaScript":if("function"==typeof H.onRowHeaderColumnResized){var t={};t.column=M.Dr()[e.index],H.onRowHeaderColumnResized(t)}}},s.color="#000000",s.opacity=30,s.init(),e.appendChild(i),this.Zo=s},this.bm=function(){var e=this.nav.corner;if(e){var t=M.mg();"number"==typeof H.rowHeaderColumnHeaderHeight&&(t=H.rowHeaderColumnHeaderHeight),H.ab(),e.innerHTML="",e.className=this.ca("_corner");var n=o();if(n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.right="0px",n.style.bottom="0px",n.className=this.ca("_corner_inner"),this.divCorner=n,n.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var i=o();i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.right="0px",i.style.bottom=t+1+"px",e.appendChild(i);var a=o();a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.height="1px",a.style.bottom=t+"px",a.className=this.ca("_divider"),e.appendChild(a),i.appendChild(n),this.Mn()}else e.appendChild(n);!function(){var e={};e.control=H,e.backColor=null,e.html=H.cornerHtml,e.text=H.cornerText,e.verticalAlignment=null,e.horizontalAlignment=null,e.areas=null;var t=null;if("function"==typeof H.onBeforeCornerRender&&H.onBeforeCornerRender(e),"function"==typeof H.onBeforeCornerDomAdd&&(e.element=null,H.onBeforeCornerDomAdd(e),t=e.element),t){var n=H.divCorner;n.domArgs=e;if(p(t)){if(!H.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");H.W.V(t,n)}else n.appendChild(t)}else{var i=H.divCorner;if(i){var a=H.La(e.text,e.html),r=e.horizontalAlignment,o=e.verticalAlignment;if(i.innerHTML=a||"",e.backColor&&(i.style.background=e.backColor),r||o){switch(i.style.display="flex",r){case"right":i.style.justifyContent="flex-end";break;case"left":i.style.justifyContent="flex-start";break;case"center":i.style.justifyContent="center"}switch(o){case"center":i.style.alignItems="center";break;case"top":i.style.alignItems="flex-start";break;case"bottom":i.style.alignItems="flex-end"}}}}e.areas&&DayPilot.Areas.attach(H.nav.corner,{},{"areas":e.areas})}();var r=o();r.style.position="absolute",r.style.padding="2px",r.style.top="0px",r.style.left="1px",r.style.backgroundColor="#FF6600",r.style.color="white",r.innerHTML="\u0044\u0045"+"\u004D\u004F",f(undefined)&&e.appendChild(r),H.rowHeaderScrolling&&H.nav.columnScroll&&H.Xm&&(H.nav.columnScroll.scrollLeft=H.Xm.scrollLeft)}},this.mu=function(){var e=3,t=this.Rm()+M.Sm()-1,n=10,i=20,a=this.Tm()+e,r=c(this.nav.top,t,a,n,i);r.style.cursor="pointer",r.className=H.ca("_header_icon"),d(r,H.ca("_header_icon_hide")),r.onclick=function(){H.rows.headerToggle()},r.ontouchstart=function(e){e.stopPropagation()},this.nav.hideIcon=r},this.Wn=function(){var e=3,t=H.nav.hideIcon,n=H.Tm()+e;t&&(H.rowlist.length>0&&H.rowHeaderHideIconEnabled?t.style.display="":t.style.display="none",t.style.top=n+"px")},this.Gf=function(){var e=this.Rm(),t=o();return H.nav.corner=t,t.style.width=e+"px",t.style.height=this.Tm()+"px",t.style.overflow="hidden",t.style.position="relative",t.onmousemove=function(){H.gb()},t.oncontextmenu=function(){return!1},this.bm(),t},this.Tm=function(){if("None"===H.timeHeaderPosition)return 0;if(H.timeHeaders){var e=O.Lr(H.timeHeaders.length-1);return e.top+e.height}return this.timeHeader?H.timeHeader.length*M.mg():0},this.ru=null,this.su=function(){return H.scrollStep||H.eventHeight},this.eu=function(){var e=o();e.style.width=this.Rm()+"px",e.style.height=this.df()+"px",e.style.overflow="hidden",e.style.position="relative",e.className=H.ca("_rowheader_scroll");var t=H.su(),i=H.Ba.Cs();i&&(e.style.overflowY="auto",H.rowHeaderScrolling&&(e.style.overflowX="auto")),e.onmousemove=function(){H.gb()},DayPilot.rePassive(e,"touchstart",function(){n.tu=!0}),function(){var n=2,i=1.3,a=0,r=0,o=0,l=null;e.addEventListener("wheel",function(s){var d=s.timeStamp||Date.now();d-a>200&&(l=null,r=0,o=0),a=d;var c=e.scrollWidth>e.clientWidth,u=0!==H.uu();(c||u)&&s.preventDefault();var h=M.vu(),f=1===s.deltaMode?1.7*h:1,v=s.deltaX*f,p=s.deltaY*f;if(0===v&&s.shiftKey&&0!==p&&(v=p,p=0),Math.abs(v)<n&&(v=0),Math.abs(p)<n&&(p=0),0!==v||0!==p){r+=Math.abs(v),o+=Math.abs(p),l||r+o>=10&&(r>=o*i?l="x":o>=r*i&&(l="y"));var m=!1,g=!1;if("x"===l)m=!0,p=0;else if("y"===l)g=!0,v=0;else{var b=Math.abs(v),y=Math.abs(p);b>y?c?(m=!0,p=0):u&&(g=!0,v=0):u?(g=!0,v=0):c&&(m=!0,p=0)}var w=c&&m&&0!==v,x=u&&g&&0!==p;if(w||x)if(x){var k=void 0;k=H.overrideWheelScrolling||H.scrollStep?p>0?t:-t:p,H.nav.scroll.scrollTop=H.nav.scroll.scrollTop+k}else w&&(e.scrollLeft=e.scrollLeft+v)}},{passive:!1})}(),e.oncontextmenu=function(){return!1},e.onscroll=function(){if(H.ru&&clearTimeout(H.ru),i){var t=function(){var t=H.Rq()-H.nav.scroll.offsetHeight;e.scrollTop=Math.min(e.scrollTop,t),H.nav.scroll.scrollTop=e.scrollTop};DayPilot.browser.ios?n.tu&&(H.ru=setTimeout(t,10)):H.ru=setTimeout(t,10)}else H.ru=setTimeout(function(){H.nav.scroll.scrollTop=e.scrollTop},500)},H.wu(e),e.setAttribute("role","region"),e.setAttribute("aria-label","scheduler rows");var a=o();return a.onmousemove=function(){H.gb()},this.divHeader=a,e.appendChild(a),this.divResScroll=e,this.Xm=e,e},this.wu=function(e){e.addEventListener("scroll",function(){H.rowHeaderScrolling&&(H.nav.columnScroll&&(H.nav.columnScroll.scrollLeft=e.scrollLeft),H.wm.top.enabled()&&(H.wm.top.divHeader.scrollLeft=e.scrollLeft),this!==H.divResScroll&&(H.divResScroll.scrollLeft=e.scrollLeft))}),e.onmouseenter=function(){H.rowHeaderScrolling&&(e.style.overflowX="auto")},e.onmouseleave=function(){H.rowHeaderScrolling&&(e.style.overflowX="hidden")}},this.xu=function(e){if("TableBased"===M.du()){var t=parseInt(this.width,10),n=isNaN(t)||this.width.indexOf("%")!==-1,i=this.os();n?this.nav.top&&this.nav.top.offsetWidth>0&&(e.style.width=this.nav.top.offsetWidth-6-i+"px"):e.style.width=t-i+"px"}},this.yu=function(e){return["Shift","Control","Alt","Meta"].includes(e)},this._o=function(e){if("function"==typeof H.onEventMoving&&n.vn){var t=H.coords||{};t.shift=e.shiftKey,t.meta=e.metaKey,t.ctrl=e.ctrlKey,t.alt=e.altKey,H.coords=t,H.yu(e.key)&&H.cs()}},this.$o=function(e){if("function"==typeof H.onEventMoving&&n.vn){var t=H.coords||{};t.shift=e.shiftKey,t.meta=e.metaKey,t.ctrl=e.ctrlKey,t.alt=e.altKey,H.coords=t,H.yu(e.key)&&H.cs()}},this.Ri=function(){"function"==typeof ResizeObserver&&H.watchWidthChanges||n.vn&&(H.Hb(),H.om())},this.Hb=function(){H.Aa||("TableBased"===H.Ba.du()&&(H.xu(H.nav.scroll),H.xu(H.divTimeScroll)),H.Bb(),H.ts(),H.zu(),H.va.drawArea=null)},this.Cg=null,this.Dg=null,this.Wa=null,this.xg=function(){var e=function(){H.Hb(),H.om(null,{"dontHideBubble":!0})},t=function(){if(H.watchWidthChanges){var t=H.nav.top;if(t){var n=t.offsetParent,i=n&&n.offsetHeight;if(!H.Cg)return H.Cg={},H.Cg.changed=!1,H.Cg.width=t.offsetWidth,H.Cg.height=t.offsetHeight,void(H.Cg.opHeight=i);var a=H.Cg.width!==t.offsetWidth,r=H.Cg.height!==t.offsetHeight,o="Max100Pct"===H.heightSpec&&H.Cg.opHeight!==i;(a||r||o)&&(H.Cg.changed=!0,H.Cg.width=t.offsetWidth,H.Cg.height=t.offsetHeight,H.Cg.opHeight=i),H.Cg.changed&&(H.Cg.changed=!1,e())}}};if(H.watchWidthChanges){if("function"==typeof ResizeObserver){if(H.Wa)return;var n=new ResizeObserver(DayPilot.debounce(t,100));return n.observe(H.nav.top),H.nav.top.offsetParent&&n.observe(H.nav.top.offsetParent),void(H.Wa=n)}if(!H.Dg){var i=function(){return H.nav&&H.nav.top?H.Cg?(H.Cg.width!==H.nav.top.offsetWidth&&(H.Cg.changed=!0,H.Cg.counter=0,H.Cg.width=H.nav.top.offsetWidth),H.Cg.changed&&(H.Cg.counter+=1),void(H.Cg.changed&&H.Cg.counter>0&&(H.Cg.changed=!1,e()))):(H.Cg={},H.Cg.counter=0,H.Cg.changed=!1,void(H.Cg.width=H.nav.top.offsetWidth)):void clearInterval(H.Dg)};this.Dg=setInterval(i,200),i()}}},this.zu=function(){if("Fixed"!==H.cellWidthSpec)if(P.list.length>0){var e=P.get();H.clearSelection(),e.forEach(function(e){H.multirange.add(e)})}else{var t=H.oo;H.clearSelection(),H.oo=t,H.po(t,{"justDraw":!0})}},this.ts=function(){"Auto"===H.cellWidthSpec&&(H.fm(),H.za&&(H.Vl(),H.Wl(),H.cm(),H.gm(),H.Ya(),H.tb(),Y.Zl(),H.dm(),H.em(),H.Fn(),H.Fb(),H.im(),H.jm(),H.Bb()))},this.Vl=function(){if("Auto"===this.cellWidthSpec){var e=this.nav.top.clientWidth,t=this.Rm(),n=H.uu(),i=e-t-n;if(this.kr()){var a=i/this.kr();this.cellWidth=Math.max(a,H.cellWidthMin),H.Wm=a<H.cellWidthMin}}};this.uu=function(){if("Auto"===H.heightSpec)return 0;if("Max"===H.heightSpec||"Fixed"===H.heightSpec||"Parent100Pct"===H.heightSpec){if(H.Rq()>H.height){return DayPilot.sw(H.nav.scroll)||1}return 0}return DayPilot.sw(H.nav.scroll)};this._m=function(){var e=this.nav.top.clientWidth,t=this.Rm(),n=this.df(),i=this.Rq(),a="Auto"===H.heightSpec,r=0;return i>n&&!a&&(r=DayPilot.swa()),e-t- -2-r},this.iu=function(){var e="Top"===H.timeHeaderPosition,t=o();t.style.overflow="hidden",t.style.display="block",e?(t.style.position="absolute",t.style.top="0px"):t.style.position="relative",t.style.width="100%",t.style.height=this.Tm()+"px",t.style.overflow="hidden",t.onmousemove=function(){H.gb(),H.cellBubble&&H.cellBubble.delayedHide()},t.className=H.ca("_timeheader_scroll"),this.xu(t),this.divTimeScroll=t;var n=o();return n.style.width=this.Om()+5e3+"px",this.divNorth=n,t.appendChild(n),t},this.df=function(){var e=0,t=H.heightSpec;return"Fixed"===t||"Parent100Pct"===t?this.height?this.height:0:(e=H.Rq(),("Max"===t||"Max100Pct"===t)&&e>H.height?H.height:e)},this.Au=null,this.Bu=0,this.Cu=0,this.Du=0,this.Zm=function(){if("function"==typeof H.onHeightChanged||"function"==typeof H.onDimensionsChanged){H.Au&&clearTimeout(H.Au);var e=function(){var e=H.nav.top.offsetHeight,t=H.Bu;H.Bu=e;var n=H.nav.top.offsetWidth,i=H.Cu;H.Cu=n;var a=H.Rm(),r=H.Du;if(H.Du=a,"function"==typeof H.onHeightChanged&&e!==t){var o={};o.oldHeight=t,o.newHeight=e,H.onHeightChanged(o)}if("function"==typeof H.onDimensionsChanged&&(e!==t||n!==i||a!==r)){var o={};o.oldHeight=t,o.newHeight=e,o.oldWidth=i,o.newWidth=n,o.oldRowHeaderWidth=r,o.newRowHeaderWidth=a,H.onDimensionsChanged(o)}};H.Au=setTimeout(e,100)}},this.Rq=function(){var e;return this.Cl!==-1?(e=this.Cl,"auto"===H.nav.scroll.style.overflowX&&(e+=DayPilot.sh(H.nav.scroll))):e=this.rowlist.length*this.Ba.fp(),e+=H.wm.bottom.height},this.gb=function(){var e,t,n,i;this.ib(),H.Eu&&(this.hb(),this.Fu(),this.ls(),this.Mq(),null===(e=H.cellBubble)||void 0===e?void 0:e.hideOnMouseOut(),null===(t=H.bubble)||void 0===t?void 0:t.hideOnMouseOut(),null===(n=H.groupBubble)||void 0===n?void 0:n.hideOnMouseOut(),null===(i=H.timeHeaderBubble)||void 0===i?void 0:i.hideOnMouseOut(),H.Eu=!1)},this.wm={},this.wm.top={},this.wm.top.height=0,this.wm.top.rowlist=[],this.wm.top.enabled=function(){return this.rowlist&&this.rowlist.length>0},Object.defineProperty(H.wm.top,"top",{get:function(){return H.Tm()+1}}),Object.defineProperty(H.wm.top,"right",{get:function(){return H.uu()}}),Object.defineProperty(H.wm.top,"heightRes",{get:function(){return this.height}}),this.wm.bottom={},this.wm.bottom.height=0,this.wm.bottom.rowlist=[],this.wm.bottom.enabled=function(){return this.rowlist&&this.rowlist.length>0},Object.defineProperty(H.wm.bottom,"top",{get:function(){return H.Tm()+H.df()-this.height-DayPilot.sh(H.nav.scroll)+1}}),Object.defineProperty(H.wm.bottom,"right",{get:function(){return H.uu()}}),Object.defineProperty(H.wm.bottom,"heightRes",{get:function(){return this.height+DayPilot.sh(H.nav.scroll)}}),this.wm.main={},this.nu=function(){var e=H.wm.main;e.divCells=H.divCells,e.divLines=H.divLines,e.divBreaks=H.divBreaks,e.divHeader=H.divHeader,e.divLinksBelow=H.divLinksBelow,e.divEvents=H.divEvents,e.divLinksAbove=H.divLinksAbove,e.divShadow=H.divShadow,e.divHover=H.divHover,e.divCrosshair=H.divCrosshair,e.div=H.nav.scroll,Object.defineProperty(H.wm.main,"rowlist",{get:function(){return H.rowlist}}),Object.defineProperty(H.wm.main,"rowlistparents",{get:function(){return H.rowlistparents}}),Object.defineProperty(H.wm.main,"top",{get:function(){return H.Tm()+1}}),Object.defineProperty(H.wm.main,"height",{get:function(){return H.Cl}})},this.fu=function(){var e=H.wm.top,t=e.top,n=e.height,i=o();return i.style.position="absolute",i.style.left="0px",i.style.right="0px",i.style.top=t+"px",i.style.height=n+"px",i.style.overflow="hidden",i.style.boxSizing="border-box",i.rows=[],e.divHeader=i,i},this.gu=function(){var e=H.wm.bottom,t=e.top,n=e.height,i=o();i.style.position="absolute",i.style.left="0px",i.style.right="0px",i.style.top=t+"px",i.style.height=n+"px",i.style.overflow="hidden",i.style.boxSizing="border-box";var a=o();a.style.position="absolute",a.style.height="500px",a.style.top=e.height+"px",a.style.left="0px",a.style.width=H.os()+"px",a.className=H.ca("_rowheader"),i.appendChild(a),i.rows=[];var r=o();return i.appendChild(r),i.zs=r,H.wu(i),e.divHeader=i,e.divSpace=a,i},this.ku=function(){var e=H.wm.top,t=e.top,n=e.height,i=o();return i.style.position="absolute",i.style.left="0px",i.style.right="0px",i.style.top=t+"px",i.style.height=n+"px",i.style.overflow="hidden",i.className=H.ca("_grid_top"),i.onmousedown=H.Gu,i.onmousemove=H.ms,i.oncontextmenu=H.Hu,i.onmouseup=H.Iu,i.ondblclick=this.Ju,H.nav.fixedTop=i,e.div=i,v(H.Ku(i),e),i},this.lu=function(){var e=H.wm.bottom,t=e.top,n=e.height,i=o();return i.style.position="absolute",i.style.left="0px",i.style.right="0px",i.style.bottom=t+"px",i.style.height=n+"px",i.style.overflow="hidden",i.className=H.ca("_grid_bottom"),i.onmousedown=H.Gu,i.onmousemove=H.ms,i.oncontextmenu=H.Hu,i.onmouseup=H.Iu,i.ondblclick=this.Ju,H.nav.fixedBottom=i,e.div=i,v(H.Ku(i),e),i},this.Ku=function(e){var t=o();t.style.position="absolute",e.appendChild(t);var n=o();n.style.position="absolute",e.appendChild(n);var i=o();i.style.position="absolute",e.appendChild(i);var a=o();a.style.position="absolute",e.appendChild(a);var r=o();r.style.position="absolute",e.appendChild(r);var l=o();l.style.position="absolute",e.appendChild(l);var s=o();s.style.position="absolute",e.appendChild(s);var d=o();d.style.position="absolute",d.style.left="0px",d.style.width="100000px",d.style.bottom="0px",d.style.height="1px",e.appendChild(d);var c=o();c.style.position="absolute",e.appendChild(c);var u=o();return u.style.position="absolute",e.appendChild(u),{"divCells":t,"divLines":n,"divBreaks":i,"divLinksBelow":r,"divEvents":l,"divLinksAbove":s,"divShadow":u,"divHover":c,"divCrosshair":a}},this.Ym=function(){var e=H.wm.top,t=H.wm.bottom;S(e),S(t),H.divStretch.style.height=H.Cl+t.height+"px",H.nav.dividerTop.style.top=e.top+e.height-1+"px",H.nav.dividerTop.style.right=e.right+"px",H.Lu(H.nav.dividerTop,e.enabled()),H.nav.dividerBottom.style.top=t.top-1+"px",H.nav.dividerBottom.style.right=t.right+"px",H.Lu(H.nav.dividerBottom,t.enabled()),e.div.style.right=e.right+"px",t.div.style.right=t.right+"px"},this.Lu=function(e,t){e.style.display=t?"":"none"},this.gn=function(e){e=e||{};var t=e.includeSplitParents,n=H.rowlist;return n=n.concat(H.wm.top.rowlist),n=n.concat(H.wm.bottom.rowlist),t&&(n=n.concat(H.rowlistparents)),n},this.Mu=function(){return H.rowlist.length>0||H.wm.top.rowlist.length>0||H.wm.bottom.rowlist.length>0},this.Nu=function(){this.bf(),this.Ou()},this.ju=function(){var e=o();if(e.style.overflow="auto",e.style.overflowX="auto",e.style.overflowY="auto",e.style.height=this.df()+"px","Top"===H.timeHeaderPosition?(e.style.top=this.Tm()+1+"px",e.style.position="absolute"):e.style.position="relative",e.style.width="100%",e.className=this.ca("_scrollable"),e.oncontextmenu=function(){return!1},this.xu(e),H.overrideWheelScrolling){var t=H.su();e.onwheel=function(n){var i=n.deltaY>0?t:-t;H.nav.scroll.scrollTop=e.scrollTop+i,n.preventDefault()},e.onmousewheel=function(n){var i=n.wheelDelta<0?t:-t;H.nav.scroll.scrollTop=e.scrollTop+i,n.preventDefault(),n.returnValue=!1}}DayPilot.rePassive(e,"wheel",H.Yo),this.nav.scroll=e,this.um=o();var n=this.um;n.style.userSelect="none",n.style.webkitUserSelect="none",n.daypilotMainD=!0,n.calendar=this,n.style.minHeight="1px",n.style.position="absolute";var i=this.Om();return i>0&&!isNaN(i)&&(n.style.width=i+"px"),n.onmousedown=this.Gu,n.onmousemove=this.ms,n.onmouseup=this.Iu,n.oncontextmenu=this.Hu,n.ondblclick=this.Ju,n.className=this.ca("_matrix"),this.divStretch=o(),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",n.appendChild(this.divStretch),this.divCells=o(),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.Hu,n.appendChild(this.divCells),this.divLines=o(),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.Hu,n.appendChild(this.divLines),this.divBreaks=o(),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.Hu,n.appendChild(this.divBreaks),this.divSeparators=o(),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.Hu,n.appendChild(this.divSeparators),this.divLinksBelow=o(),this.divLinksBelow.style.position="absolute",n.appendChild(this.divLinksBelow),this.divCrosshair=o(),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.Ju,this.divCrosshair.onmousedown=this.jg,n.appendChild(this.divCrosshair),this.divRange=o(),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.Hu,n.appendChild(this.divRange),this.divEvents=o(),this.divEvents.style.position="absolute",n.appendChild(this.divEvents),this.divSeparatorsAbove=o(),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.Hu,n.appendChild(this.divSeparatorsAbove),this.divLinksAbove=o(),this.divLinksAbove.style.position="absolute",n.appendChild(this.divLinksAbove),this.divLinkShadow=o(),this.divLinkShadow.style.position="absolute",n.appendChild(this.divLinkShadow),this.divLinkpoints=o(),this.divLinkpoints.style.position="absolute",n.appendChild(this.divLinkpoints),this.divRectangle=o(),this.divRectangle.style.position="absolute",n.appendChild(this.divRectangle),this.divHover=o(),this.divHover.style.position="absolute",n.appendChild(this.divHover),this.divShadow=o(),this.divShadow.style.position="absolute",n.appendChild(this.divShadow),e.appendChild(n),e},H.Yo=function(e){H.yn(e)},V.Mg=function(){if(!H.nav.overlay){var e=o();e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.className=H.ca("_block"),H.nav.top.appendChild(e),H.nav.overlay=e}},V.D=function(){V.Mg(),H.nav.overlay.style.display=""},V.B=function(){H.nav.overlay&&(H.nav.overlay.style.display="none")},this.Qa=function(e){e=e||{};var t=e.delay||0,n=H.La(e.text||this.loadingLabelText,this.loadingLabelHtml),i="undefined"!=typeof e.block?e.block:H.blockOnCallBack;H.sg&&window.clearTimeout(H.sg);var a=function(){(H.loadingLabelVisible||e.text)&&(H.nav.loading.innerHTML=n,H.nav.loading.style.display=""),i&&V.D()};0===t?a():H.sg=window.setTimeout(a,t)},this.nb=function(e){this.sg&&window.clearTimeout(this.sg),this.nav.loading.style.display="none",(e||H.blockOnCallBack)&&V.B()},this.loadingStart=function(e){H.Qa(e)},this.loadingStop=function(){H.nb(!0)},this.uiBlock=function(){V.D()},this.uiUnblock=function(){V.B()},this.ja=function(){return"javasc"!==H.Ga&&H.Ga.indexOf("DCODE")===-1||H.devsb},this.Ua=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.rh=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.xh=function(){return 0},this.Jb=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.ya>=this.autoRefreshMaxCount)){this.Xa();var t=this.autoRefreshInterval;if(!t||t<10)throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");this.autoRefreshTimeout=window.setTimeout(function(){H.yg()},1e3*this.autoRefreshInterval)}},this.Xa=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(e){H.Jb(e)},this.autoRefreshPause=function(){H.Xa()},this.Pu=function(){return!(n.vq||n.vn||y.drag||n.wq||n.Ct)},this.yg=function(){if(H.Pu()){var e=!1;if("function"==typeof this.onAutoRefresh){var t={};t.i=this.ya,t.preventDefault=function(){this.preventDefault.value=!0},H.onAutoRefresh(t),t.preventDefault.value&&(e=!0)}!e&&this.ja()&&this.commandCallBack(this.autoRefreshCommand),this.ya++}this.ya<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){H.yg()},1e3*this.autoRefreshInterval))},this.Eg=function(){n.Fg||(n.Fg=!0,DayPilot.re(document,"mousemove",n.Gg),DayPilot.re(document,"mouseup",n.Hg),DayPilot.re(document,"mousedown",n.Qu),DayPilot.re(document,"touchend",n.Jg),DayPilot.reNonPassive(document,"touchmove",n.Ig),DayPilot.re(window,"keyup",n.Ru)),DayPilot.re(window,"resize",this.Ri),DayPilot.re(document,"keydown",this.$o),DayPilot.re(document,"keyup",this._o)},this.Su=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.om,this.nav.scroll.onscrollend=this.Tu,H._q=this.nav.scroll.scrollLeft,H.Yq=this.nav.scroll.scrollTop,this.divNorth&&(H.Uu=this.divNorth.clientWidth)},this.Bk=function(){if(this.nav.state){var e={};e.scrollX=this.nav.scroll.scrollLeft,e.scrollY=this.nav.scroll.scrollTop;var t=H.Ko(e.scrollX,e.scrollY),n=H.Lo(t),i=H.Mo(t);e.rangeStart=n.start,e.rangeEnd=n.end,e.resources=i,this.syncResourceTree&&(e.tree=this.fb()),this.nav.state.value=DayPilot.he(JSON.stringify(e))}},this.jm=function(){if(this.separators)for(var e=0;e<this.separators.length;e++)this.eh(e)},this.Vu={},this.Vu.step=300,this.Vu.delay=10,this.Vu.mode="display",this.Vu.layers=!1,this.Hr=function(e){if(H.yl)return void z.Wu(e);for(var t=0,n=0;n<e.lines.length;n++){var i=e.lines[n];i.height=0,i.top=t;for(var a=function(a){var r=i[a];if(!r.part.top,!0){r.part.line=n,r.part.height||(r.part.height=e.eventHeight);var o=r.part.ft();o>i.height&&(i.height=o),r.part.top=t+e.marginTop;var l="Above"===H.eventVersionPosition;if(H.eventVersionsEnabled&&!w(r.versions).isEmpty()){var s=r.cache||r.data,d=r.part.top;l||(d+=r.part.height+H.eventVersionMargin),w(s.versions).forEach(function(e,t){if(r.versions[t]){var n=t*(H.eventVersionHeight+H.eventVersionMargin);r.versions[t].top=d+n,l&&(r.part.top+=H.eventVersionHeight,r.part.top+=H.eventVersionMargin)}})}r.part.right=r.part.left+r.part.width,r.part.fullTop=e.top+r.part.top,r.part.fullBottom=r.part.fullTop+r.part.height}},r=0;r<i.length;r++)a(r);t+=(i.height||e.eventHeight)*e.eventStackingLineHeight/100}},z.hq=function(e){e.evColumns=w(H.itline).map(function(){return{"events":w()}}),w(e.events).forEach(function(t){var n=t.start(),i=H.tn(n);e.evColumns[i.i].events.push(t)})},z.et=function(){var e=H.zl,t=0;w(H.rowlist).forEach(function(n){var i=0;n.evColumns.forEach(function(t,a){var r=H.itline[a],o=H.rowMarginTop;t.events.forEach(function(t){t.part.left=r.left,t.part.width=r.width,t.part.top=o,t.part.height||(e?t.part.height=z.Xu(t)+M.Kr():t.part.height=n.eventHeight),o+=t.part.height+H.eventMarginBottom}),t.height=o,t.height>i&&(i=t.height)}),n.maxColumnHeight=i,n.top=t;var a=n.height;n.height=n.getHeight(),i>H.rowMarginTop&&(n.height=i+H.rowMarginBottom),a!==n.height&&(H.fo=!0),t+=n.height}),H.Cl=t},z.Xu=function(e){var t=e.client.html(),n=o();n.style.position="absolute",n.style.top="-2000px",n.style.left="-2000px",n.style.width=e.part.width+"px",n.className=H.ca(R.event);var i=o();i.className=H.ca(R.eventInner),i.innerHTML=t,i.style.position="static",
i.style.overflow="auto",n.appendChild(i);var a=H.divEvents;a.appendChild(n);var r=n.offsetHeight;return a.removeChild(n),r},z.Wu=function(){z.et()},z.Yu=function(){w(H.rowlist).forEach(function(e){z.Zu(e)})},z.Fb=function(){z.Yu(),z.$u(),H.em(),H.Bb()},z.$u=function(){if(H.zl){var e=!1;w(H.elements.events).forEach(function(t){var n=t.firstChild,i=n.offsetHeight-n.clientHeight+t.offsetHeight-t.clientHeight,a=n.scrollHeight+i,r=t.event.part.height;t.event.part.height=a,r!==a&&(e=!0)}),e&&(H.Ya(),z.et(),z.Yu(),H.fm(),H.im())}},z.Zu=function(e){e.evColumns.forEach(function(e){e.events.forEach(function(e){H.Ue(e)})})},this.Pn=null,this.Fb=function(e){if(!H.Aa){if(H.yl)return void z.Fb();var t=this.Vu.step;"display"===this.Vu.mode?this.divEvents.style.display="none":"visibility"===this.Vu.mode&&(this.divEvents.style.visibility="hidden"),this.divEvents.setAttribute("role","region"),this.divEvents.setAttribute("aria-label","scheduler events");var n="Progressive"===this.dynamicEventRendering,i=this.xd(),a=i.pixels.top-M._u(),r=i.pixels.bottom+M._u(),o=H.allowMultiMove||H.allowMultiResize,l=o&&!w(H.multiselect.Oc).isEmpty(),s=H.rowlist.filter(function(e){var t=e.top,i=t+e.height;return!(n&&!l&&(i<=a||t>=r))});H.wm.top.enabled()&&(s=s.concat(H.wm.top.rowlist)),H.wm.bottom.enabled()&&(s=s.concat(H.wm.bottom.rowlist)),s.forEach(function(n){H.Hr(n);for(var i=Math.max(0,n.resource&&n.resource.maxLines||1e5),a=0;a<n.lines.length;a++){var r=n.lines[a];if(!(a>=i))for(var o=0;o<r.length;o++){var l=r[o],s=H.Ue(l);if(e&&s&&(t--,t<=0))return H.divEvents.style.visibility="",H.divEvents.style.display="",void(H.Pn=window.setTimeout(function(){H.Fb(e)},H.Vu.delay))}}}),this.divEvents.style.display="",w(H.multiselect.Oc).isEmpty()||H.multiselect.redraw(),this.Fm(),Y.zp(),this.fq()}},this.ho=function(e,t){var n=H.bp(t),i=n.rowlist[e];if(H.yl)return void z.Zu(i);this.um.insertBefore(this.divEvents,this.divSeparatorsAbove),H.va.Hl.push(this.divEvents),this.Hr(i);for(var a=0;a<i.lines.length;a++)for(var r=i.lines[a],o=0;o<r.length;o++){var l=r[o];this.Ue(l)}this.divEvents.style.display=""},this.av=function(){var e=H.va.Hl,t=[];e.forEach(function(e){0===e.childNodes.length?e.remove():t.push(e)}),H.va.Hl=t},this.Ya=function(){if(this.elements.events)for(var e=this.elements.events.length,t=0;t<e;t++){var n=this.elements.events[t];this.Qe(n)}this.elements.events=[]},this.go=function(e,t){if(t=t||"main",this.elements.events){for(var n=this.elements.events.length,i=[],a=0;a<n;a++){var r=this.elements.events[a],o=r.event;o.part.dayIndex===e&&o.part.grid===t&&(this.Qe(r),i.push(a))}for(var a=i.length-1;a>=0;a--)this.elements.events.splice(i[a],1)}},this.Qe=function(e){var t=e.domArgs;if(e.domArgs=null,t&&"function"==typeof H.onDomRemoveEvent&&H.onDomRemoveEvent(t),t&&"function"==typeof H.onBeforeEventDomRemove&&H.onBeforeEventDomRemove(t),t&&"function"==typeof H.onBeforeEventDomAdd){var n=t&&t.Le;if(n){var i=H.W.reactDOM&&p(t.element),a=H.Y.Ne&&(m(t.element)||g(t.element));i?H.W.ka(n):a&&(H.Y.Oe=!0,H.Y.la(n),H.Y.Oe=!1)}}e.parentNode&&e.parentNode.removeChild(e),e.onclick=null,e.oncontextmenu=null,e.onmouseover=null,e.onmouseout=null,e.onmousemove=null,e.onmousedown=null,e.ondblclick=null,e.event&&(e.event.rendered=null,e.event=null),e.related&&k(e.related)},this.bv=function(e){e.event&&(e.event.rendered=!1),e.onclick=null,e.onmousedown=null,e.event=null,e.parentNode&&e.parentNode.removeChild(e)},this.cv=function(){if("Progressive"===this.dynamicEventRendering){if(H.dynamicEventRenderingCacheSweeping){var e=H.dynamicEventRenderingCacheSize||0;this.divEvents.style.display="none";for(var t=[],n=this.elements.events.length,i=n-1;i>=0;i--){var a=this.elements.events[i];this.dv(a.event)?e>0?(e--,t.unshift(a)):this.Qe(a):t.unshift(a)}this.elements.events=t,this.divEvents.style.display=""}}},this.ev=function(e){for(var t=this.xd(),n=this.elements.cells.length,i=n-1;i>=0;i--){var a=this.elements.cells[i];t.xStart<a.coords.x&&a.coords.x<=t.xEnd&&t.yStart<a.coords.y&&a.coords.y<=t.yEnd||(e>0?e--:this.Jf(a))}},this.Jf=function(e){if(e&&e.coords){var t=e.coords.x,n=e.coords.y,i=e.coords.grid;!function(){var t=e.domArgs;if(e.domArgs=null,t&&"function"==typeof H.onBeforeCellDomRemove&&H.onBeforeCellDomRemove(t),t&&"function"==typeof H.onBeforeCellDomAdd){var n=t&&t.Le;if(n){var i=H.W.reactDOM&&p(t.element),a=H.Y.Ne&&(m(t.element)||g(t.element));i?H.W.ka(n):a&&(H.Y.Oe=!0,H.Y.la(n),H.Y.Oe=!1)}}}(),DayPilot.rfa(H.elements.cells,e),k(e),H.va.cells[i+"_"+t+"_"+n]=null}},this.gm=function(){if(this.elements.separators)for(var e=0;e<this.elements.separators.length;e++){var t=this.elements.separators[e];k(t)}this.elements.separators=[]},this.fv=function(){var e="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var t=this.nav.scroll.scrollTop-M._u(),n=t+this.nav.scroll.clientHeight+2*M._u(),i=H.gn(),a=0;a<i.length;a++){var r=i[a],o=r.top,l=r.top+r.height;if(!e||!(o>=n||l<=t))for(var s=0;s<r.lines.length;s++)for(var d=r.lines[s],c=0;c<d.length;c++){var u=d[c];if(this.gv(u))return!0}}return!1},this.gv=function(e){if(e.rendered)return!1;var t="Progressive"===this.dynamicEventRendering,n=this.nav.scroll.scrollLeft-M.hv(),i=n+this.nav.scroll.clientWidth+2*M.hv(),a=e.part.left,r=e.part.left+e.part.width;return!t||!(i<=a||n>=r)},this.dv=function(e){if(!e.rendered)return!0;var t=this.xd(),n=t.pixels.top,i=t.pixels.bottom,a=t.pixels.left-M.hv(),r=t.pixels.right+M.hv(),o=e.part.left,l=e.part.right,s=e.part.fullTop,d=e.part.fullBottom;return r<=o||a>=l||(i<=s||n>=d)},this.dt=w(),this.iv=function(e){if(e.rendered)return!1;var t=e.row;if(t.hidden)return!1;var n=H.wm[t.grid],i=e.min,a=e.max-e.min,r=H.eventHeight,l=e.row.top;"number"==typeof t.forcedHeight&&(r=Math.min(t.forcedHeight,H.eventHeight));var s=o();s.style.position="absolute",s.style.left=i+"px",s.style.top=l+"px",s.style.width=a+"px",s.style.height=r+"px",s.className=H.ca("_event_group"),s.style.cursor="pointer";var d={};d.group={},d.group.count=e.events.length,d.group.events=w(e.events,!0),d.group.html="&#x1F7A7; "+e.events.length+" events",d.group.bubbleHtml=null,"function"==typeof H.onBeforeGroupRender&&H.onBeforeGroupRender(d);var c=o();return c.innerHTML=d.group.html,s.appendChild(c),s.onmousedown=function(e){e.cancelBubble=!0},s.onclick=function(e){var n=s.event;n.expanded=!0,H.bv(s);var i=C(H.elements.events,s);i!==-1&&H.elements.events.splice(i,1);var a=H.dt;w(n.events).forEach(function(e){a.push(e.id())}),"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing()),H.Fn(),H.Gn([t]),H.Bb(),H.Fb(),e.cancelBubble=!0},s.onmousemove=function(){if(H.groupBubble){var t={};t.calendar=H,t.type="Group",t.object={"events":w(e.events,!0)},t.staticHTML=d.group.bubbleHtml,t.div=s,t.toJSON=function(){var e={};return e.uid=H.uniqueID,e.type="Group",e.object=t.object,e},H.groupBubble.showGroup(t)}},s.onmouseout=function(){H.groupBubble&&H.groupBubble.hideOnMouseOut()},e.part={},e.part.left=i,e.part.width=a,e.part.height=H.eventHeight,e.part.dayIndex=C(n.rowlist,e.row),e.part.top=0,e.part.isBlock=!0,e.part.grid=e.row.grid,e.client={},e.client.html=function(){return d.group.html},e.data={},s.event=e,this.elements.events.push(s),n.divEvents.appendChild(s),e.rendered=!0,!0},this.Ue=function(e,t){t=t||{};var n=t.forced;if(e.rendered)return!1;if(H.groupConcurrentEvents){var i=e.part.block;if(i.events.length>1&&!i.expanded)return H.iv(i)}var a="Progressive"===this.dynamicEventRendering,r=e.part.dayIndex,l=e.part.grid||"main",s=H.wm[l],c=s.divEvents,h=s.rowlist,f=h[r];if(f.hidden)return!1;var v=Math.max(0,f.resource.maxLines||1e5);if(e.part.line>=v)return!1;var b=f.top,y=this.xd(),x=y.pixels.left-M.hv(),k=y.pixels.right+M.hv(),C=y.pixels.top-M._u(),_=y.pixels.bottom+M._u(),T=e.part.left,S=e.part.left+e.part.width,E=e.part.top+b,A=E+e.part.height,N=H.multiselect.Dd(e),P=k<=T||x>=S,L="main"===l&&(_<=E||C>=A);if(!n&&!N&&a&&(P||L))return!1;var z="Milestone"===e.data.type,I=e.part.width,O=e.part.height,j=e.cache||e.data,U=j.borderRadius||H.eventBorderRadius;"number"==typeof U&&(U+="px");var W=j.padding||H.eventPadding;"number"==typeof W&&(W+="px"),I=u(0,I),O=u(0,O);var q=o();if(q.related=[],function(t){H.eventVersionsEnabled&&w(j.versions).forEach(function(n,i){if(n){var a=e.versions[i];if(a){var r=o();r.style.position="absolute",r.style.overflow="hidden",r.style.left=a.left+"px",r.style.top=b+a.top+"px",r.style.width=a.width+"px",r.style.height=H.eventVersionHeight+"px",r.className=H.ca(R.event)+" "+H.ca("_event_previous")+" "+H.ca("_event_version"),U&&(r.style.borderRadius=U),r.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},n.toolTip&&(r.title=n.toolTip),n.cssClass&&d(r,n.cssClass);var l=o();l.className=H.ca(R.eventInner),l.innerHTML=H.La(n.text,n.html),U&&(l.style.borderRadius=U),n.backColor&&(l.style.background=n.backColor),n.fontColor&&(l.style.color=n.fontColor),n.borderColor&&(l.style.borderColor=n.borderColor),n.backImage&&(l.style.backgroundImage="url("+n.backImage+")",n.backRepeat&&(l.style.backgroundRepeat=n.backRepeat)),r.appendChild(l),a.continueLeft&&!z&&d(r,H.ca("_event_continueleft")),a.continueRight&&!z&&d(r,H.ca("_event_continueright"));var s=H.durationBarVisible&&!n.barHidden,u=a.width;if(s&&u>0){var h=100*a.barLeft/u,f=Math.ceil(100*a.barWidth/u);"PercentComplete"===H.durationBarMode&&(h=0,f=n.complete||0);var v=o();v.className=H.ca(R.eventBar),v.style.position="absolute",n.barBackColor&&(v.style.backgroundColor=n.barBackColor);var p=o();p.className=H.ca(R.eventBarInner),p.style.left=h+"%",0<f&&f<=1?p.style.width="1px":p.style.width=f+"%",n.barColor&&(p.style.backgroundColor=n.barColor),n.barImageUrl&&(p.style.backgroundImage="url("+n.barImageUrl+")"),v.appendChild(p),r.appendChild(v)}if(n.htmlLeft){var m=H.eventHtmlLeftMargin,g=o();g.style.position="absolute",g.style.right=-(a.left-m)+"px",g.style.top=b+a.top+"px",g.style.height=H.eventVersionHeight+"px",g.style.boxSizing="border-box",g.innerHTML=n.htmlLeft,g.className=H.ca("_event_left"),g.type="divLeft",g.versionPart=a,t.related.push(g),c.appendChild(g)}if(n.htmlRight){var m=H.eventHtmlRightMargin,y=o();y.style.position="absolute",y.style.left=a.left+a.width+m+"px",y.style.top=b+a.top+"px",y.style.height=H.eventVersionHeight+"px",y.style.boxSizing="border-box",y.innerHTML=n.htmlRight,y.className=H.ca("_event_right"),y.type="divRight",y.versionPart=a,t.related.push(y),c.appendChild(y)}r.versionPart=a,r.type="version";var w=DayPilot.Areas.resolvePosition(n.areas,H,a.left,a.width);DayPilot.Areas.attach(r,n,{"areas":w}),t.related.push(r),c.appendChild(r)}}})}(q),j.htmlLeft){var F=H.eventHtmlLeftMargin,V=o();V.style.position="absolute",V.style.right=-(e.part.left-F)+"px",V.style.top=b+e.part.top+"px",V.style.height=H.eventHeight+"px",V.style.boxSizing="border-box",V.innerHTML=j.htmlLeft,V.className=H.ca("_event_left"),V.type="divLeft",q.related.push(V),c.appendChild(V)}if(j.htmlRight){var F=H.eventHtmlRightMargin,J=o();J.style.position="absolute",J.style.left=e.part.left+e.part.width+F+"px",J.style.top=b+e.part.top+"px",J.style.height=H.eventHeight+"px",J.style.boxSizing="border-box",J.innerHTML=j.htmlRight,J.className=H.ca("_event_right"),J.type="divRight",q.related.push(J),c.appendChild(J)}if(H.treeAnimation){var G="number"==typeof f.forcedHeight?f.forcedHeight:f.height;e.part.top+e.part.height>G&&(O=Math.max(0,G-e.part.top))}q.style.position="absolute",q.style.left=e.part.left+H.eventMarginLeft+"px",q.style.top=b+e.part.top+"px",q.style.width=I-H.eventMarginLeft-H.eventMarginRight+"px",q.style.height=O+"px",H.eventTextWrappingEnabled||(q.style.whiteSpace="nowrap"),q.style.overflow="hidden",q.className=this.ca(R.event),z&&d(q,H.ca("_task_milestone")),"Group"===e.data.type&&(d(q,H.ca("_task_parent")),d(q,H.ca("_task_group"))),j.cssClass&&d(q,j.cssClass);"number"==typeof e.part.line&&d(q,this.ca(R.eventLine+e.part.line)),U&&(q.style.borderRadius=U),H.showToolTip&&!H.bubble&&(q.title=e.client.toolTip()||""),q.onmousemove=this.Ve,q.onmouseout=this.We,q.onmousedown=this.Xe,q.onmouseup=this.jv,DayPilot.reNonPassive(q,"touchstart",B.kv),DayPilot.rePassive(q,"touchmove",B.lv),DayPilot.reNonPassive(q,"touchend",B.mv),e.client.clickEnabled()&&(q.onclick=this.Tj),e.client.doubleClickEnabled()&&(q.ondblclick=this.cc),q.oncontextmenu=function(e){H.allowDefaultContextMenu||e.preventDefault()},"undefined"!=typeof j.ariaLabel?q.setAttribute("aria-label",j.ariaLabel):q.setAttribute("aria-label",j.text),q.setAttribute("tabindex","-1");var X=o();X.className=H.ca(R.eventInner),U&&(X.style.borderRadius=U),W&&(X.style.padding=W),j.backColor&&(X.style.background=j.backColor),"contrasting"===j.fontColor&&j.backColor?X.style.color=DayPilot.ColorUtil.contrasting(j.backColor):X.style.color=j.fontColor,"darker"===j.borderColor&&j.backColor?X.style.borderColor=DayPilot.ColorUtil.darker(j.backColor,2):X.style.borderColor=j.borderColor,j.backImage&&(X.style.backgroundImage="url("+j.backImage+")",j.backRepeat&&(X.style.backgroundRepeat=j.backRepeat)),q.appendChild(X);var Z=e.start().getTime()===e.part.start.getTime(),K=e.rawend().getTime()===e.part.end.getTime();if(Z||z||d(q,this.ca("_event_continueleft")),K||z||d(q,this.ca("_event_continueright")),e.client.barVisible()&&I>0&&!z){var Q=100*e.part.barLeft/I,$=Math.ceil(100*e.part.barWidth/I);"PercentComplete"===H.durationBarMode&&(Q=0,$=j.complete||0),H.durationBarHeight&&(X.style.paddingTop=H.durationBarHeight+"px");var ee=o();ee.className=this.ca(R.eventBar),ee.style.position="absolute",H.durationBarHeight&&(ee.style.height=H.durationBarHeight+"px"),j.barBackColor&&(ee.style.backgroundColor=j.barBackColor);var te=o();te.className=this.ca(R.eventBarInner),te.style.left=Q+"%",H.durationBarHeight&&(te.style.height=H.durationBarHeight+"px"),0<$&&$<=1?te.style.width="1px":te.style.width=$+"%",j.barColor&&(te.style.backgroundColor=j.barColor),j.barImageUrl&&(te.style.backgroundImage="url("+j.barImageUrl+")"),ee.appendChild(te),q.appendChild(ee)}if(q.row=r,j.areas){var ne=DayPilot.Areas.resolvePosition(j.areas,H,e.part.left,e.part.width);ne=ne.filter(function(e){return DayPilot.Areas.isVisible(e)}),ne.forEach(function(t){var n=DayPilot.Areas.createArea(q,e,t);q.appendChild(n)})}if(q.event=e,N&&(H.multiselect.add(q.event,!0),H.multiselect.Od(q)),D.source&&Y.qp(q),function(){if("function"!=typeof H.onBeforeEventDomAdd&&"function"!=typeof H.onBeforeEventDomRemove)return void(z||H.nv(X,j.text,j.html));var t={};if(t.control=H,t.e=e,t.element=null,q.domArgs=t,"function"==typeof H.onDomAddEvent&&H.onDomAddEvent(t),"function"==typeof H.onBeforeEventDomAdd&&H.onBeforeEventDomAdd(t),t.element){var n=X;if(n){t.Le=n;var i=p(t.element),a=m(t.element),r=g(t.element);if(i){if(!H.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");H.W.V(t.element,n)}else if(a){if(!H.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");H.Y.Oe=!0,H.Y.Z(t.element,n,t.props),H.Y.Oe=!1}else if(r){if(!H.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");H.Y.Oe=!0,H.Y.Pe(t.element,n),H.Y.Oe=!1}else n.appendChild(t.element)}}else z||(X.innerHTML=e.client.innerHTML())}(),this.elements.events.push(q),c.appendChild(q),e.rendered=!0,H.Kb()){if("function"==typeof H.onAfterEventRender){var ie={};ie.e=q.event,ie.div=q,H.onAfterEventRender(ie)}}else H.afterEventRender&&H.afterEventRender(q.event,q);return!0},this.ov=function(){var e=o();e.className=H.ca("_event");var t=o();return t.className=H.ca("_event_inner"),e.appendChild(t),e},this.La=function(e,t){return H.Ba.Ma()?DayPilot.Util.escapeTextHtml(e,t):f(t)?f(e)?"":e:t},this.nv=function(e,t,n){f(n)?null!==t&&void 0!==t&&(H.Ba.Ma()?e.innerText=t:e.innerHTML=t):e.innerHTML=n},this.Kb=function(){return 2===H.api},this.io=function(){for(var e=function(e){var n=t.elements.events[e],i=n.event,a=i.part.dayIndex,r=H.bp(i.part.grid),o=r.rowlist[a],l=o.top,s=l+i.part.top,d="number"==typeof o.forcedHeight?o.forcedHeight:o.height,c=i.part.height;i.part.top+i.part.height>d&&(c=Math.max(0,d-i.part.top)),n.style.top=s+"px",n.style.height=c+"px",w(n.related).filter(function(e){return!!e.versionPart}).forEach(function(e){var t=e.versionPart;e.style.top=l+t.top+"px"}),w(n.related).filter(function(e){return!e.versionPart&&("divLeft"===e.type||"divRight"===e.type)}).forEach(function(e){e.style.top=s+"px"})},t=this,n=0;n<this.elements.events.length;n++)e(n)},this.kh=function(e){if(!e)return null;for(var t=0;t<H.elements.events.length;t++){var n=H.elements.events[t];if(H.Ld(n.event.data,e.data))return n}return null},this.Wp=function(e){var t=H.events.Gp(e.data);if(!t)return null;var n=H.rowlist[t.part.dayIndex];return H.Hr(n),H.Ue(t,{"forced":!0}),H.kh(t)},this.We=function(e){var t=e.currentTarget;DayPilot.Areas.hideAreas(t,e),t.active||(s(t,H.ca("_event_hover")),H.pv(t),D.source||Y.yp(),H.bubble&&"Bubble"===H.eventHoverHandling&&H.bubble.hideOnMouseOut())},this.qv=function(e){var t={};t.div=e,t.e=e.event,"function"==typeof this.onEventMouseOver&&this.onEventMouseOver(t),"function"==typeof this.onEventMouseEnter&&this.onEventMouseEnter(t)},this.pv=function(e){var t={};t.div=e,t.e=e.event,"function"==typeof this.onEventMouseOut&&this.onEventMouseOut(t),"function"==typeof this.onEventMouseLeave&&this.onEventMouseLeave(t)},this.rv=function(e){var t=e.row,n={};n.div=e,n.row=H.vo(t),"function"==typeof this.onRowMouseOver&&this.onRowMouseOver(n)},this.sv=function(e){var t=e.row,n={};n.div=e,n.row=H.vo(t),"function"==typeof this.onRowMouseOut&&this.onRowMouseOut(n)},this.Ve=function(e){H.cellBubble&&H.cellBubble.delayedHide();for(var t=e.currentTarget;t&&!t.event;)t=t.parentNode;var n=t.event;H.tv(t,e);var i=t.event.cache?t.event.cache.deleteDisabled:t.event.data.deleteDisabled;if(!t.active){var a=[];if("Disabled"!==H.eventDeleteHandling&&!i){var r=H.durationBarVisible?M.Kr():0;a.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":r+2,"right":2,"css":H.ca(R.eventDelete),"js":function(e){H.jc(e)}})}if(!e.preventBubbleActivation){var o=t.event.cache?t.event.cache.areas:t.event.data.areas;o&&o.length>0&&(o=DayPilot.Areas.resolvePosition(o,H,n.part.left,n.part.width),a=a.concat(o)),DayPilot.Areas.showAreas(t,t.event,null,a)}d(t,H.ca("_event_hover")),H.qv(t)}"Disabled"===H.linkCreateHandling||D.source||(Y.tp(),Y.Xn(),H.Pu()&&Y.qp(t)),H.yn(e),H.coords.insideEvent=t.event},this.vn={},this.jv=function(e){var t=H.vn;if(b(e).right)return void H.dc.call(this,e);if(H.ionicEventClickFix){var n=t.Yf;if(n){var i=DayPilot.mc(e);n.x===i.x&&n.y===i.y&&(H.Tj.call(this,e),e.preventDefault(),e.stopPropagation())}}},this.Xe=function(e){H.gb(),"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing()),H.yn(e);var t=b(e);if(e.preventDefault(),e.stopPropagation(),t.left){var a=e.shiftKey;if("Disabled"!==M.zn()&&a)return L.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(n.un=!0,n.vq=this,n.Oq=this.event,n.Yf=DayPilot.mc(e),r().style.cursor=this.style.cursor,Y.Xn()):"not-allowed"===this.style.cursor?i():("move"===this.style.cursor||"Full"===H.moveBy&&this.event.client.moveEnabled())&&H.ne(this,e)}DayPilot.Menu&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},this.ne=function(e,t){var i=H.vn;H.yn(t),i.uv=!0,i.vn=e,i.sq=e.event,i.Yf=DayPilot.mc(t),i.rq=DayPilot.mo3(e,t).x,i.xq=H.getDate(H.coords.x,!0),n.sq=e.event,Y.Xn()},"undefined"==typeof y.touch&&(y.touch={}),y.touch.active=!1,y.touch.start=!1,B.wn=[],B.relativeCoords=function(e){return B.Vg(e)},B.startResizing=function(e,t){B.ze(e,t)},B.startMoving=function(e,t){B.ne(e,t)},B.kv=function(e){if(!y.touch.active&&!y.touch.start){DayPilot.Menu&&DayPilot.Menu.touchPosition(e),e.stopPropagation(),B.vv(),y.touch.start=!0,y.touch.active=!1;var n=e.currentTarget;H.coords=B.Vg(e);var i=H.tapAndHoldTimeout;B.wn.push(window.setTimeout(function(){y.touch.active=!0,y.touch.start=!1;var i=n.event;if(i)switch(H.eventTapAndHoldHandling){case"Move":if(i.client.moveEnabled()){var a=t(e);B.ne(n,a)}break;case"ContextMenu":DayPilot.Menu&&DayPilot.Menu.touchPosition(e);var r=i.client.contextMenu();r?r.show(i):H.contextMenu&&H.contextMenu.show(i)}},i))}},B.lv=function(){B.vv(),y.touch.start=!1},B.mv=function(e){if(!DayPilot.Util.isMouseEvent(e)){if(B.vv(),y.touch.start){y.touch.start=!1,e.preventDefault(),e.stopPropagation();var t=e.currentTarget;window.setTimeout(function(){H.$b(t,e)})}window.setTimeout(function(){y.touch.start=!1,y.touch.active=!1},500)}},B.mf=function(e){if(!(y.touch.active||y.touch.start||e.touches.length>1)){var t=function(){var t=B.Vg(e),n=H.gi(t.y,t.grid).element;return null===n||void 0===n?void 0:n.isNewRow}(),n=H.internal.gantt,i="Disabled"===H.timeRangeSelectedHandling,a=H.rowCreateAllowTimeRangeSelection,r=n&&t&&a;if(!i||r){B.vv(),y.touch.start=!0,y.touch.active=!1;var o=H.tapAndHoldTimeout;B.wn.push(window.setTimeout(function(){y.touch.active=!0,y.touch.start=!1,"Always"!==H.multiRangeMode&&P.clear(),H.coords=B.Vg(e),H.Tc(H.coords)?H.wv(e):B.wq=H.xv()},o));H.coords=B.Vg(e)}}},B.nf=function(e){if(B.vv(),y.touch.start=!1,n.vq)return e.preventDefault(),void B.Zg();if(y.touch.active){if(e.preventDefault(),H.coords=B.Vg(e),n.vn)return void B.$g();if(B.wq){var t=B.wq;t.end={x:Math.floor(H.coords.x/H.cellWidth),"time":H.getDate(H.coords.x,!0)},H.po(t)}}},B.debug=function(){},B.of=function(e){B.vv();var t=function(e){H.elements.range2.overlapping?(k(H.elements.range2),H.elements.range2=null,H.ls()):H.Kl.add(e),n.wq=null,H.Kl.dispatch()};if(y.touch.active){if(n.vn){e.preventDefault();var i=n.sq;if(H!==n.$r.calendar)return;var a=n.$r.start,o=n.$r.end,l="Days"!==H.viewType?n.$r.row.id:null,d=y.drag&&i.part.external,c=n.$r.overlapping,u=!n.$r.allowed;if(s(n.vn,H.ca(H.Jl.eventMovingSource)),k(n.$r),H.ls(),n.$r.calendar=null,r().style.cursor="",n.vn=null,n.sq=null,n.$r=null,H.Sl.clear(),c||u||H.Sl.forbidden||H.Sl.invalid)return;H.zc(i,a,o,l,d)}if(B.wq){var h=B.wq;if(B.wq=null,H.allowMultiRange&&H.elements.range2)t(h);else{var f=H.elements.range2;f&&f.overlapping?H.clearSelection():(H.oo=h,H.lo(h))}}}else if(y.touch.start){if(H.coords.x<H.getScrollX())return;"Always"!==H.multiRangeMode&&P.clear();var h=H.xv();H.po(h);var f=H.elements.range2;f&&H.allowMultiRange?t(h):f&&f.overlapping?H.clearSelection():(H.oo=h,H.lo(h))}window.setTimeout(function(){y.touch.start=!1,y.touch.active=!1},500)},B.vv=function(){for(var e=0;e<B.wn.length;e++)clearTimeout(B.wn[e]);B.wn=[]},B.Vg=function(e){function t(e,t,n){var i=DayPilot.abs(n);return{x:e-i.x,y:t-i.y,toString:function(){return"x: "+this.x+", y:"+this.y}}}var n=H.um,i=e.touches?e.touches[0]:e,a=i.pageX,r=i.pageY,o=t(a,r,n);if(o.grid="main",H.wm.top.enabled()){var l=H.wm.top,s=t(a,r,l.divCells);s.y>0&&s.y<=l.height&&(o=s,o.grid="top")}if(H.wm.bottom.enabled()){var d=H.wm.bottom,c=t(a,r,d.divCells);c.y>0&&c.y<=top.height&&(o=c,o.grid="bottom")}return o},B.ne=function(e,t){n.vn=e,n.sq=e.event,n.Yf=t;var i=DayPilot.abs(e);n.rq=t.x-i.x,n.xq=H.getDate(H.coords.x,!0),n.$r=H.Lb(e),H.Lq()},B.ze=function(e,t){n.vq=e,n.Oq=e.event,n.vq.dpBorder=t,n.Nq||(n.Nq=H.Lb(e)),H.as()},B.Zg=function(){if(!n.Nq){var e=n.vq;n.Nq=H.Lb(e)}H.as();var t={x:H.coords.x,y:H.coords.y,"grid":H.coords.grid};H.bg(t)},B.$g=function(){if(n.$r&&n.$r.calendar!==H&&H.ls(),!n.$r){var e=n.vn;n.$r=H.Lb(e)}n.$r.calendar.Lq();var t={x:H.coords.x,y:H.coords.y,"grid":H.coords.grid};H.bg(t)},B.Ns=function(e){var t=this.row,n=H.vo(t);if(!(y.touch.active||y.touch.start||e.touches.length>1)){B.vv(),y.touch.start=!0,y.touch.active=!1;var i=H.tapAndHoldTimeout;B.wn.push(window.setTimeout(function(){y.touch.active=!0,y.touch.start=!1,e.preventDefault(),H.contextMenuResource&&H.contextMenuResource.show(n)},i));H.coords=B.Vg(e)}},B.Os=function(e){y.touch.active&&(y.touch.start=!1,e.preventDefault(),e.stopPropagation()),window.setTimeout(function(){y.touch.start=!1,y.touch.active=!1},500)},this.tv=function(e,t){var i=this.eventResizeMargin,a=this.eventMoveMargin,r=e;if("undefined"!=typeof n){var o=DayPilot.mo3(e,t);if(o&&(H.eventOffset=o,!n.vq&&!n.vn)){var l=r.event.part.start.toString()===r.event.start().toString(),s=r.event.part.end.toString()===r.event.rawend().toString();if("Top"===H.moveBy&&o.y<=a&&r.event.client.moveEnabled()&&"Disabled"!==H.eventMoveHandling?e.style.cursor="move":("Top"===H.moveBy||"Full"===H.moveBy)&&o.x<=i&&r.event.client.resizeEnabled()&&"Disabled"!==H.eventResizeHandling?l?(e.style.cursor="w-resize",e.dpBorder="left"):e.style.cursor="not-allowed":"Left"===H.moveBy&&o.x<=a&&r.event.client.moveEnabled()&&"Disabled"!==H.eventMoveHandling?e.style.cursor="move":e.offsetWidth-o.x<=i&&r.event.client.resizeEnabled()&&"Disabled"!==H.eventResizeHandling?s?(e.style.cursor="e-resize",e.dpBorder="right"):e.style.cursor="not-allowed":n.vq||n.vn||(r.event.client.clickEnabled()&&"Disabled"!==H.eventClickHandling?e.style.cursor="pointer":e.style.cursor="default"),"undefined"!=typeof DayPilot.Bubble&&H.bubble&&"Bubble"===H.eventHoverHandling&&("default"===e.style.cursor||"pointer"===e.style.cursor||H.eventBubbleShowForMargins)){var d=this._g&&o.x===this._g.x&&o.y===this._g.y;d=!1,d||(this._g=o,t.preventBubbleActivation||H.bubble.showEvent(e.event))}}}},this.kr=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.mo=function(e){if(e=e||n.wq||H.oo,!e)return null;var t=H.bp(e.start.grid),i=t.rowlist[e.start.y];if(!i)return null;var a=e.yv?e.yv:e,r=a.end.time>a.start.time,o=i.id,l=r?a.start.x:a.end.x,s=r?a.end.x:a.start.x,d=i.start.getTime()-this.Ub().getTime(),c=H.snapToGrid&&H.snapToGridTimeRangeSelecting;e.forceSnap&&(c=!0);var u,h;c?(u=this.itline[l].start.addTime(d),h=this.itline[s].end.addTime(d)):r?(u=a.start.time,h=a.end.time):(u=a.end.time,h=a.start.time);var f=new DayPilot.Selection(u,h,o,H);return f.allowed=!e.div||!e.div.overlapping,f},this.sd=function(e){var t=e.parentNode,n=H.eventEditMinWidth,i=(e.event.text()||"").trim(),a=document.createElement("textarea");return a.style.position="absolute",a.style.width=(e.offsetWidth<n?n:e.offsetWidth-2)+"px",a.style.height=e.offsetHeight-2+"px",a.style.fontFamily=DayPilot.gs(e,"fontFamily")||DayPilot.gs(e,"font-family"),a.style.fontSize=DayPilot.gs(e,"fontSize")||DayPilot.gs(e,"font-size"),a.style.left=e.offsetLeft+"px",a.style.top=e.offsetTop+"px",a.style.border="1px solid black",a.style.padding="1px",a.style.marginTop="0px",a.style.backgroundColor="white",a.value=i,a.event=e.event,t.appendChild(a),a},this.zv=function(e){var t=X.Uk();t.sort(function(e,t){var n=e.event,i=t.event;return n.part.dayIndex!==i.part.dayIndex?n.part.dayIndex-i.part.dayIndex:n.start()!==i.start()?n.start().getTime()-i.start().getTime():i.end().getTime()-n.end().getTime()});var n=t.indexOf(e);return n===-1?null:n+1<t.length?t[n+1]:t[0]},this._b=function(e){if(e){if(n.Yp&&n.Yp.blur(),e.event){var t=e.event;N.Zp();var i=this.sd(e);if(n.Yp=i,DayPilot.rePassive(i,DayPilot.touch.start,function(e){e.stopPropagation()}),i.onblur=function(){if(i.onblur=null,n.Yp===i&&(n.Yp=null),i.parentNode&&i.parentNode.removeChild(i),e.event){var t=i.value;H.Mc(e.event,t,i.canceling)}},i.onmousedown=function(e){e.stopPropagation()},i.cancel=function(){n.Yp&&(n.Yp.canceling=!0,n.Yp.blur())},i.onkeydown=function(a){if("function"==typeof H.onEventEditKeyDown){var r={};if(r.e=e.event,r.element=i,r.preventDefault=function(){r.preventDefault.value=!0},r.submit=function(){i.onblur()},r.cancel=function(){n.Yp.cancel()},r.originalEvent=a,H.onEventEditKeyDown(r),r.preventDefault.value)return}var o=n.Yp,l=a.keyCode;if(13===l&&(a.stopPropagation(),this.onblur()),27===l)o.cancel();else if(9===l&&H.eventEditTabNext){var s=H.kh(t),d=H.zv(s);return o&&o.cancel(),d&&setTimeout(function(){H._b(d)},0),!1}},"function"==typeof H.onAfterEventEditRender){var a={};a.element=i,a.e=e.event,H.onAfterEventEditRender(a)}i.select(),i.focus()}}},this.Av={},this.Av.resource=function(){return"undefined"!=typeof DayPilot.Bubble?new DayPilot.Bubble:{"showResource":function(){},"hideOnMouseOut":function(){}}}(),this.Av.cell=function(){return"undefined"!=typeof DayPilot.Bubble?new DayPilot.Bubble:{"showResource":function(){},"hideOnMouseOut":function(){}}}(),this.Hs=function(e){var t=e.currentTarget,n=t.row;if(H.ib(),H.Bv=!0,clearTimeout(H.Cv),H.Cv=setTimeout(function(){H.Bv=!1},500),"undefined"!=typeof DayPilot.Bubble){H.cellBubble;var i=H.vo(n);i.div=t,H.resourceBubble?H.resourceBubble.showResource(i):n.bubbleHtml&&H.Av.resource.showResource(i)}},this.Fs=function(e){var t=e.currentTarget;t.active||(t.active=!0,H.rv(t))},this.Gs=function(e){var t=e.currentTarget;delete t.active,H.sv(t)},this.Is=function(e){var t=e.currentTarget;"undefined"!=typeof DayPilot.Bubble&&H.resourceBubble?H.resourceBubble.hideOnMouseOut():H.Av.resource.hideOnMouseOut();var n=t.firstChild;DayPilot.Areas.hideAreas(n,e),n.data=null},this.Js=function(e){T.row&&(A.cancelClick=!0,setTimeout(function(){A.cancelClick=!1},100)),H.yt&&(H.yt=!1,clearTimeout(H.zt),H.Ls.call(this,e))},this.cm=function(){if("None"!==H.timeHeaderPosition&&this.timeHeader){this.va.timeHeader={},H.elements.timeHeader.length>0&&H.To();var e=o();e.style.position="relative",this.nav.timeHeader=e;for(var t=0;t<this.timeHeader.length;t++)for(var n=this.timeHeader[t],i=0;i<n.length;i++)this.Dv(i,t);var a=this.divNorth;1===a.childNodes.length?a.replaceChild(e,a.childNodes[0]):(a.innerHTML="",a.appendChild(e));var r=this.Om();a.style.width=r+5e3+"px",r>0&&(this.divStretch.style.width=r+"px"),H.Ev()}},this.ab=function(){if(H.divCorner){var e=H.divCorner&&H.divCorner.domArgs;if(H.divCorner.domArgs=null,e&&("function"==typeof H.onBeforeCornerDomRemove&&H.onBeforeCornerDomRemove(e),"function"==typeof H.onBeforeCornerDomAdd)){var t=H.divCorner;if(t){var n=H.W.reactDOM&&p(e.element),i=H.Y.Ne&&(m(e.element)||g(e.element));n?H.W.ka(t):i&&(H.Y.Oe=!0,H.Y.la(t),H.Y.Oe=!1)}}}},this.pn=function(e,t){var n=null,i=this.Ba.Xc();t=t||this.cellGroupBy;var a=e.start;switch(t){case"Minute":n=a.toString("m");break;case"Hour":n="Clock12Hours"===H.Ba.Wc()?a.toString("h tt",i):a.toString("H",i);break;case"Day":n=a.toString(i.datePattern);break;case"Week":n=1===M.Wd()?a.weekNumberISO():a.weekNumber();break;case"Month":n=a.toString("MMMM yyyy",i);break;case"Quarter":n="Q"+Math.floor(a.getMonth()/3+1);break;case"Year":n=a.toString("yyyy");break;case"None":n="";break;case"Cell":var r=(e.end.ticks-e.start.ticks)/6e4;n=this.Fv(a,r);break;default:throw new DayPilot.Exception("Invalid groupBy value: "+t)}return n},this.Fv=function(e,t){var n=this.Ba.Xc();return t=t||this.cellDuration,t<1?e.toString("ss"):t<60?e.toString("mm"):t<1440?"Clock12Hours"===H.Ba.Wc()?e.toString("h tt",n):e.toString("H",n):t<10080?e.toString("d"):10080===t?1===M.Wd()?e.weekNumberISO():e.weekNumber():e.toString("MMMM yyyy",n)},this.mn=function(e){var t=this.scale;switch(t){case"Cell":throw new DayPilot.Exception("Invalid scale: Cell");case"Manual":throw new DayPilot.Exception("Internal error (addScaleSize in Manual mode)");case"CellDuration":return e.addMinutes(this.cellDuration);default:return this.on(e,t,!0)}},this.on=function(e,t,n){var i,a;if(n){var r="Days"!==this.viewType?this.days:1;a=this.startDate.addDays(r),"Manual"===H.scale&&(a=H.je())}else a=H.je(),"Days"===H.viewType&&(a=H.startDate.addDays(1));t=t||this.cellGroupBy;var o=60;switch(t){case"Minute":e.getMinutes()+e.getSeconds()+e.getMilliseconds()>0&&(e=e.getDatePart().addHours(e.getHours()).addMinutes(e.getMinutes())),i=e.addMinutes(1);break;case"Hour":e.getHours()+e.getMinutes()+e.getSeconds()+e.getMilliseconds()>0&&(e=e.getDatePart().addHours(e.getHours())),i=e.addHours(1);break;case"Day":i=e.getDatePart().addDays(1);break;case"Week":for(i=e.getDatePart().addDays(1);i.dayOfWeek()!==M.Wd();)i=i.addDays(1);break;case"Month":e=e.getDatePart(),i=e.addMonths(1),i=i.firstDayOfMonth();for(var l=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!l;)i=i.addHours(1),l=DayPilot.DateUtil.diff(i,e)/6e4%o===0;break;case"Quarter":for(e=e.getDatePart(),i=e.addMonths(1),i=i.firstDayOfMonth();i.getMonth()%3;)i=i.addMonths(1);for(var l=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!l;)i=i.addHours(1),l=DayPilot.DateUtil.diff(i,e)/6e4%o===0;
break;case"Year":e=e.getDatePart(),i=e.addYears(1),i=i.firstDayOfYear();for(var l=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!l;)i=i.addHours(1),l=DayPilot.DateUtil.diff(i,e)/6e4%o===0;break;case"None":i=a;break;case"Cell":var s=this.tn(e);i=s.current?s.current.end:s.past?s.previous.end:s.next.start;break;default:throw n?new DayPilot.Exception("Invalid scale value: "+t):new DayPilot.Exception("Invalid groupBy value: "+t)}return i.getTime()>a.getTime()&&(i=a),i},this.Jl.timeheadercol="_timeheadercol",this.Jl.timeheadercol="_timeheadercol",this.Jl.timeheadercolInner="_timeheadercol_inner",this.Jl.resourcedivider="_resourcedivider",this.Jl.eventFloat="_event_float",this.Jl.eventFloatInner="_event_float_inner",this.Jl.event="_event",this.Jl.eventInner="_event_inner",this.Jl.eventBar="_event_bar",this.Jl.eventBarInner="_event_bar_inner",this.Jl.eventDelete="_event_delete",this.Jl.eventLine="_event_line",this.Jl.eventMovingSource="_event_moving_source",this.Dv=function(e,t){var n=this.nav.timeHeader,i=this.timeHeader[t][e],a=e===this.timeHeader[t].length-1,r=t<this.timeHeader.length-1,l=i.left,s=i.width,c=O.Lr(t),u=c.top,h=c.height,f=o();f.style.position="absolute",f.style.top=u+"px",f.style.left=l+"px",f.style.width=s+"px",f.style.height=h+"px",i.toolTip&&!H.timeHeaderBubble&&(f.title=i.toolTip),f.setAttribute("aria-hidden","true"),i.cssClass&&d(f,i.cssClass),f.style.userSelect="none",f.style.webkitUserSelect="none",f.cell={},f.cell.start=i.start,f.cell.end=i.end,f.cell.level=t,f.cell.th=i,f.onclick=this.Ts,f.oncontextmenu=this.Us,f.onmousemove=this.Bf,f.onmouseleave=this.Ss,DayPilot.rePassive(f,DayPilot.touch.start,function(e){e.stopPropagation()}),f.style.overflow="hidden",H.timeHeaderTextWrappingEnabled||(f.style.whiteSpace="nowrap");var v=o();H.nv(v,i.text,i.innerHTML),i.backColor&&(v.style.background=i.backColor),i.fontColor&&(v.style.color=i.fontColor);var b=this.ca(R.timeheadercol),y=this.ca(R.timeheadercolInner);r&&(b=this.ca("_timeheadergroup"),y=this.ca("_timeheadergroup_inner")),d(f,b),d(v,y),d(f,H.ca("_timeheader_cell")),d(v,H.ca("_timeheader_cell_inner")),a&&d(f,H.ca("_timeheader_cell_last")),function(){if("function"==typeof H.onBeforeTimeHeaderDomAdd||"function"==typeof H.onBeforeTimeHeaderDomRemove){var e={};if(e.control=H,e.header={},e.header.start=i.start,e.header.end=i.end,e.header.level=t,e.element=null,f.domArgs=e,"function"==typeof H.onBeforeTimeHeaderDomAdd){H.onBeforeTimeHeaderDomAdd(e);var n=e.element;if(n){v.innerHTML="";var a=o();v.appendChild(a),e.Le=a;var r=p(n),l=m(n),s=g(n);if(r){if(!H.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");H.W.V(n,a)}else if(l){if(!H.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");H.Y.Oe=!0,H.Y.Z(e.element,a,e.props),H.Y.Oe=!1}else if(s){if(!H.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");H.Y.Oe=!0,H.Y.Pe(e.element,a),H.Y.Oe=!1}else a.appendChild(n)}}}}(),f.appendChild(v);var w=DayPilot.Areas.resolvePosition(i.areas,H,l,s),x=i;i.$&&i.$.areaSource&&(x=i.$.areaSource),DayPilot.Areas.attach(f,x,{"areas":w}),this.va.timeHeader[e+"_"+t]=f,this.elements.timeHeader.push(f),n.appendChild(f)},this.Gv=function(){var e=H.timeHeader,t=e.length-1;if(t<0)return null;for(var n=e[t],i=DayPilot.Date.now(),a=0;a<n.length;a++){var r=n[a];if(r.start<=i&&i<=r.end)return H.va.timeHeader[a+"_"+t]}return null},this.Hv=null,this.Ev=function(){var e=H.ca("_timeheader_cell_now"),t=H.Hv,n=H.Gv();t!==n&&(s(t,e),d(n,e),H.Hv=n)},this.Iv=null,this.Jv=function(){clearTimeout(H.Iv),H.Iv=setTimeout(function(){H.Ev(),H.Jv()},5e3)},this.Uo=function(){clearTimeout(H.Iv)},this.$n=function(){clearTimeout(H.Iv),H.showCurrentTimeHeader&&(H.Ev(),H.Jv())},this.Fn=function(){return H.yl?void z.et():(H.gn().forEach(function(e){var t=e.getHeight()+e.marginBottom+e.marginTop;e.height!==t&&(H.fo=!0),e.height=t}),void(H.fo&&(H.va.drawArea=null)))},this.em=function(){H.gn().forEach(function(e){if(!e.hidden){var t=H.bp(e.grid),n=t.divHeader;if(n){var i=e.index;if(n.rows[i])for(var a=0;a<n.rows[i].cells.length;a++){var r=n.rows[i].cells[a],o=t.rowlist[i].cells[a];H.ws&&r&&(r.style.top=e.top+"px");var l=e.height;o.rowspan>1&&(l=o.totalHeight()),r&&r.firstChild&&parseInt(r.firstChild.style.height,10)!==l&&(r.firstChild.style.height=l+"px")}}}}),H.ws&&H.nav.resScrollSpace&&(H.nav.resScrollSpace.style.top=H.Cl+"px")},this.eh=function(e){var t=this.separators[e];t.location=t.location||t.Location,t.color=t.color||t.Color,t.layer=t.layer||t.Layer,t.width=t.width||t.Width,t.opacity=t.opacity||t.Opacity;var n=new DayPilot.Date(t.location),i=t.color,a=t.width?t.width:1,r=!!t.layer&&"AboveEvents"===t.layer,l=t.opacity?t.opacity:100;if(!(n.getTime()<H.Ub().getTime()||n.getTime()>=H.je().getTime())){var s=this.getPixels(n);if(!s.cut&&!(s.left<0||s.left>H.Om())){var d=o();d.style.width=a+"px",d.style.height=H.Cl+"px",d.style.position="absolute",d.style.left=s.left-1+"px",d.style.top="0px",d.style.backgroundColor=i,d.style.opacity=l/100,d.style.filter="alpha(opacity="+l+")",d.className=H.ca("_separator"),t.cssClass&&(d.className+=" "+t.cssClass),t.toolTip&&(d.title=t.toolTip),r?this.divSeparatorsAbove.appendChild(d):this.divSeparators.appendChild(d),this.elements.separators.push(d)}}},this.jg=function(){},this.Ju=function(e){if("Disabled"===H.timeRangeDoubleClickHandling)return!1;n.Kv&&(clearTimeout(n.Kv),n.Kv=null),H.yn(e),e.stopPropagation(),e.cancelBubble=!0;var t=H.Tc(H.coords);if(t){var i=H.mo(t);H.Lc(i.start,i.end,i.resource)}else if(n.wq=H.xv(),n.wq){n.Lv=H;var i=H.mo(n.wq);H.Lc(i.start,i.end,i.resource),H.oo=n.wq}n.wq=null},this.Gu=function(e){var t,i,a=b(e);if("undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.hide(),!("Disabled"===H.timeRangeRightClickHandling&&a.right||y.touch.start||y.touch.active)){if(H.Mv(),H.ib(),H.yn(e),n.ln)return!1;if(H.Lg())return!1;var r=H.Tc(H.coords);if(a.middle||a.right&&r)return!1;if(r)return!1;var o=H.gi(H.coords.y,H.coords.grid).element,l=H.rn(H.coords.x),s=a.left?"left":a.right?"right":a.middle?"middle":"unknown";H.Nv=s;var d=e.ctrlKey,c=e.metaKey,u=e.shiftKey,h=H.multiRangeMode,f=d||c||"Always"===h,v={};if(v.action="None","Disabled"!==M.zn()&&u?v.action="RectangleSelect":"Disabled"!==H.timeRangeSelectedHandling&&(v.action="TimeRangeSelect"),v.shift=u,v.ctrl=u,v.meta=c,v.originalEvent=e,v.button=s,v.row=H.vo(o),v.start=null===(t=null===l||void 0===l?void 0:l.cell)||void 0===t?void 0:t.start,v.end=null===(i=null===l||void 0===l?void 0:l.cell)||void 0===i?void 0:i.end,v.preventDefault=function(){v.action="None"},"function"==typeof H.onGridMouseDown&&H.onGridMouseDown(v),"None"===v.action)return"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.hide({"calendar":H}),e.preventDefault(),e.stopPropagation(),!1;if("RectangleSelect"===v.action){var p={};return p.start=H.coords,p.calendar=H,n.ln=p,!1}return H.allowMultiRange&&!f&&P.clear(),!(o.isNewRow&&!H.rowCreateAllowTimeRangeSelection)&&(n.wq=H.xv(),n.wq&&(n.wq.ctrl=f,n.wq.Ov=H.coords,n.Lv=H),!1)}},this.xv=function(){var e={},t=H.rn(H.coords.x).x,n=H.getDate(H.coords.x,!0),i=H.gi(H.coords.y,H.coords.grid);if(H.qo()){var a=i.element.data.end,r=i.element.start.getTime()-H.Ub().getTime();if(n.addTime(r)>a)return null}e.start={y:i.i,x:t,"grid":H.coords.grid,"time":n},e.end={x:t,"time":n};var o=i.element.isNewRow&&H.rowCreateAllowTimeRangeSelection;return H.Gq(i.i,H.coords.grid)&&!o?null:(e.calendar=H,H.po(e),e)},this.bs=function(){H.Xf();var e=n.Nq,t=H.Pv,i={"start":e.start,"end":H.dk(e.end)};e.original=i;var a="left"===n.vq.dpBorder?"start":"end",r=e.original;if(!r||!t||t.start!==r.start||t.end!==r.end){J.clear(),J.Qr(),function(){e.overlapping=!1;var t=n.vq.event,i=H.rowlist[t.part.dayIndex],a=e.left,r=e.width,o=w(J.list).map(function(e){return e.event.data}).add(t.data);if(H.Wr(e,i,a,r,o),e.start){var l={"start":e.start,"end":H.dk(e.end)};H.Xr(e,l.start,l.end,i.id)}}();var o=n.vq;!function(){J.clear(),J.Qr(),t&&(s(e,t.cssClass),e.firstChild.innerHTML="");var r=o.event.part.dayIndex,l=H.rowlist[r];if(!t&&"function"==typeof H.onEventResizeStart){var c={e:o.event,control:H};c.anchor="end"===a?i.start:i.end,c.shift=H.coords.shift,c.ctrl=H.coords.ctrl,c.meta=H.coords.meta,c.alt=H.coords.alt,c.areaData=y.resizingAreaData,c.multiresize=J.Or().map(function(e){return{event:e.event}}),c.multiresize.splice(0,0,{event:o.event}),H.onEventResizeStart(c)}var u={};u.start=i.start,u.end=i.end,u.duration=new DayPilot.Duration(u.start,u.end),u.row=H.vo(l),u.e=o.event,u.allowed=!0,u.resizing=a,u.what=a,u.anchor="end"===u.what?i.start:i.end,u.areaData=y.resizingAreaData,u.left={},u.left.html=u.start.toString(H.eventResizingStartEndFormat,M.Xc()),u.left.enabled=H.eventResizingStartEndEnabled,u.left.space=5,u.left.width=null,u.left.height=H.eventHeight,u.right={},u.right.html=u.end.toString(H.eventResizingStartEndFormat,M.Xc()),u.right.enabled=H.eventResizingStartEndEnabled,u.right.space=5,u.right.width=null,u.right.height=H.eventHeight,u.cssClass=null,u.html=null,u.overlapping=u.row.events.forRange(u.start,u.end).filter(function(e){return!H.Ld(e,u.e)}).length>0,u.shift=H.coords.shift,u.ctrl=H.coords.ctrl,u.meta=H.coords.meta,u.alt=H.coords.alt,u.multiresize=J.Or();var h={};h.event=o.event,h.start=u.start,h.end=u.end,u.multiresize.splice(0,0,h),H.Pv=i,"function"==typeof H.onEventResizing&&H.onEventResizing(u),J.list=w(u.multiresize,!0),J.list.splice(0,1),J.zp(),e.allowed=u.allowed,d(e,u.cssClass),u.html&&(e.firstChild.innerHTML=u.html);var f=u.start,v=H.Jj(u.end);if(e.finalStart=f,e.finalEnd=v,"Days"===H.viewType||H.qo()){var p=l.start.getTime()-H.Ub().getTime();f=f.addTime(-p),v=v.addTime(-p)}var m=H.snapToGrid&&H.snapToGridEventResizing,g=m?H.getPixels(f).boxLeft:H.getPixels(f).left,b=m?H.getPixels(v).boxRight:H.getPixels(v).left;e.style.left=g+"px",e.style.width=b-g+"px",e.left=g,e.width=b-g;var x=w(J.list).map(function(e){return e.event.data}).add(o.event.data);H.Wr(n.Nq,l,g,b-g,x),H.Xr(n.Nq,e.finalStart,e.finalEnd,l.id),H.ds(n.Nq,u),H.es(n.Nq,u)}()}},this.Iu=function(e){if(n.ln)return e.cancelBubble=!0,e.preventDefault(),n.Hg(e),!1;if(H.vn={},H.oo||P.list.length>0){if(b(e).left){var t=H.Tc(H.coords);if(t){var i=function(e){return function(){n.Kv=null;var t=H.mo(e);if(t){var i={};i.start=t.start,i.end=t.end,i.resource=t.resource,i.preventDefault=function(){i.preventDefault.value=!0},"function"==typeof H.onTimeRangeClick&&H.onTimeRangeClick(i),i.preventDefault.value||"function"==typeof H.onTimeRangeClicked&&H.onTimeRangeClicked(i)}}};"Disabled"!==H.timeRangeClickHandling&&("Disabled"===H.timeRangeDoubleClickHandling?i(t)():(clearTimeout(n.Kv),n.Kv=setTimeout(i(t),H.doubleClickTimeout)))}}}b(e).right&&H.wv(e)},this.wv=function(e){if("Disabled"!==H.timeRangeSelectedHandling&&"Disabled"!==H.timeRangeRightClickHandling){var t=n.wq||H.oo||!w(P.list).isEmpty();if(t){var i=H.gi(H.coords.y,H.coords.grid);if(H.Gq(i.i,i.grid))return void(n.wq=null);var a=null,r=H.Tc(H.coords);if(a=r?H.mo(r):H.mo(),!a)return void(n.wq=null);var o=r&&r.args,l=t.args,s=o&&o.ignoreDisabledCells||l&&l.ignoreDisabledCells;if((H.Zc(a.start,a.end,a.resource)||l&&l.overlapping&&!H.allowEventOverlap)&&!s)return n.wq=null,void H.clearSelection();a.end=H.dk(a.end);var d={};d.start=a.start,d.end=a.end,d.resource=a.resource,d.ctrl=e.ctrlKey,d.shift=e.shiftKey,d.meta=e.metaKey,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof H.onTimeRangeRightClick&&(H.onTimeRangeRightClick(d),d.preventDefault.value)||("ContextMenu"===H.timeRangeRightClickHandling&&H.contextMenuSelection&&H.contextMenuSelection.show(a),"function"==typeof H.onTimeRangeRightClicked&&H.onTimeRangeRightClicked(d))}}},this.Lg=function(){return!!(n.vq||n.vn||n.wq||y.drag||T.row)||!!H.vn.uv},this.dragInProgress=function(){return H.Lg()},this.yn=function(e){var t=DayPilot.mo3(H.um,e);if(t=t||{},t.grid="main",H.wm.top.enabled()){var n=H.wm.top,i=DayPilot.mo3(n.divCells,e);i&&i.y>0&&i.y<=n.height&&(t=i,t.grid="top")}if(H.wm.bottom.enabled()){var a=H.wm.bottom,r=DayPilot.mo3(a.divCells,e);r&&r.y>0&&r.y<=a.height&&(t=r,t.grid="bottom")}t.stamp=t.grid+"_"+t.x+"_"+t.y,H.coords&&H.coords.stamp===t.stamp||(H.coords=t)},this.getCoords=function(){if(!H.coords)return null;var e={};e.x=H.coords.x,e.y=H.coords.y,e.grid=H.coords.grid;var t=H.gi(e.y,e.grid).element;return e.row=H.vo(t),e.time=H.getDate(e.x,!0),e.cell=H.cells.findByPixels(e.x,e.y,e.grid)[0],e.event=H.coords.insideEvent?H.coords.insideEvent:null,e.eventOffset=null,e.event&&(e.eventOffset=v(H.eventOffset,{},["x","y"])),e},this.Eu=!0,this.ms=function(e){if(!y.touch.active){var t=DayPilot.mc(e);if(H.yn(e),e.insideMainD=!0,H.Eu=!0,H.vn.uv){var i=2,a=DayPilot.distance(H.vn.Yf,t);a>i&&(v(H.vn,n),r().style.cursor="move",H.vn={})}if(n.vq&&n.Oq.calendar===H)n.vq.event||(n.vq.event=n.Oq),H.Qv();else if(n.sq){var o=n.sq.calendar,l=o!==H;if(o&&!o.dragOutAllowed&&l)return;l&&o&&n.sq.calendar.gb(),n.sq.part.external=l,n.vn&&H.Rv()}else if(n.wq&&n.wq.calendar===H){H.Sv();var s=n.wq,i=2,a=DayPilot.distance(s.Ov,H.coords);(a>i||s.start.x!==s.end.x)&&(s.moved=!0)}else if(D.source){var d=D.source;Y.Nj(d.coords,H.coords)}else n.ln&&(n.ln.moved=!0,clearTimeout(L.Tv),L.Tv=setTimeout(function(){L.draw()},0));"Disabled"!==H.crosshairType&&H.Uv(),H.Vv();var c=H.coords.insideEvent;if(H.cellBubble&&H.coords&&H.rowlist&&H.rowlist.length>0&&!c){var u=H.rn(H.coords.x).x,h=H.gi(H.coords.y,H.coords.grid).i;if(0<=h&&h<H.rowlist.length&&0<=u&&u<H.itline.length){var f={};f.calendar=H,f.start=H.itline[u].start,f.end=H.itline[u].end,f.resource=H.rowlist[h].id,f.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e};var p=H.coords.grid+"_"+u+"_"+h,m=H.va.cells[p];H.cellBubble.showCell(f,m)}}var g=y.drag;if(g){if(H.Mv(),n.Wv&&r().removeChild(n.Wv),n.Wv=null,!n.$r&&H.coords&&H.rowlist.length>0){if(!n.sq){n.vn=g.Xv||{};var b=g.Xv?g.Xv.event:null,w=b||g.event;if(w)if(H!==w.calendar){var o=w.calendar,x=w,k=v(w.data);w=new DayPilot.Event(k),w.calendar=o,w.part.duration=o.Aq(x),w.part.external=!0}else w.part.external=!1;else{var C=H.Yv();w=new DayPilot.Event(C),w.calendar=H,w.calendar=null,w.part.duration=1e3*g.duration,w.part.external=!0}n.vn.event||(n.vn.event=w),n.sq=w}n.$r=H.Lb(n.sq)}e.cancelBubble=!0}if(n.Ct){var _=n.Wv;_.style.left=t.x+"px",_.style.top=t.y+"px"}var T={x:H.coords.x,y:H.coords.y,"grid":H.coords.grid};H.bg(T)}},this.Yv=function(){var e,t=H.itline[0].start,n=y.drag,i=n.ag;if(i)e=v(i,{}),e.start=t,e.end=t.addSeconds(n.duration);else{e={"id":n.id,"start":t,"end":t.addSeconds(n.duration),"text":n.text};var a=n._f;if(a){var r=["duration","element","remove","id","text"];for(var o in a)x(r,o)||(e[o]=a[o])}}return e},this.bg=function(e){var t=e.grid,i=!!(n.vn||n.vq||n.wq||n.ln||D.source),a="Always"===H.autoScroll,r="Drag"===H.autoScroll&&i,o=a||r,l=!H.autoScrollHorizontal,s=!H.autoScrollVertical||n.vq||n.wq||"main"!==t;if(r&&!H.autoScrollRectangleSelection&&n.ln&&(o=!1),"Auto"!==H.cellWidthSpec||H.Wm||(l=!0),o){var d=H.nav.scroll;e.x-=d.scrollLeft,e.x+=q.Cm,e.y-=d.scrollTop;var c=d.clientWidth,u=d.clientHeight,h=30,f=e.x<h?e.x:0,v=c-e.x<h?c-e.x:0,p=H.wm.top.height,m=e.y-p,g=m<h&&m>0?m:0,b=u-H.wm.bottom.height-H.wm.top.height,y=b-m<h?u-e.y:0,w=0,x=0,k=H.autoScrollSpeed;f&&(w=-k*E(f,h)),v&&(w=k*E(v,h)),g&&(x=-k*E(g,h)/2),y&&(x=k*E(g,h)/2),s&&(x=0),l&&(w=0),w||x?(clearTimeout(H.Zv),H.Zv=setTimeout(function(){H.Pg(w,x)},H.autoScrollDelay)):H.ib()}},this.Sv=function(){var e=n.wq,t=H.rn(H.coords.x).x,i=H.getDate(H.coords.x,!0);if(H.qo()){var a=H.bp(e.start.grid),r=a.rowlist,o=r[e.start.y],l=o.data.end,s=o.start.getTime()-H.Ub().getTime();if(i.addTime(s)>=l)return}e.end={x:t,"time":i},H.po(e)},this.Qv=function(){n.Nq||(n.Nq=H.Lb(n.vq)),H.as()},this.Rv=function(){if(n.$r&&n.$r.calendar!==H&&n.$r.calendar&&(n.$r.calendar.gb(),n.$r.calendar=null,k(n.$r),n.$r=null),!n.$r){d(n.vn,H.ca(R.eventMovingSource));var e=n.sq;n.$r=H.Lb(e)}H.Jq(),H.Lq()},H.ja()&&!H.Ga.startsWith("ja")&&(Z.Cr=null),L.start=function(){var e={};e.start=H.coords,e.calendar=H,n.ln=e},L.draw=function(){var e=n.ln;if(e){var t=n.ln.start,i=H.coords,a=H.Om(),r=H.Cl;i.x=Math.min(i.x,a),i.y=Math.min(i.y,r),L.clear();var o,l,s,d,u,h,f,v,p={"x":e.x,"y":e.y,"width":e.width,"height":e.height};if(function(){u=Math.min(t.x,i.x),f=Math.max(t.x,i.x),"Free"===M.zn()?(h=Math.min(t.y,i.y),v=Math.max(t.y,i.y)):"Row"===M.zn()&&(h=t.y,v=t.y)}(),"Free"===M.zn())o=u,l=h,s=f-u,d=v-h;else{if("Row"!==M.zn())throw new DayPilot.Exception("Invalid DayPilot.Scheduler.rectangleSelectMode value: "+H.rectangleSelectMode);var m=H.gi(h).i,g=H.rowlist[m];l=g.top,d=g.height;if(H.snapToGrid&&H.snapToGridRectangleSelecting){o=H.rn(u).cell.left;var b=H.rn(f).cell;s=b.left+b.width-o}else o=u,s=f-u}var y=c(null,o,l,s,d);if(y.style.boxSizing="border-box",y.className=H.ca("_selectionrectangle"),e.$v&&(e.$v.visible||(y.style.display="none")),e.x=o,e.y=l,e.width=s,e.height=d,!(e.x===p.x&&e.y===p.y&&e.width===p.width&&e.height===p.height||"function"!=typeof H.onRectangleEventSelecting&&"function"!=typeof H.onRectangleSelecting)){var w=H.gi(e.y),x=w.i,k=H.gi(e.y+e.height),C=k.i,_={"start":{"y":x},"end":{"y":C}},T=H.Mo(_),D=w.element.start.getTime()-H.Ub().getTime(),S=k.element.start.getTime()-H.Ub().getTime(),E={};E.events=X.Hm(e.x,e.y,e.width,e.height),E.start=H.getDate(e.x,!0).addTime(D),E.end=H.getDate(e.x+e.width,!0).addTime(S),E.resources=T,E.visible=!0,"function"==typeof H.onRectangleEventSelecting&&H.onRectangleEventSelecting(E),"function"==typeof H.onRectangleSelecting&&H.onRectangleSelecting(E),e.$v=E,y.style.display=E.visible?"":"none"}H.divRectangle.appendChild(y)}},L.clear=function(){H.divRectangle.innerHTML="",H.elements.rectangle=[]},this._v=function(){if(!H.coords)return null;if(!H.Mu())return null;if(!H.itline||0===H.itline.length)return null;var e=H.rn(H.coords.x).x,t=H.gi(H.coords.y,H.coords.grid).element;if(!t)return null;var n=t.index;return H.cells.findXy(e,n,H.coords.grid)[0]};this.Vv=function(){var e=this._v();if(this.hover.cell){if(this.hover.cell.x===e.x&&this.hover.cell.y===e.y&&this.hover.cell.grid===e.grid)return;this.Fu()}this.hover.cell=e;var t={};t.cell=e,"function"==typeof this.onCellMouseOver&&this.onCellMouseOver(t),"function"==typeof this.onCellMouseEnter&&this.onCellMouseEnter(t)};this.Fu=function(){if(this.hover.cell){var e={};e.cell=this.hover.cell,"function"==typeof this.onCellMouseOut&&this.onCellMouseOut(e),"function"==typeof this.onCellMouseLeave&&this.onCellMouseLeave(e),this.hover.cell=null}},this.hover={},this.Uv=function(){var e=H.aw();if(e){var t=H.hover.crosshair;t&&t.x===e.x&&t.y===e.y&&t.grid===e.grid&&t.thX===e.thX||(H.hover.crosshair=e,this.Wf())}},this.aw=function(){if(!H.coords)return null;if(!H.Mu())return null;if(!H.itline||0===H.itline.length)return null;var e=H.gi(H.coords.y,H.coords.grid).element;if(!e)return null;var t=e.index,n=null,i=H.rn(H.coords.x);i&&(n=i.x);var a=H.bw(),r=null,o=H.or(a,H.coords.x);return o&&(r=o.x),{"x":n,"thX":r,"y":t,"grid":H.coords.grid}},this.Mv=function(){this.wm.top.divCrosshair.innerHTML="",this.wm.main.divCrosshair.innerHTML="",this.wm.bottom.divCrosshair.innerHTML="",this.cw=null,this.dw=null},this.hb=function(){if(this.Mv(),H.hover.crosshair=null,this.Wo&&this.Wo.parentNode&&(this.Wo.parentNode.removeChild(this.Wo),this.Wo=null),this.Vo){for(var e=0;e<this.Vo.length;e++){var t=this.Vo[e];t.parentNode&&t.parentNode.removeChild(t)}this.Vo=null}this.Bl=-1,this.Al=-1,this.ew=null},this.bw=function(){var e=this.timeHeader?this.timeHeader.length-1:1;return"number"==typeof H.crosshairTimeHeaderLevel&&H.crosshairTimeHeaderLevel<e&&H.crosshairTimeHeaderLevel>=0&&(e=H.crosshairTimeHeaderLevel),e},this.Wf=function(){function e(e,t){var n=H.wm[e],i=n.height,a=t.left,r=H.cw[e];r||(r=o(),r.style.height=i+"px",r.style.position="absolute",r.style.top="0px",r.style.pointerEvents="none",r.className=H.ca("_crosshair_vertical"),H.cw[e]=r,n.divCrosshair.appendChild(r)),r.style.left=a+"px",r.style.width=t.width+"px"}if(H.coords&&H.Mu()){var t=H.gi(H.coords.y,H.coords.grid).element;if(t){var n=H.rn(H.coords.x).x,i=t.index,a=t.grid,r=H.bp(a),l=["top","main","bottom"],s=this.crosshairType;if(this.cw||(this.cw={}),"Full"===s){var d=this.itline[n];l.forEach(function(t){e(t,d)});var c=t.top,u=t.height,h=H.Om(),f=H.dw;f&&f.parentNode&&H.ew!==a&&(f.parentNode.removeChild(f),f=null),f||(f=o(),f.style.width=h+"px",f.style.height=u+"px",f.style.position="absolute",f.style.top=c+"px",f.style.left="0px",f.style.pointerEvents="none",f.className=H.ca("_crosshair_horizontal"),H.dw=f,r.divCrosshair.appendChild(f)),f.style.top=c+"px",f.style.height=u+"px"}var v=H.bw(),p=H.or(v,H.coords.x);if(p&&H.Bl!==p.x){H.Wo&&this.Wo.parentNode&&(H.Wo.parentNode.removeChild(H.Wo),H.Wo=null);var u=O.Lr(v).height,f=o();f.style.width=p.cell.width+"px",f.style.height=u+"px",f.style.left="0px",f.style.top="0px",f.style.position="absolute",f.className=H.ca("_crosshair_top"),H.Wo=f;var m=this.divNorth,g=v;H.nav.timeHeader?H.va.timeHeader[p.x+"_"+g].appendChild(f):m&&m.firstChild.rows[g].cells[n]&&m.firstChild.rows[g].cells[n].firstChild.appendChild(f)}if(H.Al!==i||H.ew!==a){if(H.Vo){for(var b=0;b<H.Vo.length;b++){var y=H.Vo[b];y.parentNode&&y.parentNode.removeChild(y)}H.Vo=null}if(H.Vo=[],r.rowlist[i])for(var b=0;b<r.rowlist[i].cells.length;b++){var w=r.rowlist[i].cells[b],x=w.refCell,u=t.height,k=i;x?(u=x.row.split.totalHeight(),k=x.y):w.rowspan>1&&(u=w.totalHeight());var C=r.divHeader.rows[k]&&r.divHeader.rows[k].cells[b];if(C){var h=H.Rm(),f=o();f.style.width=h+"px",f.style.height=u+"px",f.style.left="0px",f.style.top="0px",f.style.position="absolute",f.className=H.ca("_crosshair_left"),H.Vo.push(f),r.divHeader.rows[k].cells[b].firstChild.appendChild(f)}}}p&&(H.Bl=p.x),H.Al=i,H.ew=a}}},this.or=function(e,t){var n=H.timeHeader[e];if(!n)return null;for(var i=0;i<n.length;i++){var a=n[i];if(t>=a.left&&t<a.left+a.width){var r={};return r.cell=a,r.x=i,r}}return null},this.fw=function(e){return H.or(H.timeHeader.length-1,e)},this.Hu=function(e){if(e.cancelBubble=!0,!H.allowDefaultContextMenu)return!1},this.Tc=function(e){function t(t){if(!t||!t.start||!t.end)return!1;t=t.yv?t.yv:t;var n=t.start.grid,i=H.Up(t.start.y,t.start.grid),a=0;"main"===n&&(a=H.wm.top.height);var r=t.start.time.getTime()<t.end.time.getTime(),o=r?t.start.x:t.end.x,l=r?t.end.x:t.start.x,s=H.itline[o].left,d=H.itline[l],c=d.left+d.width,u=i.top+a,h=i.bottom+a,f=e.x>=s&&e.x<=c,v=e.y>=u&&e.y<=h,p=e.grid===t.start.grid;return!!(f&&v&&p)&&t}var n=H.oo;return n?t(n):w(P.list).isEmpty()?void 0:P.list.find(function(e){return t(e)})},this.po=function(e,t){function i(e,t){var n,i,a,r,d=e.end.time>e.start.time,h=e.start.y,f=e.start.time&&e.end.time;if(s||!f){var v=d?e.start.x:e.end.x,p=d?e.end.x:e.start.x,m=H.itline[v],g=H.itline[p];n=m.left,i=g.left+g.width}else d?(a=e.start.time,r=e.end.time):(a=e.end.time,r=e.start.time),n=H.getPixels(a).left,i=H.getPixels(r).left;var b=i-n,y=H.elements.range2;if(!y){y=o(),y.style.position="absolute";var w=o();w.className=H.ca("_shadow_inner"),l&&(y.style.borderRadius=l,w.style.borderRadius=l),y.appendChild(w),c.divShadow.appendChild(y)}y.grid!==e.start.grid&&(y.parentNode.removeChild(y),c.divShadow.appendChild(y));var x=u[h];return y.className=H.ca("_shadow"),y.firstChild.innerHTML="",y.style.left=n+"px",y.style.top=x.top+"px",y.style.width=b+"px",y.style.height=x.height-1+"px",y.calendar=H,y.grid=e.start.grid,y.row=x,H.elements.range2=y,function(){y.overlapping=!1;var i=u[h];H.Wr(y,i,n,b,null);var a=d?e.start.time:e.end.time,r=d?e.end.time:e.start.time;t.ignoreDisabledCells||H.Xr(y,a,r,i.id)}(),y}if(e=e||n.wq,e&&e.calendar===H){n.Yp&&n.Yp.blur(),t=t||{};var a=t.justDraw,r=e.forceSnap,l=H.eventBorderRadius;"number"==typeof l&&(l+="px");var s=H.snapToGrid&&H.snapToGridTimeRangeSelecting;r&&(s=!0);var c=H.bp(e.start.grid),u=c.rowlist;!function(){var t=e.end.time>=e.start.time,n=t?e.start.x:e.end.x,r=t?e.end.x:e.start.x,o=e.start.y,l=u[o];if(l&&!l.hidden){var c=H.itline[n],h=H.itline[r],f=H.gw,v=c.start.addTime(l.data.offset),p=h.end.addTime(l.data.offset);if(s||(t?(v=e.start.time,p=e.end.time):(v=e.end.time,p=e.start.time)),a||!f||f.start.getTime()!==v.getTime()||f.rawend.getTime()!==p.getTime()||f.resource!==u[o].id){var m={"start":v,"end":H.dk(p),"rawend":p,"resource":u[o].id},g={};g.anchor=t?m.start:m.end,g.start=m.start,g.end=m.end,g.duration=new DayPilot.Duration(v,p),g.resource=u[o].id,g.row=H.vo(l),g.allowed=!0,g.control=H,g.ignoreDisabledCells=!1,g.left={},g.left.html=g.start.toString(H.timeRangeSelectingStartEndFormat,M.Xc()),g.left.enabled=H.timeRangeSelectingStartEndEnabled,g.left.space=5,g.left.width=null,g.left.height=H.eventHeight,g.right={},g.right.html=g.end.toString(H.timeRangeSelectingStartEndFormat,M.Xc()),g.right.enabled=H.timeRangeSelectingStartEndEnabled,g.right.space=5,g.right.width=null,g.right.height=H.eventHeight,g.overlapping=g.row.events.forRange(v,p).length>0,g.html=null,g.cssClass=null,g.button=H.Nv,g.multirange=H.Kl.get(!1),H.gw=m,"function"!=typeof H.onTimeRangeSelecting||a||(H.onTimeRangeSelecting(g),g.resource=m.resource),g.end=H.Jj(g.end),e.args=g;var b=H.hw(e);H.no(b,g.start,g.end);var y=i(b,g);g.html&&(y.firstChild.innerHTML=g.html),g.cssClass&&d(y,g.cssClass),H.ds(y,g),e.yv=b,e.disabled=!g.allowed,H.es(y,g)}}}()}},this.hw=function(e){return{"start":{"x":e.start.x,"y":e.start.y,"time":e.start.time,"grid":e.start.grid},"end":{"x":e.end.x,"time":e.end.time},"disabled":e.disabled,"calendar":e.calendar,"args":e.args,"forceSnap":e.forceSnap}},this.range={},this.range.all=function(){return H.multirange.get()},this.multirange={},this.multirange.get=function(){return P.get(!0)},this.multirange.add=function(e){if(!e)throw new DayPilot.Exception("Range not specified");if(!e.start||!e.end)throw new DayPilot.Exception("Invalid range specified");if(w(P.list).isEmpty()){var t=H.mo();if(t){var n=H.iw(t.start,t.end,t.resource);H.Kl.add(n)}}var i=H.iw(e.start,e.end,e.resource);H.po(i),H.Kl.add(i)},this.multirange.clear=function(){P.clear(),H.clearSelection(),H.gw=null},this.Kl.list=[],this.Kl.drawLaterTimeout=null,this.Kl.drawLater=function(){clearTimeout(H.Kl.drawLaterTimeout),H.Kl.drawLaterTimeout=setTimeout(function(){P.zp()},0)},this.Kl.zp=function(){k(w(P.list).map(function(e){return e.div})),P.list.forEach(function(e){H.elements.range2=null,H.po(e,{"justDraw":!0})})},this.Kl.clear=function(){k(w(P.list).map(function(e){return e.div})),P.list=[]},this.Kl.add=function(e){e.div=H.elements.range2,H.elements.range2=null,H.ls(),P.list.push(e)},this.Kl.get=function(e){var t=w(P.list).map(function(e){return H.mo(e)});if(e&&t.isEmpty()){var n=H.mo();n&&t.push(n)}return t},this.Kl.dispatch=function(){if(H.allowMultiRange&&!n.wq){var e=w(P.list).last();H.lo(e)}},this.jw=function(e){if("Disabled"===H.timeRangeSelectedHandling)return!1;if(!y.touch.active&&!y.touch.start){var t=b(e);if(!n.wq&&!n.ln&&!(H.oo&&H.Tc(H.coords)&&(t.right||t.middle)||H.Gq(H.gi(H.coords.y).i,H.coords.grid))){var i={},a=H.rn(H.coords.x).x;i.start={y:H.gi(H.coords.y).i,x:a,"grid":H.coords.grid},i.end={x:a},i.calendar=H,H.oo=i,H.lo(i,"click")}}},this.wn={},this.wn.Fb=null,this.wn.drawCells=null,this.wn.drawRows=null,this.wn.click=null,this.wn.resClick=[],this.wn.updateFloats=null,this.om=function(e,t){if(!H.Aa){t=t||{},"undefined"==typeof DayPilot.Bubble||t.dontHideBubble||DayPilot.Bubble.hideActive(),H.Ka();var a=H.nav.scroll;if(H._q=a.scrollLeft,H.Yq=a.scrollTop,H.Uu=a.clientWidth,H.divTimeScroll&&(H.divTimeScroll.scrollLeft=H._q),H.wm.top.enabled()&&(H.wm.top.div.scrollLeft=H._q),H.wm.bottom.enabled()&&(H.wm.bottom.div.scrollLeft=H._q),DayPilot.browser.ios&&n.tu?i():H.divResScroll.scrollTop=H.Yq,q.in()&&H.za&&"Auto"!==H.cellWidthSpec&&!H.tm)if(q.s)i();else{if(H.nav.scroll.scrollLeft<H.infiniteScrollingMargin)return q.s=!0,H.nav.scroll.style.overflowX="hidden",void setTimeout(function(){q.cn(-H.infiniteScrollingStepDays)},100);if(H.nav.scroll.scrollWidth-(H.nav.scroll.scrollLeft+H.nav.scroll.clientWidth)<H.infiniteScrollingMargin)return q.s=!0,q.kn=H.nav.scroll.scrollLeft,H.nav.scroll.style.overflowX="hidden",void setTimeout(function(){q.cn(H.infiniteScrollingStepDays)},100)}if(H.navigatorBackSync&&!function(){var e=DayPilot.Util.evalVariable(H.navigatorBackSync),t=H.getViewPort().start;e.select(t,{"dontNotify":!0,"dontFocus":!0})}(),H.progressiveRowRendering&&(H.wn.drawRows&&(clearTimeout(H.wn.drawRows),H.wn.drawRows=null),H.scrollDelayRows>0?H.wn.drawRows=setTimeout(function(){H.On()},H.scrollDelayRows):H.On()),H.wn.drawCells&&(clearTimeout(H.wn.drawCells),H.wn.drawCells=null),H.scrollDelayCells>0)H.wn.drawCells=setTimeout(H.kw(),H.scrollDelayCells);else{H.kw()()}if(H.dynamicLoading)return H.Bk(),void H.lw();H.wn.Fb&&(clearTimeout(H.wn.Fb),H.wn.Fb=null),H.scrollDelayEvents>0?H.wn.Fb=setTimeout(H.mw(),H.scrollDelayEvents):H.Fb(),H.wn.updateFloats&&(clearTimeout(H.wn.updateFloats),H.wn.updateFloats=null),H.scrollDelayFloats>0?H.wn.updateFloats=setTimeout(function(){H.mm()},H.scrollDelayFloats):H.mm(),H.onScrollCalled=!0}},this.kw=function(){return function(){H&&(H.Bk(),H.im())}},this.mw=function(){return function(){H&&(H.fv()?window.setTimeout(function(){H.cv(),window.setTimeout(function(){H.Fb(!0)},50)},50):H.Fm())}},this.Tu=function(){if(H.dynamicLoading&&"function"==typeof H.onScrollEnd&&!H.Aa){var e=function(e){var t=function(){if(H.Kb()&&"function"==typeof H.onAfterRender){var e={};e.isCallBack=!1,e.isScroll=!0,e.data=null,H.onAfterRender(e)}};H.km(e.events,t,e)},t={};t.viewport=H.getViewPort(),t.async=!0,t.events=[],t.remove=[],t.clearEvents=!0,t.dontForceCellRendering=!1,t.loaded=function(){this.async&&e(t)},H.onScrollEnd(t),t.async||e(t)}},this.Ka=function(){H.va.eventHeight=null,H.va.drawArea=null},this.show=function(){H.visible=!0,H.El=!0,H.nav.top.style.display="",H.D(),H.Hb(),H.fq(),H.om()},this.hide=function(){H.visible=!1,H.El=!1,H.nav.top.style.display="none"},this.lw=function(){var e=H.nav.scroll;H._q=e.scrollLeft,H.Yq=e.scrollTop,H.Uu=e.clientWidth,H.divTimeScroll.scrollLeft=H._q,H.divResScroll.scrollTop=H.Yq,H.refreshTimeout&&window.clearTimeout(H.refreshTimeout);var t=H.scrollDelayDynamic;H.nw||(H.refreshTimeout=window.setTimeout(H.ow(e.scrollLeft,e.scrollTop),t)),H.mm()},this.oh=function(e){if(!H.events.list)return null;for(var t=0;t<this.events.list.length;t++){var n=this.events.list[t];if(H.Ld(n,e)){var i={};return i.ex=n,i.index=t,i.modified=!H.ph(e,n),i}}return null},this.ph=function(e,t){for(var n in e)if(("object"!=typeof e[n]||e[n]instanceof DayPilot.Date)&&e[n]!==t[n])return!1;for(var i in t)if("object"!=typeof t[i]&&e[i]!==t[i])return!1;return!0},this.nw=!1,this.km=function(e,t,n){H.nw=!0;var i=n&&n.clearEvents,a=n&&n.remove,r=n&&n.dontForceCellRendering,o=[];if(H.events.list||(H.events.list=[]),i)H.tb(e),Y.Zl();else{var l=[];w(a).forEach(function(e){var t=w(H.events.list).find(function(t){return t.id===e});t&&l.push(t)}),l.forEach(function(e){var t=H.events.Cn(e);o=o.concat(t),DayPilot.rfa(H.events.list,e)});for(var s=[],d=0;d<e.length;d++){var c=e[d];s[d]=H.oh(c)}for(var d=0;d<e.length;d++){var c=e[d],u=s[d],h=u&&u.modified,f=!u;if(h){this.events.list[u.index]=c;var v=H.events.Cn(u.ex);o=o.concat(v)}else f&&this.events.list.push(c);(h||f)&&(o=o.concat(H.events.Dn(c)))}H.En(o),H.Fn()}if(H.dm(),H.Bb(),i||r){H.Ya();var p=H.fo||!H.beforeCellRenderCaching;p&&H.fm(),H.em(),p?H.im():H.fq(),H.Fb(),null===t||void 0===t?void 0:t()}else H.Gn(o,!1,function(){null===t||void 0===t?void 0:t(),H.cv(),H.Fb()}),H.fq();setTimeout(function(){H.nw=!1},0)},this.ow=function(e,t){return H.ja()?function(){H.scrollX=e,H.scrollY=t,H.Pa("Scroll")}:function(){if("function"==typeof H.onScroll){var e=function(e){var t=function(){if(H.Kb()&&"function"==typeof H.onAfterRender){var e={};e.isCallBack=!1,e.isScroll=!0,e.data=null,H.onAfterRender(e)}};H.km(e.events,t,e)},t={};t.viewport=H.getViewPort(),t.async=!0,t.events=[],t.remove=[],t.clearEvents=!0,t.dontForceCellRendering=!1,t.loaded=function(){this.async&&e(t)},H.onScroll(t),t.async||e(t)}}},this.pw=function(){var e=this.xd(),t=e.xStart,n=e.xEnd-e.xStart,i=e.yStart,a=e.yEnd-e.yStart;this.cellProperties||(this.cellProperties={});for(var r=H.wm.top,o=H.wm.bottom,l=0;l<=n;l++){
for(var s=t+l,d=0;d<a;d++){var c=i+d;this.rowlist[c].hidden||this._e(s,c)}if(this.qw(s),r.enabled()){for(var c=0;c<r.rowlist.length;c++)this._e(s,c,"top");this.qw(s,"top")}if(o.enabled()){for(var c=0;c<o.rowlist.length;c++)this._e(s,c,"bottom");this.qw(s,"bottom")}}for(var u=this.ps(),c=u.start;c<u.end;c++)this.rowlist[c].hidden||this.rw(c);if(r.enabled())for(var c=0;c<r.rowlist.length;c++)r.rowlist[c].hidden||this.rw(c,"top");if(o.enabled())for(var c=0;c<o.rowlist.length;c++)o.rowlist[c].hidden||this.rw(c,"bottom")},this.im=function(){if(!H.Aa){var e=H.gn();if(e&&e.length>0){if(this.cellSweeping){var t=this.cellSweepingCacheSize;this.ev(t)}N.Zp(),this.pw(),this.tw(),N.Go({"dontFocus":!0})}this.fo=!1}},this.tw=function(){for(var e=this.xd(),t=H.wm.top,n=H.wm.bottom,i=e.xStart;i<e.xEnd;i++){i<this.itline.length-1&&this.itline[i+1].breakBefore&&(this.uw(i),t.enabled()&&this.uw(i,"top"),n.enabled()&&this.uw(i,"bottom"))}},this.uw=function(e,t){t=t||"main";var n=H.wm[t],i=n.divBreaks,a="main"===t,r=a?H.Cl:n.height,l=t+"_x_"+e;if(!this.va.breaks[l]){var s={};if("function"==typeof H.onBeforeGridLineRender){var d=H.itline[e],c=H.itline[e+1];if(s.start=d&&d.end,s.end=c&&c.start,s.hidden=!1,s.cssClass=null,s.type="VerticalBreak",s.grid=t,s.color=null,H.onBeforeGridLineRender(s),s.hidden)return}var u=H.itline[e+1].left-1,h=o();h.style.left=u+"px",h.style.top="0px",h.style.width="1px",h.style.height=r+"px",h.style.fontSize="1px",h.style.lineHeight="1px",h.style.overflow="hidden",h.style.position="absolute",h.className=this.ca("_matrix_vertical_break"),s.cssClass&&(h.className+=" "+s.cssClass),s.color&&(h.style.backgroundColor=s.color),i.appendChild(h),this.elements.breaks.push(h),this.va.breaks[l]=h}},this.xd=function(){if(H.va.drawArea)return H.va.drawArea;if(!this.nav.scroll)return null;var e=H.Yq,t={},n=M.hv(),i=M._u(),a=H._q-n-q.Cm,r=a+H.Uu+2*n,o=0,l=0;if(H.itline&&H.itline.length>0){o=H.rn(a).x,l=H.rn(r,!0).x;var s=this.kr();l=Math.min(l,s),o=u(o,0)}var d=e-i,c=e+this.nav.scroll.offsetHeight+2*i,h=this.gi(d).i,f=this.gi(c).i;f<this.rowlist.length&&f++,t.xStart=o,t.xEnd=l,t.yStart=h,t.yEnd=f;var v=H.nav.scroll;return 0===v.clientWidth&&(v=H.divTimeScroll),t.pixels={},t.pixels.left=v.scrollLeft-q.Cm,t.pixels.right=v.scrollLeft-q.Cm+v.clientWidth,t.pixels.top=v.scrollTop,t.pixels.bottom=v.scrollTop+v.clientHeight,t.pixels.width=v.scrollWidth,t.sw=DayPilot.sw(H.nav.scroll),H.va.drawArea=t,t},this.Om=function(){var e=0,t=this.itline[this.itline.length-1];return e=t?t.left+t.width:0,(e<0||isNaN(e))&&(e=0),e},this.rw=function(e,t){t=t||"main";var n=H.wm[t],i=n.rowlist,a=n.divLines,r=t+"_y_"+e;if(!this.va.Gl[r]){var l=i[e],s={};if("function"!=typeof H.onBeforeGridLineRender||(s.row=H.vo(l),s.hidden=!1,s.cssClass=null,s.type="HorizontalLine",s.color=null,H.onBeforeGridLineRender(s),!s.hidden)){var d="number"==typeof l.forcedHeight?l.forcedHeight:l.height,c=l.top+d-1,u=this.Om(),h=o(),f=h.style;f.left="0px",f.top=c+"px",f.width=u+"px",f.height="1px",f.fontSize="1px",f.lineHeight="1px",f.overflow="hidden",f.position="absolute",h.className=this.ca("_matrix_horizontal_line"),s.cssClass&&(h.className+=" "+s.cssClass),s.color&&(f.backgroundColor=s.color),a.appendChild(h),this.va.Gl[r]=h}}},this.qw=function(e,t){var n=this.itline[e];if(n){t=t||"main";var i=H.wm[t],a=i.divLines,r="main"===t,l=r?H.Cl:i.height,s=t+"_x_"+e;if(!this.va.Fl[s]){var d={};if("function"!=typeof H.onBeforeGridLineRender||(d.start=n.start,d.end=n.end,d.hidden=!1,d.cssClass=null,d.type="VerticalLine",d.color=null,H.onBeforeGridLineRender(d),!d.hidden)){var c=n.left+n.width-1,u=o(),h=u.style;h.left=c+"px",h.top="0px",h.width="1px",h.height=l+"px",h.fontSize="1px",h.lineHeight="1px",h.overflow="hidden",h.position="absolute",u.className=this.ca("_matrix_vertical_line"),d.cssClass&&(u.className+=" "+d.cssClass),d.color&&(h.backgroundColor=d.color),a.appendChild(u),this.elements.linesVertical.push(u),this.va.Fl[s]=u}}}},this.Kq=function(e,t){function n(){var t=H.vw(e,i.expanded,!1);if(!a)for(var n=0;n<t.length;n++){var r=t[n];H.go(r)}H.Yl(),H.Xs(),H.Bb(),H.Bk();var o=H.vo(i,e);a?H.Fo(o):H.Eo(o)}H.sm.kq&&(H.sm.skip=!0);var i=this.rowlist[e],a=!i.expanded;if(i.expanded=a,i.resource&&(i.resource.expanded=a),t=t||{},H.Yl({"includeHidden":!0}),H.treeAnimation&&!t.notAnimated){var r=this.vw(e,i.expanded,!0);H.Ws(r,a?"show":"hide",function(){n()})}else n()},this.Xs=function(e){H.dm(),H.$l(),H._l(),H.Bb(),H.Ka(),H.io(),Y.Kn(),H.fm(),H.im(),H.On(e),H.Fb(),H.Ka()},this.Ps=function(e){var t={};if(t.index=e,"function"==typeof this.onLoadNode){var n={},i=this.rowlist[e].resource;n.resource=i,n.async=!1,n.loaded=function(){this.async&&(i.dynamicChildren=!1,i.expanded=!0,H.update())},this.onLoadNode(n),n.async||(i.dynamicChildren=!1,i.expanded=!0,this.update())}else this.Pa("LoadNode",t)},this.vw=function(e,t,n){var i=this.rowlist[e],a=[];if(null===i.children||0===i.children.length)return a;for(var r=0;r<i.children.length;r++){var o=i.children[r],l=this.rowlist[o],s=t&&i.expanded&&!l.Zt;t&&l.hidden&&(l.forcedHeight=0),n&&!t||(l.hidden=!s),n||delete l.forcedHeight,t===s&&a.push(o);var d=this.vw(o,t&&!l.hidden);d.length>0&&(a=a.concat(d))}return a},this.Pg=function(e,t){this.ib(),this.Qg(e,t)},this.Rg=function(e){if(!e)return!1;var t=this.nav.scroll,n=H.Om(),i=t.scrollLeft,a=t.clientWidth,r=i+a;return!(e<0&&i<=0)&&(!(e>0&&r>=n)&&(t.scrollLeft+=e,H.coords.x+=e,H.Sg(),!0))},this.Tg=function(e){if(!e)return!1;var t=this.nav.scroll,n=t.scrollHeight,i=t.scrollTop,a=t.clientHeight,r=i+a;return!(e<0&&i<=0)&&(!(e>0&&r>=n)&&(t.scrollTop+=e,H.coords.y+=e,H.Sg(),!0))},this.Sg=function(){n.vq&&n.vq.event.calendar===H?H.Qv():n.vn&&(n.sq.calendar===H||n.sq.calendar&&n.sq.calendar.dragOutAllowed)?(n.vn.event||(n.vn.event=n.sq),H.Rv()):n.wq&&n.wq.calendar===H?H.Sv():n.ln&&L.draw()},this.Qg=function(e,t){if(!H.Bv){if(!(this.Rg(e)||this.Tg(t)))return}var n=function(e,t){return function(){H.Qg(e,t)}};clearTimeout(H.Ug),H.Ug=setTimeout(n(e,t),100)},this.ib=function(){clearTimeout(H.Ug),clearTimeout(H.Zv)},this.dm=function(){H.wm.top.enabled()&&(H.wm.top.height=H.ww(H.wm.top.rowlist,0)),H.wm.bottom.enabled()&&(H.wm.bottom.height=H.ww(H.wm.bottom.rowlist,0)),H.Cl=H.ww(H.rowlist,H.wm.top.height)},this.ww=function(e,t){var n=0,i=t||0;t=t||0;for(var a=0;a<e.length;a++){var r=e[a];r.hidden||(r.top=t,r.displayY=n,t+="number"==typeof r.forcedHeight?r.forcedHeight:r.height,n+=1),r.absTop=i,i+=r.height}return t},this.fm=function(){"function"==typeof H.onBeforeCellDomAdd&&H.xw(),H.elements.cells=[],H.elements.breaks=[],H.va.cells=[],H.va.breaks=[],H.divBreaks.innerHTML="",H.wm.top.divBreaks.innerHTML="",H.wm.bottom.divBreaks.innerHTML="",H.divCells.innerHTML="",H.wm.top.divCells.innerHTML="",H.wm.bottom.divCells.innerHTML="",H.Bs()},this.Bs=function(){H.divLines.innerHTML="",H.wm.top.divLines.innerHTML="",H.wm.bottom.divLines.innerHTML="",H.va.Fl={},H.va.Gl={},H.elements.linesVertical=[]},this.xw=function(){var e=w();for(var t in H.va.cells)e.push(H.va.cells[t]);e.forEach(function(e){H.Jf(e)})},this.jo=function(e,t){t=t||"main";var n=w();for(var i in H.va.cells)n.push(H.va.cells[i]);n.filter(function(n){return n&&n.coords&&n.coords.y===e&&n.coords.grid===t}).forEach(function(e){H.Jf(e)})},this.yw=0,this.zw=w(["html","cssClass","backColor","backImage","backRepeat","areas","disabled","fontColor","text","verticalAlignment","horizontalAlignment"]),this.Aw=H.zw.add("business"),this._e=function(e,t,n){if(this.za){var i=H.xn(e);if(i){n=n||"main";var a=this.wm[n],r=a.rowlist,l=a.divCells,s="main"===n,c=n+"_"+e+"_"+t;if(!this.va.cells[c]){var u=this.oq(e,t,n);if(H.Fr(e,t,n),!this.drawBlankCells){var h=!1;if(s&&this.Hq(t)?h=!1:this.Bw(u,H.zw)||(h=!0),h)return}var f=o();f.style.left=i.left+"px",f.style.top=r[t].top+"px",f.style.width=i.width+"px",f.style.height=r[t].height+"px",f.style.position="absolute",f.className=this.ca("_cell"),f.coords={},f.coords.x=e,f.coords.y=t,f.coords.grid=n,s&&H.Hq(t)&&d(f,this.ca("_cellparent")),I.va[n+"_"+t]&&d(f,this.ca("_cell_selected"));var b=H.cells.findXy(e,t,n)[0];if(u){if(u.cssClass&&d(f,u.cssClass),f.innerHTML=H.La(u.text,u.html),u.backImage&&(f.style.backgroundImage='url("'+u.backImage+'")'),u.backRepeat&&(f.style.backgroundRepeat=u.backRepeat),u.business&&H.cellsMarkBusiness&&d(f,H.ca("_cell_business")),u.disabled&&d(f,H.ca("_cell_disabled")),u.backColor&&(f.style.backgroundColor=u.backColor),u.fontColor&&(f.style.color=u.fontColor),u.horizontalAlignment||u.verticalAlignment){switch(f.style.display="flex",u.horizontalAlignment){case"right":f.style.justifyContent="flex-end";break;case"left":f.style.justifyContent="flex-start";break;case"center":f.style.justifyContent="center"}switch(u.verticalAlignment){case"center":f.style.alignItems="center";break;case"top":f.style.alignItems="flex-start";break;case"bottom":f.style.alignItems="flex-end"}}var y=DayPilot.Areas.resolvePosition(u.areas,H,i.left,i.width);DayPilot.Areas.attach(f,b,{"areas":y})}if(function(){if("function"==typeof H.onBeforeCellDomAdd||"function"==typeof H.onBeforeCellDomRemove){var e={};if(e.control=H,e.cell=b,e.element=null,f.domArgs=e,"function"==typeof H.onBeforeCellDomAdd&&H.onBeforeCellDomAdd(e),e.element){var t=f;if(t){e.Le=t;var n=p(e.element),i=m(e.element),a=g(e.element);if(n){if(!H.W.reactDOM)throw new DayPilot.Exception("Can't reach ReactDOM");H.W.V(e.element,t)}else if(i){if(!H.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");H.Y.Oe=!0,H.Y.Z(e.element,t,e.props),H.Y.Oe=!1}else if(a){if(!H.Y.Ne)throw new DayPilot.Exception("Can't reach Vue");H.Y.Oe=!0,H.Y.Pe(e.element,t),H.Y.Oe=!1}else t.appendChild(e.element)}}}}(),l.appendChild(f),this.elements.cells.push(f),this.va.cells[c]=f,"function"==typeof H.onAfterCellRender){var w={};w.cell=v(b,{},["x","y","displayY","start","end","resource","grid"]),w.div=f,H.onAfterCellRender(w)}}}}},this.jn={},this.fq=function(){H.xt(),H.Cw().forEach(function(e){H.jo(e.y,e.grid)}),H.im()},this.xt=function(){function e(e){H.wm[e].rowlist.forEach(function(t,n){t.isNewRow||t.resource.cellsAutoUpdated&&H.itline.forEach(function(t,i){var a=e+"_"+i+"_"+n;delete H.jn[a],H.cellProperties[a]=null})})}e("main"),e("top"),e("bottom")},this.Cw=function(){function e(e,n,r){for(var o=0;o<r;o++)for(var l=n+o,s=H.wm[e].rowlist[l],d=0;d<=a;d++){var c=i+d;if(!s.hidden&&!H.jn[e+"_"+c+"_"+l]){t.push({"grid":e,"y":l});break}}}var t=w(),n=this.xd(),i=n.xStart,a=n.xEnd-n.xStart;return e("main",n.yStart,n.yEnd-n.yStart),e("top",0,H.wm.top.rowlist.length),e("bottom",0,H.wm.bottom.rowlist.length),t},this.Fr=function(e,t,n){if("function"==typeof this.onBeforeCellRender){n=n||"main";var i=n+"_"+e+"_"+t;if(H.beforeCellRenderCaching&&H.jn[i])return;H.jn[i]=!0;var a=H.xn(e);if(!a)return;var r=H.cells.findXy(e,t,n)[0],o={};return o.cell=r,o.control=H,o.getPixels=function(e){var t=new DayPilot.Date(e);return H.getPixels(t).left-a.left},this.onBeforeCellRender(o),v(o.cell,o.cell.properties,H.Aw),o.cell.properties.disabled&&(H.jn.hs=!0),o}},this.Bw=function(e,t){if(t){for(var n=0;n<t.length;n++)if(!f(e[t[n]]))return!0}else for(var i in e)if(!f(e[i]))return!0;return!1},this.clearSelection=function(){this.lm(),P.clear()},this.cleanSelection=this.clearSelection,this.iw=function(e,t,n){return e=new DayPilot.Date(e),t=new DayPilot.Date(t),H.Dw(e,t,n).map(function(n){var i=n.start.getTime()-H.Ub().getTime(),a=e.addTime(-i),r=t.addTime(-i),o=H.tn(a),l=o.current||o.next;if(!l)throw new DayPilot.Exception("Time range selection 'start' out of timeline");var s=H.tn(r.addMilliseconds(-1)),d=s.current||s.previous;if(!d)throw new DayPilot.Exception("Time range selection 'end' out of timeline");var c={};return c.start={y:n.index,x:C(H.itline,l),"time":e,"grid":n.grid},c.end={x:C(H.itline,d),"time":t},c.calendar=H,c})[0]},this.Dw=function(e,t,n){var i=H.gn(),a=e.getTime(),r=t.getTime();return i.filter(function(e){return e.id===n&&(!(r<=e.data.startTicks||a>=e.data.endTicks)||a===r&&a===e.data.startTicks)})},this.selectTimeRange=function(e,t,n,i){var a=H.iw(e,t,n);H.po(a),i||setTimeout(function(){H.lo(a,"api")},0)},this.Cc=function(){var e=n.$r&&n.$r.source;e&&s(e,H.ca(H.Jl.eventMovingSource)),k(n.$r),n.$r=null,H.ls(),H.Sl.clear(),W.Zl()},this.lm=function(){var e=H.elements.range2;e&&e.remove(),H.elements.range=[],H.elements.range2=null,H.ls(),H.oo=null,H.gw=null},N.fl=null,N.$p=!1,N.Ew=function(e){if(!e)return null;var t={};if("event"===e.type)t.e=e.event;else if("cell"===e.type){var n=N.Fw(e.x,e.y);t.cell={},t.cell.start=n.thc.start,t.cell.end=n.thc.end,t.cell.resource=n.row.id}return t},N.Go=function(e){if(!n.Yp&&!N.$p){e=e||{};var t=e.dontFocus,i=N.fl;if(i){var a=i.x,r=i.y;if("cell"===i.type){var o=N.Fw(a,r),l=o.row,s=N.Gw(a,r);s&&d(s,H.ca("_cell_focus")),"top"===i.line&&l.marginTop&&d(s,H.ca("_cell_focus_top")),"bottom"===i.line&&l.marginBottom&&d(s,H.ca("_cell_focus_bottom"))}else{var s=H.kh(i.event);s&&d(s,H.ca("_event_focus"))}if(!t){var c=H.Qo();if(c.start.x>=a){var u=H.itline[a].start;H.scrollTo(u)}else if(c.end.x<=a){var h=H.itline[a].end;H.scrollTo(h,!1,"right")}if(c.start.y>=r)H.nav.scroll.scrollTop=H.rowlist[r].top-H.wm.top.height;else if(c.end.y<=r){var l=H.rowlist[r],f=l.top+l.height;H.nav.scroll.scrollTop=f-H.nav.scroll.clientHeight+H.wm.bottom.height}}}}},N.Zp=function(){var e=N.fl;if(e)if("cell"===e.type){var t=N.Gw(N.fl.x,N.fl.y);t&&(s(t,H.ca("_cell_focus")),s(t,H.ca("_cell_focus_top")),s(t,H.ca("_cell_focus_bottom")))}else{var t=H.kh(e.event);t&&s(t,H.ca("_event_focus"))}},N.Fw=function(e,t){var n={},i=H.rowlist[t],a=H.itline[e],r=[],o=i.lines.map(function(e){var t=e.filter(function(e){return l(e.part.start,e.part.end,a.start,a.end)});return r=r.concat(t),t});return n.lines=o,n.thc=a,n.row=i,n.events=r,n},N.ao=function(){var e=N.fl;e&&(N.Zp(),N.fl=N.Hw(e.x,e.y,e.pixels,e.line),N.Go({"dontFocus":!0}))},N.Hw=function(e,t,n,i){var a={};n=n||H.itline[e].left,i=f(i)?"top":i;var r=N.Fw(e,t),o=r.lines,s=r.row,d=r.events,c=s.marginTop||s.marginBottom,u=!1,h=d.length>0,v=i,p=null,m=null;if(h)if(s.marginTop&&"top"===i)u=!0,v="top";else if(s.marginBottom&&"bottom"===i)u=!0,v="bottom";else{if("top"===i)if(s.marginBottom){var g=r.lines.find(function(e){return e.find(function(e){return e.part.left<=n&&n<=e.part.right})});if(g)v=r.lines.indexOf(g);else{var b=r.lines.find(function(e){return e.find(function(e){return l(e.part.left,e.part.right,r.thc.left,r.thc.left+r.thc.right)})});b?(v=r.lines.indexOf(b),m=b[0]):v="bottom"}}else v=s.marginTop?"top":0;else if("bottom"===i)if(c){var g=r.lines.slice().reverse().find(function(e){return e.find(function(e){return e.part.left<=n&&n<=e.part.right})});v=r.lines.indexOf(g),v===-1&&(v=N.Iw(i,s))}else v=o.length-1;else v=i;var y=o[v];m||(m=y&&y.find(function(e){return e.part.left<=n&&n<=e.part.right})),m||(u=!0,v=N.Iw(v,s)),p=m}else u=!0,v=c?N.Iw(i,s):0;return a.x=e,a.y=t,u?(a.type="cell",a.pixels=n,a.line=v,a):(a.type="event",a.event=p,a.pixels=p.part.left,a.x=H.rn(p.part.left).x,a.line=v,a)},N.Jw=function(e){var t={},n=N.fl,i=H.rowlist[n.y],a=i.lines[n.line],r=N.Fw(n.x,n.y),o=i.marginTop||i.marginBottom;if("right"===e){if("event"===n.type){var s=n.event.part.end,d=n.event.part.right,c=H.tn(s),u=c.i,h=c.current.left+c.current.width,f=a.indexOf(n.event)+1,v=a[f],p=r.lines[n.line],m=p[p.indexOf(n.event)+1];if(v&&v.part.left===d)return t.x=u,t.y=n.y,t.type="event",t.line=n.line,t.pixels=v.part.left,t.event=v,t;if(m&&o)return t.x=u,t.y=n.y,t.type="event",t.line=n.line,t.pixels=m.part.left,t.event=m,t;if(h===d){var g=N.Kw(u);return g===u?n:(t.x=u+1,t.y=n.y,t.type="cell",t.pixels=H.itline[t.x].left,t.line=0,i.marginTop?t.line="top":i.marginBottom&&(t.line="bottom"),t)}return t.x=u,t.y=n.y,t.type="cell",t.line=n.line,t.pixels=n.event.part.right,o&&(t.line=N.Iw(n.line,i)),t}var b=N.Fw(n.x,n.y),y=b.lines[n.line],v=y&&y.find(function(e){return e.part.left>n.pixels});if(v)return t.x=n.x,t.y=n.y,t.type="event",t.event=v,t.pixels=v.part.left,t.line=n.line,t;var g=N.Kw(n.x);return g===n.x?n:N.Hw(g,n.y,null,n.line)}if("left"===e){var w=n.x;if("event"===n.type){w=H.rn(n.event.part.left).x;var c=H.itline[w];if(n.event.part.left!==c.left){var f=a.indexOf(n.event)-1,v=a[f];return v&&v.part.right===n.event.part.left?(c=H.rn(v.part.right,!0),t.x=c.x,t.y=n.y,t.type="event",t.line=n.line,t.pixels=v.part.right,t.event=v,t):(c=H.rn(n.event.part.left),t.x=c.x,t.y=n.y,t.type="cell",t.line=n.line,t.pixels=n.event.part.left,o&&(t.line=N.Iw(n.line,i)),t)}if(0===w)return n;t=N.Hw(w-1,n.y,c.right,n.line)}else{var x=N.Fw(n.x,n.y),k=x.lines[n.line],v=k&&k.slice().reverse().find(function(e){return e.part.right<n.pixels});if(v)return t.x=n.x,t.y=n.y,t.type="event",t.event=v,t.pixels=v.part.right,t.line=n.line,t;var g=N.Lw(n.x);if(g===n.x)return n;var c=H.itline[w-1],h=c.left+c.width;t=N.Hw(g,n.y,h,n.line)}return t}if("down"===e){var C=N.Fw(n.x,n.y),_=C.lines.find(function(e){return e.find(function(e){return e.part.left<=n.pixels&&n.pixels<=e.part.right})});if("top"===n.line&&i.marginTop){if(_){var T=C.lines.indexOf(_);return t=N.Hw(n.x,n.y,n.pixels,T),t.pixels=n.pixels,t.x=n.x,t}var D=C.lines.find(function(e){return e.find(function(e){return l(e.part.left,e.part.right,C.thc.left,C.thc.left+C.thc.right)})});if(D){var S=D[0];return t=N.Hw(n.x,n.y,S.part.left,C.lines.indexOf(D)),t.pixels=n.pixels,t.x=n.x,t}var E=N.Mw(n.y);return E===n.y?n:(t=N.Hw(n.x,E,n.pixels,"top"),t.pixels=n.pixels,t.x=n.x,t)}if("bottom"===n.line&&i.marginBottom){var E=N.Mw(n.y);return E===n.y?n:(t=N.Hw(n.x,E,n.pixels,"top"),t.pixels=n.pixels,t.x=n.x,t)}if(n.line<i.lines.length-1){var M=n.y,A=n.line+1;i.marginTop&&"top"===n.line&&(A=0);var R=C.lines.slice(A).find(function(e){return e.find(function(e){return e.part.left<=n.pixels&&n.pixels<=e.part.right})});if(R)A=C.lines.indexOf(R);else if(i.marginBottom)A="bottom";else if(i.marginTop){var D=C.lines.slice(n.line+1).find(function(e){return e.find(function(e){return l(e.part.left,e.part.right,C.thc.left,C.thc.left+C.thc.right)})});if(D){var S=D[0];return t=N.Hw(n.x,n.y,S.part.left,C.lines.indexOf(D))}A="top",M+=1}else if(n.event)A=i.lines.length-1;else{var E=N.Mw(n.y);if(E===n.y)return n;A=0,M+=1}return t=N.Hw(n.x,M,n.pixels,A),t.pixels=n.pixels,t.x=n.x,t}if(n.line===i.lines.length-1&&i.marginBottom)return t=N.Hw(n.x,n.y,n.pixels,"bottom"),t.pixels=n.pixels,t.x=n.x,t;var E=N.Mw(n.y);return E===n.y?n:(t=N.Hw(n.x,E,n.pixels,"top"),t.pixels=n.pixels,t.x=n.x,t)}if("up"===e){var B=N.Fw(n.x,n.y),_=B.lines.slice().reverse().find(function(e){return e.find(function(e){return e.part.left<=n.pixels&&n.pixels<=e.part.right})});if("bottom"===n.line&&i.marginBottom&&_){var T=B.lines.indexOf(_);t=N.Hw(n.x,n.y,n.pixels,T)}else if(0===n.line&&i.marginTop)t=N.Hw(n.x,n.y,n.pixels,"top");else if(n.line>0){var A="bottom",M=n.y,P=B.lines.slice(0,n.line).reverse().find(function(e){return e.find(function(e){return e.part.left<=n.pixels&&n.pixels<=e.part.right})});P?A=B.lines.indexOf(P):i.marginTop?A="top":i.marginBottom?M-=1:A=0;var E=N.Nw(M);if(E===M)return n;t=N.Hw(n.x,M,n.pixels,A)}else{var E=N.Nw(n.y);if(E===n.y)return n;t=N.Hw(n.x,E,n.pixels,"bottom")}return t.x=n.x,t.pixels=n.pixels,t}return null},N.Iw=function(e,t){var n="top"===e&&t.marginTop||"bottom"===e&&t.marginBottom;if("number"==typeof e||!n){if(t.marginTop)return"top";if(t.marginBottom)return"bottom"}return e},N.Gw=function(e,t,n){n=n||"main";var i=n+"_"+e+"_"+t;return H.va.cells[i]},N.Ow=function(){return N.fl},N.ji=function(){var e=H.keyboardTarget;switch(e){case"component":return H.nav.top;case"document":return document}throw new DayPilot.Exception("Invalid keyboardTarget value: "+e)},N.wq=null,N.Pw=function(e){if(16===e.keyCode){var t=N.wq;if(N.wq=null,!t||!t.end)return;var n=t.start.x<t.end.x,i=n?t.start.x:t.end.x,a=n?t.end.x:t.start.x;N.Qw(i,t.start.y,a,{"forceSnap":!0})}},N.Rw=function(e){var t=37,i=38,a=39,r=40,o=13,l={};l["_37"]="left",l["_39"]="right",l["_38"]="up",l["_40"]="down";var s=[t,i,a,r],d=s.indexOf(e.keyCode)!==-1,c=[t,i,a,r,o],u=c.indexOf(e.keyCode)!==-1;if(!n.Yp){if("function"==typeof H.onKeyDown){var h={};if(h.originalEvent=e,h.preventDefault=function(){h.preventDefault.value=!0},H.onKeyDown(h),h.preventDefault.value)return}if(d&&(e.preventDefault(),!N.fl))return void N.Sw();if(u){var f=e.shiftKey,v=!1;if(N.fl&&(v=!(H.Hq(N.fl.y)&&H.treePreventParentUsage),f&&!N.fl.event&&!N.wq&&v&&(N.wq={"calendar":H,"forceSnap":!0,"start":{x:N.fl.x,y:N.fl.y,time:H.itline[N.fl.x].start}})),!N.wq||e.keyCode!==i&&e.keyCode!==r){var p=N.Jw(l["_"+e.keyCode]),m={};if(m.previous=H.keyboard.getFocus(),m.focus=N.Ew(p),m.preventDefault=function(){m.preventDefault.value=!0},!d||"function"!=typeof H.onKeyboardFocusChange||(H.onKeyboardFocusChange(m),!m.preventDefault.value)){if(d)N.Zp(),N.fl=p,N.Go();else switch(e.keyCode){case o:if(e.preventDefault(),N.fl&&N.fl.event){var g=H.kh(N.fl.event);N.Tw(g,e)}else v&&N.Qw(N.fl.x,N.fl.y)}d&&"function"==typeof H.onKeyboardFocusChanged&&(H.onKeyboardFocusChanged(m),m.preventDefault.value)||(e.keyCode!==t&&e.keyCode!==a||N.wq&&(N.wq.end={x:N.fl.x,y:N.fl.y,time:H.itline[N.fl.x].start},H.po(N.wq)),N.wq)}}}}},N.Xo=function(){var e=N.ji();e.removeEventListener("keyup",N.Pw),e.removeEventListener("keydown",N.Rw)},N.Uw=function(){var e=N.ji();e!==document&&H.nav.top.setAttribute("tabindex","-1"),H.ja()||(e.addEventListener("keyup",N.Pw),e.addEventListener("keydown",N.Rw))},N.Tw=function(e,t){H.$b(e,t)},N.Qw=function(e,t,n){a=a||{};var i={};i.forceSnap=!0,i.start={y:t,x:e,time:H.itline[e].start},i.end={x:"undefined"==typeof n?e:n},i.end.time=H.itline[i.end.x].start,i.calendar=H,H.oo=i,H.lo(i,"keyboard")},N.Sw=function(){var e=H.Qo();N.Zp(),N.fl=N.Hw(e.start.x,e.start.y),N.Go()},N.jp=function(){var e="Always"===H.useEventBoxes;e=e&&!H.ja(),e&&(N.Uw(),N.ji()!==document&&H.nav.top.focus())},N.Yn=function(e){if(e.e){var t=H.events.find(e.e.id());t&&H.keyboard.focusEvent(t.id())}else if(e.cell){var n=e.cell.start,i=e.cell.resource,a=H.lq(n,i);a&&"main"===a.grid&&H.keyboard.focusCell(n,i)}},N.Nw=function(e){if(e<=0)return e;for(var t=e;t>0;)if(t-=1,!H.rowlist[t].hidden)return t;return e},N.Mw=function(e){var t=H.rowlist.length-1;if(e>=t)return e;for(var n=e;n<t;)if(n+=1,!H.rowlist[n].hidden)return n;return e},N.Kw=function(e){return e>=H.itline.length-1?e:e+1},N.Lw=function(e){return e<=0?e:e-1},N.Tn=function(){N.fl=null},this.Un=N,this.keyboard={},this.keyboard.focusCell=function(e,t){var n=H.lq(e,t);if(!n)throw new DayPilot.Exception("Can't find the specified cell");if("main"!==n.grid)throw new DayPilot.Exception("Can't focus a cell in a frozen row");N.Zp(),N.fl=N.Hw(n.x,n.y);for(var i=N.Fw(n.x,n.y),a=i.lines.length,r=["top"],o=0;o<a;o++)r.push(o);r.push("bottom");for(var o=0;o<r.length;o++){var l=N.Hw(n.x,n.y,null,r[o]);if("cell"===l.type){N.fl=l;break}}N.Go()},this.keyboard.focusEvent=function(e){e instanceof DayPilot.Event&&(e=e.id());var t=H.events.find(e);if(!t)throw new DayPilot.Exception("Event not found");t=H.events.Gp(t.data);var n={};n.type="event",n.event=t,n.pixels=t.part.left,n.x=H.rn(t.part.left).x,n.y=t.part.dayIndex,n.line=t.part.line,N.Zp(),N.fl=n,N.Go()},this.keyboard.resetFocus=function(){N.Sw()},this.keyboard.getFocus=function(){return!w(H.events._p.rows).isEmpty()&&(N.$p=!0,H.events.ko({"dontResetFocus":!0})),N.$p=!1,N.Ew(N.fl)},this.keyboard.clearFocus=function(){N.Zp(),N.Tn()},this.keyboard.move=function(e,t){t=t||{};var n=t.dontFireEvent;N.Zp();var i=N.Jw(e),a={};return a.previous=H.keyboard.getFocus(),a.focus=N.Ew(i),a.preventDefault=function(){a.preventDefault.value=!0},"function"==typeof H.onKeyboardFocusChange&&!n&&(H.onKeyboardFocusChange(a),a.preventDefault.value)?void N.Go():(N.fl=i,N.Go(),void("function"!=typeof H.onKeyboardFocusChanged||n||H.onKeyboardFocusChanged(a)))},M.hv=function(){var e=H.dynamicEventRenderingMarginX;if("number"==typeof e)return e;var t=H.dynamicEventRenderingMargin;return"number"==typeof t?t:0},M._u=function(){var e=H.dynamicEventRenderingMarginY;if("number"==typeof e)return e;var t=H.dynamicEventRenderingMargin;return"number"==typeof t?t:0},M.qh=function(){delete H.va.eventHeight,delete H.va.headerHeight},M.Ma=function(){return"Disabled"!==H.xssProtection},M.Xc=function(){return DayPilot.Locale.find(H.locale)},M.Wc=function(){return"Auto"!==H.timeFormat?H.timeFormat:M.Xc().timeFormat},M.Wd=function(){if("Auto"===H.weekStarts){var e=M.Xc();return e?e.weekStarts:0}return H.weekStarts||0},M.Cs=function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("mobile")!==-1||e.indexOf("android")!=-1},M.du=function(){var e=/MSIE 6/i.test(navigator.userAgent);return"Auto"===H.layout?e?"TableBased":"DivBased":H.layout},M.lc=function(){var e;if("Immediate"===H.notifyCommit)e="Notify";else{if("Queue"!==H.notifyCommit)throw new DayPilot.Exception("Invalid notifyCommit value: "+H.notifyCommit);e="Queue"}return e},M.Zs=function(){return"Days"!==H.viewType},M.gh=function(e){return"Always"===H.useEventBoxes||"Never"!==H.useEventBoxes&&e<60*H.uq()*1e3},M.Kr=function(){return"number"==typeof H.durationBarHeight?H.durationBarHeight:4},M.fp=function(){if(H.va.eventHeight)return H.va.eventHeight;var e=H.xh("_event_height").height;return e||(e=H.eventHeight),H.va.eventHeight=e,e},M.mg=function(){if(H.va.headerHeight)return H.va.headerHeight;var e=H.xh("_header_height").height;return e||(e=H.headerHeight),H.va.headerHeight=e,e},M.vu=function(){if(H.va.scrollLineHeight)return H.va.scrollLineHeight;var e=o();e.style.fontSize="initial",e.style.display="none",r().appendChild(e);var t=parseInt(window.getComputedStyle(e).fontSize)||16;return r().removeChild(e),H.va.scrollLineHeight=t,t},M.Sm=function(){return H.rowHeaderScrolling?H.rowHeaderSplitterWidth:1},M.zn=function(){return"string"==typeof H.multiSelectRectangle?H.multiSelectRectangle:"Disabled"===H.rectangleSelectHandling?"Disabled":H.rectangleSelectMode},M.Vw=function(){return"string"==typeof H.multiSelectRectangle?"Free"===H.multiSelectRectangle||"Row"===H.multiSelectRectangle?"EventSelect":"Disabled":H.rectangleSelectHandling},M.Dr=function(){return w(H.rowHeaderColumns).filter(function(e){return!e.hidden})},O.Lr=function(e){var t={};t.top=0,t.height=0;for(var n=M.mg(),i=0;i<=e;i++){var a=H.timeHeaders[i];t.top+=t.height,t.height=a.height||n}return t},this.oq=function(e,t,n){n=n||"main";var i=n+"_"+e+"_"+t,a=H.wm[n],r=a.rowlist;if(H.cellConfig){i=e+"_"+t;for(var o=0,l=0;l<H.resources.length;l++)if(!H.resources[l].hidden){if(o===t){t=l;break}o+=1}}if(this.cellProperties||(this.cellProperties={}),this.cellProperties[i])return this.cellProperties[i];if(this.wl&&(this.cellProperties[i]=H.Ww(e,t)),!this.cellProperties[i]){var s=r[t],d=s.id,c=s.start.getTime()-H.Ub().getTime(),u=H.xn(e),h=u.start.addTime(c),f=u.end.addTime(c),v={};v.start=h,v.end=f,v.resource=d;var p={};p.business=H.isBusiness(v),s.cellsDisabled&&(H.jn.hs=!0,p.disabled=!0),this.cellProperties[i]=p}return this.cellProperties[i]},this.Xw=function(e,t,n){var i=t+"_"+n;return this.cellProperties[i]={},v(e,this.cellProperties[i],H.Aw),this.cellProperties[i]},this.Ww=function(e,t){if(!this.cellConfig)return null;var n=this.cellConfig,i=this.cellProperties[e+"_"+t];!i&&n.vertical&&(i=this.cellProperties[e+"_0"]),!i&&n.horizontal&&(i=this.cellProperties["0_"+t]),!i&&n["default"]&&(i=n["default"]);var a={};return v(i,a,H.Aw),a},this.sb=function(){if(!this.wl&&!this.xl&&(this.xl=!0,this.cellConfig)){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++){var n=this.cellProperties[t+"_0"];if(n)for(var i=1;i<e.y;i++)this.Xw(n,t,i)}if(e.horizontal)for(var i=0;i<e.y;i++){var n=this.cellProperties["0_"+i];if(n)for(var t=1;t<e.x;t++)this.Xw(n,t,i)}if(e["default"])for(var n=e["default"],i=0;i<e.y;i++)for(var t=0;t<e.x;t++)this.cellProperties[t+"_"+i]||this.Xw(n,t,i)}},this.isBusiness=function(e,t){var n=e.start,i=e.end,a=(i.getTime()-n.getTime())/6e4;if(a<=1440&&!(H.businessWeekends||t||0!==e.start.dayOfWeek()&&6!==e.start.dayOfWeek()))return!1;if(a<720){var r=n.getHours();r+=n.getMinutes()/60,r+=n.getSeconds()/3600,r+=n.getMilliseconds()/36e5;var o=this.businessBeginsHour,l=this.businessEndsHour;if(0===l&&(l=24),o===l)return!1;if(!(o<l))return r<l||r>=o;if(r<o)return!1;if(l>=24)return!0;if(r>=l)return!1}return!0},this.bf=function(){switch(H.Ga){case"aspnet":if(!this.Ua())throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");break;case"netmvc":if(!this.backendUrl)throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");break;case"javaxx":if(!this.backendUrl)throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")}},this.D=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.vg=function(){var e=H.nav.top;return!!e&&(e.offsetWidth>0&&e.offsetHeight>0)},this.wg=function(){var e=H.vg;return e()?void H.xg():void(H.Va||(H.Va=setInterval(function(){e()&&(clearInterval(H.Va),H.show(),H.rs(),H.xg())},100)))},this.Yw=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=e-(this.Tm()+2),this.Bb()},this.setHeight=this.Yw,this.zm=function(e){var t=H.ks(e);return 0===t.length?null:t[0]},this.Kh=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw new DayPilot.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new DayPilot.Exception("DayPilot.Scheduler: The placeholder element not found: '"+e+"'.")}},this.Zw=function(){this.rowHeaderColumnsMode="Legacy",this.rh(),this.Xl(),this.Yl(),this.Wn(),this.Hb(),this.Eg(),this.eb(),n.Mh(this),this.ob(this.afterRenderData,!1),this.Su(),this.Jb(),this.Pa("Init")},this.init=function(){if(this.za)throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");if(this.Kh(),this.nav.top.dp){if(this.nav.top.dp===H)return H;if(this.Ua())return H;throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")}return this.Nu(),this.$w(),this.wg(),this._w(),this},this._w=function(){H.keyboardEnabled&&N.jp()},this.ax=function(){H.multiselect.hm(H.selectedEvents)},this.$w=function(){if(this.Rn(),this.Jh())return this.Zw(),this.za=!0,void this.Ka();this.Eg(),this.eb(),n.Mh(this),this.Su(),this.ax(),H.zoomLevels&&H.zoomLevels[H.zoom.active]&&H.zoom.setActive(H.zoom.active),!H.za&&q.in()&&(H.tm||(H.tm={"date":H.startDate})),this.Od();var angular=H.nh.scope||H.sm.enabled;H.scrollToDate?H.scrollTo(H.scrollToDate):H.scrollX||H.scrollY?H.setScroll(H.scrollX,H.scrollY):angular||H.om(),H.scrollToResourceId&&(H.scrollToResource(H.scrollToResourceId),H.scrollToResourceId=null);var e=function(){H.scrollY&&H.setScroll(H.scrollX,H.scrollY)};window.setTimeout(e,200),this.messageHTML&&window.setTimeout(function(){H.message(H.messageHTML)},0),this.Jb(),this.Ka(),this.ob(this.afterRenderData,!1),H.initEventEnabled&&setTimeout(function(){H.Pa("Init")}),this.Nh(),this.za=!0,this.bx=!0;var t=H.tm;t?H.scrollTo(t.date,t.animated,t.position):H.om(),H.tm=null},this.Ou=function(){H.ja()&&delete H.infinite},this.Oh=null,this.wh=function(e){if(e){var t={"resources":{"preInit":function(){var e=this.data;e&&(H.resources=e)}},"events":{"preInit":function(){var e=this.data;e&&(_(e.list)?H.events.list=e.list:H.events.list=e)},"postInit":function(){}},"links":{"preInit":function(){var e=this.data;e&&(_(e.list)?H.links.list=e.list:H.links.list=e)},"postInit":function(){}},"scrollTo":{"preInit":function(){},"postInit":function(){this.data&&H.rm(this.data,e.scrollToAnimated,e.scrollToPosition)}},"scrollX":{"postInit":function(){this.data&&H.xm(this.data)}},"scrollY":{"postInit":function(){this.data&&H.Pm(this.data)}},"zoom":{"preInit":function(){var e=this.data;if("string"==typeof e){var t=e;e=H.zoom.td(t)}var n=e!==H.zoom.active,i=H.zoom.Lk();H.zoom.vd(e,i),n?this.date=i:this.date=null},"postInit":function(){this.date&&H.rm(this.date,!1,H.zoomPosition);
}}};H.Oh=t,H.sm.scrollToRequested&&(t.scrollTo.data=H.sm.scrollToRequested,H.sm.scrollToRequested=null),H.sm.scrollXRequested&&(t.scrollX.data=H.sm.scrollXRequested,H.sm.scrollXRequested=null),H.sm.scrollYRequested&&(t.scrollY.data=H.sm.scrollYRequested,H.sm.scrollYRequested=null);for(var n in e)t[n]||(H[n]=e[n]);for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}}},this.Nh=function(){var e=H.Oh;for(var t in e){var n=e[t];n.postInit&&n.postInit()}H.Oh={}},this.diag=function(){var e={};return e.dataEvents=H.events.list&&H.events.list.length,e.dataRows=H.rowlist&&H.rowlist.length,e.dataTimeline=H.itline&&H.itline.length,e.dataCells=e.dataTimeline*e.dataRows,e.renderedEvents=H.elements.events.length,e.renderedCells=H.elements.cells.length,e.renderedRows=H.divResScroll.firstChild.childNodes.length-1,e.domEvents=H.divEvents.getElementsByTagName("*").length,e.domCells=H.divCells.getElementsByTagName("*").length,e.domRows=H.divResScroll.getElementsByTagName("*").length,e},this.temp={},this.temp.allowDuplicateEventIds=!1,this.internal={},this.internal.initialized=function(){return H.za},this.internal.dragInProgress=this.Lg,this.internal.startMoving=this.ne,this.internal.invokeEvent=this.kc,this.internal.eventMenuClick=this.Hc,this.internal.timeRangeMenuClick=this.Ic,this.internal.resourceHeaderMenuClick=this.so,this.internal.linkMenuClick=this.ro,this.internal.bubbleCallBack=this.Fc,this.internal.findEventDiv=this.kh,this.internal.rowStartMoving=this.Il.ne,this.internal.getNodeChildren=this.mb,this.internal.callback=function(){H.Pa.apply(H,arguments)},this.internal.createRowObject=this.vo,this.internal.restools=this.Nl,this.internal.gantt=null,this.internal.f=this.events.Gp,this.internal.bd=H.zq,this.internal.abd=H.Dq,this.internal.adjustEndIn=H.Jj,this.internal.adjustEndNormalize=H.gk,this.internal.xssTextHtml=H.La,this.internal.touch=H.Ca,this.internal.cssNames=H.Jl,this.internal.enableCellStacking=function(e){H.yl=!0,H.zl=e},this.internal.deleteDragSource=function(){H.Dc()},this.internal.outerRowHeaderWidth=function(){return H.Rm()};this.internal.skipUpdate=H.sm.skipUpdate;this.internal.skipped=H.sm.skipped,this.internal.loadOptions=H.wh,this.internal.postInit=H.Nh,this.internal.enableAngular2=function(){H.sm.enabled=!0},this.internal.eventsFromAttr=function(){H.sm.dq=!0},this.internal.resourcesFromAttr=function(){H.sm.kq=!0},this.internal.evImmediateRefresh=function(){H.events.ko()},this.internal.upd=function(e){H.vh(e)},this.internal.enableReact=function(e,t){H.W.react=e,H.W.reactDOM=t},this.internal.reactRefs=function(){return v(H.W,{},["react","reactDOM"])},this.internal.enableVue=function(e){H.Y.Ne=e},this.internal.vueRef=function(){return H.Y.Ne},this.internal.vueRendering=function(){return H.Y.Oe},this.Init=this.init,this.wh(a)},a="2025.4.6765"===(new DayPilot.Scheduler).v,DayPilot.Row=function(e,t){function n(e){var n=function(e){for(var n=0;n<t.elements.events.length;n++){var i=t.elements.events[n];if(i.event===e)return i}return null};this.fx=function(){e.expanded=!0;var i=t.dt;w(e.events).forEach(function(e){i.push(e.id())});var a=n(e);if(a){t.bv(a);var r=C(t.elements.events,a);r!==-1&&t.elements.events.splice(r,1)}},this.expand=function(){this.fx(),t.Fn(),t.Gn([e.row]),t.Bb(),t.Fb()},this.dx=function(){if(e.lines.length>t.groupConcurrentEventsLimit){e.expanded=!1;var n=w(e.events).map(function(e){return e.id()});t.dt=t.dt.filter(function(e){return!x(n,e)})}},this.collapse=function(){this.dx(),t.Fn(),t.Gn([e.row]),t.Bb()}}function i(e,t){this.html=function(n){var i=e.calendar.divHeader,a=i.rows[e.index];if(!a)throw new DayPilot.Exception("Row not rendered");var r=a.cells[t],o=r.textDiv;return"undefined"==typeof n?o.innerHTML:void(o.innerHTML=n)}}if(!e)throw new DayPilot.Exception("No row object supplied when creating DayPilot.Row");if(!t)throw new DayPilot.Exception("No parent control supplied when creating DayPilot.Row");this.cx={};var a=this.cx;a.id=e.id,a.name=e.name,a.data=e.resource,a.tags=e.tags;var r=this;r.isRow=!0,r.menuType="resource",r.start=e.start,r.name=e.name,r.value=e.id,r.id=e.id,r.tags=e.tags,r.bubbleHtml=e.bubbleHtml,r.index=e.index,r.displayY=e.displayY,r.level=e.level,r.calendar=t,r.data=e.resource,r.grid=e.grid,r.Vr=e,r.$={},r.$.row=e,r.toJSON=function(){var e={};return e.start=this.start,e.name=this.name,e.value=this.value,e.id=this.id,e.index=this.index,e},r.parent=function(){return r.Vr.Ot?t.vo(r.Vr.Ot):null},r.children=function(){var e=w(r.$.row.children).map(function(e){return t.vo(t.rowlist[e])});return e.add=function(e){var t=r.$.row.resource;t.children||(t.children=[]),t.children.push(e)},e},r.splitParent=function(){return r.Vr.split.parent?t.vo(r.Vr.split.parent):null},r.splitChildren=function(){return(r.Vr.split.list||[]).map(function(e){return t.vo(e)})},r.loaded=function(){return r.Vr.loaded},Object.defineProperty(r,"hidden",{get:function(){return r.Vr.hidden}}),Object.defineProperty(r,"height",{get:function(){return this.Vr.height}}),Object.defineProperty(r,"lines",{get:function(){var e,t;return null!==(t=null===(e=this.Vr.lines)||void 0===e?void 0:e.length)&&void 0!==t?t:0}}),Object.defineProperty(r,"hiddenUsingFilter",{get:function(){return r.Vr.Zt},set:function(e){r.Vr.Zt=e,e||(r.Vr.hidden=!r.Vr.$t())}}),r.cells={},r.cells.all=function(){for(var e=[],n=t.itline.length,i=r.index,a=0;a<n;a++){var o=t.cells.findXy(a,i,r.grid);e.push(o[0])}return t.mq(e)},r.cells.forRange=function(e,n){var i=r,a=i.start.getTime()-t.Ub().getTime(),o=r.Vr.data.endTicks-r.Vr.data.startTicks;e=new DayPilot.Date(e),n=new DayPilot.Date(n);var l=t.Ub().addTime(a),s=l.addTime(o);e<l&&(e=l),n>s&&(n=s);var d=t.cells.find(e,r)[0],c=t.cells.find(n.addTime(-1),r)[0];if(!d)return null;if(!c)return null;if(d.y!==c.y)return null;for(var u=d.y,h=[],f=d.x;f<=c.x;f++)h.push(t.cells.qe(f,u,d.grid));return t.mq(h)},r.cells.totalDuration=function(e){var t=r.cells.all();return"function"==typeof e&&(t=t.filter(e)),new DayPilot.Duration(t.map(function(e){return e.end.getTime()-e.start.getTime()}).reduce(function(e,t){return e+t},0))},r.events={},r.events.all=function(){for(var e=w(),t=0;t<r.Vr.events.length;t++)e.push(r.Vr.events[t]);return e},r.events.isEmpty=function(){return 0===r.Vr.events.length},r.events.forRange=function(e,t){return r.Vr.events.forRange(e,t)},r.events.totalDuration=function(){var e=0;return r.events.all().forEach(function(t){e+=t.part.end.getTime()-t.part.start.getTime()}),new DayPilot.Duration(e)},r.groups={},r.groups.collapseAll=function(){for(var e=0;e<r.Vr.blocks.length;e++){new n(r.Vr.blocks[e]).dx()}t.Fn(),t.Gn([r.Vr]),t.Bb()},r.groups.expandAll=function(){for(var e=0;e<r.Vr.blocks.length;e++){new n(r.Vr.blocks[e]).fx()}t.Fn(),t.Gn([r.Vr]),t.Bb(),t.Fb()},r.groups.expanded=function(){for(var e=[],i=0;i<r.Vr.blocks.length;i++){var a=r.Vr.blocks[i];a.expanded&&a.lines.length>t.groupConcurrentEventsLimit&&e.push(new n(a))}return w(e)},r.groups.collapsed=function(){for(var e=[],t=0;t<r.Vr.blocks.length;t++){var i=r.Vr.blocks[t];i.expanded||e.push(new n(i))}return w(e)},r.groups.all=function(){for(var e=[],t=0;t<r.Vr.blocks.length;t++){var i=r.Vr.blocks[t];e.push(new n(i))}return w(e)},r.events.collapseGroups=r.groups.collapseAll,r.events.expandGroups=r.groups.expandAll,r.column=function(e){return new i(r,e)},r.toggle=function(){t.Kq(r.index)},r.collapse=function(){r.$.row.expanded&&r.toggle()},r.expand=function(){r.$.row.expanded||r.toggle()},r.remove=function(){t.rows.remove(r)},r.edit=function(){t.rows.edit(r)},r.st=function(e){r.data=e},r.addClass=function(e){var n=t.divHeader,i=n.rows[r.index];if(i){d(w(i.cells).map(function(e){return e.cellDiv}),e)}r.$.row.cssClass=DayPilot.Util.addClassToString(r.$.row.cssClass,e),r.data.cssClass=e},r.removeClass=function(e){var n=t.divHeader,i=n.rows[r.index];if(i){s(w(i.cells).map(function(e){return e.cellDiv}),e)}r.$.row.cssClass=DayPilot.Util.removeClassFromString(r.$.row.cssClass,e),r.data.cssClass=DayPilot.Util.removeClassFromString(r.data.cssClass,e)}},n.vn=null,n.sq=null,n.Yf=null,n.vq=null,n.Oq=null,n.un=!1,n.Fg=!1,n.Kv=null,n.gx=null,n.hx=function(e,t,n,i){DayPilot.us(e);var a=y.drag={};return a.element=e,a.duration=t,a.text=i,a.id=n,a.data={"id":n,"text":i,"duration":t,"externalHtml":i},!1},DayPilot.Scheduler.def={},DayPilot.Scheduler.startDragging=function(e){e=e||{};var t=e.element,n=e.keepElement?null:t;DayPilot.us(t);var i=y.drag={};return i.element=n,i.id=e.id,i.duration=e.duration||60,i.text=e.text||"",i.data=e,i._f=e,i.ag=e.data,!1},DayPilot.Scheduler.makeDraggable=function(e){function t(){var t=y.drag={};t.element=r,t.id=s,t.duration=c,t.text=d,t.data=e,t._f=e,t.ag=e.data}var i;e=e||{};var a=e.element,r=e.keepElement?null:e.remove||a,o=null!==(i=e.tapAndHoldTimeout)&&void 0!==i?i:0,l=e.data||{},s="undefined"!=typeof e.id?e.id:l.id,d="string"==typeof e.text?e.text:l.text||"",c=e.duration||l.duration,u=null;if(c instanceof DayPilot.Duration&&(c=c.totalSeconds()),c||(c=l.start&&l.end?new DayPilot.Duration(l.start,l.end).totalSeconds():60),!a)throw new DayPilot.Exception("makeDraggable(options): options.element must be specified");DayPilot.us(a),DayPilot.re(a,"mousedown",function(e){if(b(e).left){t();var n=e.target||e.srcElement;if(n.tagName){var i=n.tagName.toLowerCase();if("textarea"===i||"select"===i||"input"===i)return!1}return e.preventDefault(),!1}}),DayPilot.reNonPassive(a,"touchstart",function(e){var i=o;u=window.setTimeout(function(){u=null,t(),n.Ig(e),e.preventDefault()},i)}),DayPilot.reNonPassive(a,"touchmove",function(e){u&&clearTimeout(u),y.drag&&e.preventDefault()})},DayPilot.Scheduler.makeDraggableAsRow=function(e){function t(){var t=n.Ct={};t.element=a,t.options=e,t.source=null}e=e||{};var i=e.element,a=e.keepElement?null:e.remove||i;if(!i)throw new DayPilot.Exception("makeDraggable(options): options.element must be specified");DayPilot.us(i),DayPilot.re(i,"mousedown",function(e){if(b(e).left){t();var n=e.target||e.srcElement;if(n.tagName){var i=n.tagName.toLowerCase();if("textarea"===i||"select"===i||"input"===i)return!1}return e.preventDefault(),!1}})},DayPilot.Scheduler.stopDragging=function(){var e=y.drag;if(e&&e.Xv){var t=e.Xv,i=t.event.calendar;i&&s(t,i.ca(i.Jl.eventMovingSource))}if(n.ix(),n.un=!1,n.vq&&(k(n.Nq),n.vq=null,n.Oq=null,n.Nq=null),n.vn){var a=n.sq.calendar;a&&(a.Cc(),a.jb=null,s(n.vn,a.ca(a.Jl.eventMovingSource))),k(n.$r),n.vn=null,n.sq=null,n.$r=null}if(n.wq){var a=n.wq.calendar;a.clearSelection(),n.wq=null}r().style.cursor="",w(n.Vf).forEach(function(e){e.ib(),e.ls(),e.Il.Bt(),e.Sl.clear()})},DayPilot.Scheduler.registerDropTarget=function(e){function t(e){var t=y.drag;if(t&&t.event){var n=t.event;if(!i.isConnected)return h&&d&&(h=!1,s({e:n})),void f();var o=i.getBoundingClientRect(),l=e.clientX,v=e.clientY;l>=o.left&&l<=o.right&&v>=o.top&&v<=o.bottom?(h||(h=!0,u&&c({e:n})),r&&a({e:n})):h&&(h=!1,d&&s({e:n}))}}function n(e){var t=y.drag;if(t&&t.event){var n=t.event;if(!i.isConnected)return h&&d&&(h=!1,s({e:n})),void f();var a=i.getBoundingClientRect(),r=e.clientX,c=e.clientY;r>=a.left&&r<=a.right&&c>=a.top&&c<=a.bottom&&l&&o({e:n}),h&&(h=!1,d&&s({e:n}))}}e=e||{};var i=e.element,a=e.onDragOver,r="function"==typeof a,o=e.onDrop,l="function"==typeof o,s=e.onDragLeave,d="function"==typeof s,c=e.onDragEnter,u="function"==typeof c;if(!i)throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified");var h=!1,f=function(){document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n),i.Xh=null};document.addEventListener("pointermove",t),document.addEventListener("pointerup",n),i.Xh=function(){f()}},DayPilot.Scheduler.registerRowDropTarget=function(e){e=e||{};var t=e.element,i=e.onDragOver,a="function"==typeof i,r=e.onDrop,o="function"==typeof r,l=e.onDragLeave,s="function"==typeof l;if(!t)throw new DayPilot.Exception("registerRowDropTarget(options): options.element must be specified");var d=function(){if(!n.Ct)return null;var e=n.Ct.cu;return e?new DayPilot.Row(e.row,e.sourceCalendar):null},c=function(){var e=d();if(e&&a){var t={};t.row=e,i(t)}},u=function(){var e=d();if(e&&s){var t={};t.row=e,l(t)}},h=function(){var e=d();if(e&&o){var t={};t.row=e,r(t)}};t.addEventListener("mousemove",c),t.addEventListener("mouseleave",u),t.addEventListener("mouseup",h),t.Xh=function(){t.removeEventListener("mousemove",c),t.removeEventListener("mouseleave",u),t.removeEventListener("mouseup",h),t.Xh=null}},DayPilot.Scheduler.unregisterDropTarget=function(e){e=e||{};var t=e.element;t&&t.Xh&&t.Xh()},n.ix=function(){n.Wv&&(r().removeChild(n.Wv),n.Wv=null),y.drag=null},n.Vh=function(){var e=y.drag;if(e){var t=e&&e._f,n=t&&t.onDrop;if("function"==typeof n){var i={};i.options=t,n(i)}}},n.Mh=function(e){n.Vf||(n.Vf=w(),n.Vf.out=function(){n.Vf.forEach(function(e){e.gb()})});for(var t=0;t<n.Vf.length;t++)if(n.Vf[t]===e)return;n.Vf.push(e)},n.db=function(e){var t=n.Vf;if(t){var i=C(t,e);i!==-1&&t.splice(i,1),0===t.length&&(t=null)}t||(DayPilot.ue(document,"mousemove",n.Gg),DayPilot.ue(document,"mouseup",n.Hg),DayPilot.ue(document,"mousedown",n.Qu),DayPilot.ue(document,"touchmove",n.Ig),DayPilot.ue(document,"touchend",n.Jg),DayPilot.ue(window,"keyup",n.Ru),n.Fg=!1)},n.Ig=function(i){var a,o;if(n.vq){var l=n.vq.event.calendar;l.coords=l.Ca.Vg(i),l.Ca.Zg()}if(n.vn&&!y.drag){var s=n.sq.calendar;s.coords=s.Ca.Vg(i),s.Ca.$g(),function(){var t;if(s.dragOutAllowed){var a=e(i);if(!a||a!==s){var r=n.sq;y.drag={};var o=y.drag;o.id=r.id(),o.text=r.text(),o.Xv=n.vn,o.element=null,o.duration=(r.rawend().getTime()-r.start().getTime())/1e3,o.text=r.text(),o.id=r.id(),o.event=v(r,new DayPilot.Event),s.ls(),k(n.$r),n.$r.calendar=null,n.$r=null,n.xq=null,null===(t=n.Vf)||void 0===t?void 0:t.out()}}}()}var d=y.drag;if(d){var c=d._f||{};if(!d.Uh){var u=c.onDragStart,h=!1;if("function"==typeof u){var f={};f.options=c,f.preventDefault=function(){f.preventDefault.value=!0},u(f),h=f.preventDefault.value}if(d.Uh=!0,h)return n.Vh(),void(y.drag=null)}var p=t(i),l=e(i);if(l){if(n.Wv&&r().removeChild(n.Wv),n.Wv=null,l.coords=l.Ca.Vg(i),!n.$r&&l.rowlist.length>0){if(!n.vn){n.vn={};var m=d.event;if(!m){var g=l.Yv();m=new DayPilot.Event(g),m.calendar=l,m.part.duration=1e3*d.duration}m.part.external=!0;var b=d.Xv;b&&b.event&&b.event.calendar===l&&(m.part.external=!1),n.sq=m}n.$r=l.Lb(n.sq)}n.vn&&l.Ca.$g()}else{var w=null===(a=n.$r)||void 0===a?void 0:a.calendar;w&&(w.jb=null,w.ls()),k(n.$r);var x=n.vn;n.vn=null,n.sq=null,n.$r=null,n.Wv||(n.Wv=n.jx(d._f),n.Wv.source=x);var C=n.Wv;C.style.left=p.x+"px",C.style.top=p.y+"px",null===(o=n.Vf)||void 0===o?void 0:o.out()}}},n.Jg=function(e){n.tu=!1,n.Hg(e)},n.Gg=function(e){var t;if("undefined"!=typeof n&&!y.touch.active&&!y.touch.start&&!(e.insideMainD||e.srcElement&&e.srcElement.inside)){var i=DayPilot.mc(e);if(T.row&&!n.Ct){var a=n.Ct={};a.element=null,a.options={"data":T.row.resource},a.cu=T,a.source=null}var o=y.drag;if(n.Ct){r().style.cursor="move",n.Wv||(n.Wv=n.jx(n.Ct.options));var l=n.Wv;l.style.left=i.x+"px",l.style.top=i.y+"px"}else if(o){var s=o._f||{};if(!o.Uh){var d=s.onDragStart,c=!1;if("function"==typeof d){var u={};u.options=s,u.preventDefault=function(){u.preventDefault.value=!0},d(u),c=u.preventDefault.value}if(o.Uh=!0,c)return n.Vh(),void(y.drag=null)}var h="move";"string"==typeof s.externalCursor&&(h=s.externalCursor),r().style.cursor=h,n.Wv||(n.Wv=n.jx(o._f));var l=n.Wv;if(l.style.left=i.x+"px",l.style.top=i.y+"px",l.style.cursor=h,n.vn=null,n.sq=null,n.$r){var f=n.$r.calendar;null===f||void 0===f?void 0:f.ls(),n.$r.calendar=null,k(n.$r),n.$r=null}}else if(n.vn&&n.sq&&n.sq.calendar.dragOutAllowed&&!o){var f=n.sq.calendar,p=n.sq;r().style.cursor="move",n.Wv||(n.Wv=n.jx(p.data),n.Wv.source=n.vn);var l=n.Wv;l.style.left=i.x+"px",l.style.top=i.y+"px";var m={};m.Xv=n.vn,m.element=null,m.duration=(p.rawend().getTime()-p.start().getTime())/1e3,m.text=p.text(),m.id=p.value(),m.event=v(p,new DayPilot.Event),y.drag=m,f.ls(),k(n.$r),n.$r.calendar=null,n.$r=null}if(n.As&&0===e.buttons){n.As.cleanup(),n.As=null}null===(t=n.Vf)||void 0===t?void 0:t.out()}},n.Wh=function(){if(n.Vf)for(var e=0;e<n.Vf.length;e++){var t=n.Vf[e];n.db(t)}},n.Qu=function(){n.Yp&&n.Yp.blur()},n.Ru=function(e){if(("Control"===e.key||"Meta"===e.key)&&n.Lv){n.Lv.Kl.dispatch(),n.Lv=null}},n.Hg=function(e){if(w(n.Vf).forEach(function(e){e.ib(),e.vn={},e.Nv=null}),n.vq){var t=function(){y.resizingAreaData=null;var e=n.Oq,t=e.calendar;r().style.cursor="",n.vq=null,n.Oq=null,k(n.Nq),n.Nq=null,t&&(t.Pv=null)};if(setTimeout(function(){n.un=!1}),!n.Nq)return void t();var a=n.Oq,o=a.calendar,l=n.Nq.finalStart,d=n.Nq.finalEnd,c=n.Nq.overlapping,u=!n.Nq.allowed,h=o.Tl.isInvalid();o.ls(),o.Tl.clear();var f="left"===n.vq.dpBorder?"start":"end";if(t(),c||u||h||o.Tl.forbidden)return;o.qc(a,l,d,f)}else if(n.sq){var t=function(){y.movingAreaData=null;var e=n.$r&&n.$r.calendar;n.$r&&(k(n.$r),n.$r.calendar=null),r().style.cursor="",n.vn=null,n.sq=null,n.Vh(),y.drag=null,e&&(e.jb=null)};if(setTimeout(function(){n.un=!1}),!n.$r)return void t();var p=y.drag,m=p&&p.Xv,a=m?m.event:n.sq,g=n.$r.calendar;if(!g)return void t();if(a.calendar&&a.calendar!==g){var x=a.calendar,C=a,_=v(a.data);a=new DayPilot.Event(_,x),a.part={"external":!0,"duration":x.Aq(C)}}if(n.$r.source=n.vn,function(){if(p&&p.Xv){var e=p.Xv;if(e&&e.event){s(e,e.event.calendar.ca(g.Jl.eventMovingSource))}}}(),!n.$r.row)return void t();clearTimeout(g.Iq.timeout);var l=n.$r.start,d=n.$r.end,S="Days"!==g.viewType?n.$r.row.id:null,E=a.part.external,H=n.$r.line,c=n.$r.overlapping,u=!n.$r.allowed;if(p&&(g.pm||(g.pm={}),g.pm.qm=p.element,n.Vh(),y.drag=null),n.$r.calendar=null,r().style.cursor="",n.vn=null,n.sq=null,c||u||g.Sl.forbidden||g.Sl.invalid)return void g.Cc();g.zc(a,l,d,S,E,e,H),y.movingAreaData=null}else if(n.wq){var M=b(e),A=n.wq,R=A.moved,B=A.calendar,t=function(){};B.gw=null;var N=e.ctrlKey||e.metaKey;if(B.allowMultiRange&&B.elements.range2)return B.elements.range2.overlapping||A.disabled?(k(B.elements.range2),B.elements.range2=null,B.ls()):B.Kl.add(A),n.wq=null,N||M.left&&B.Kl.dispatch(),void t();if(n.Kv)return clearTimeout(n.Kv),n.Kv=null,void t();B.oo=A,n.wq=null;var P=function(e){return function(){n.Kv=null;var t=B.elements.range2;if(t&&t.overlapping)return void B.clearSelection();var i=R?"drag":"click";B.lo(e,i)}},L=B.hw(A);if(t(),!M.left)return void(n.Kv=null);if(A.moved||"Disabled"===B.timeRangeDoubleClickHandling)return P(L)(),e.cancelBubble=!0,!1;n.Kv=setTimeout(P(L),B.doubleClickTimeout)}else if(T.row){var o=T.calendar;null===o||void 0===o?void 0:o.At()}else if(D.source){var o=D.calendar;o.Ql.Rj(),o.Ql.Xn(),D.source=null,D.calendar=null}else if(n.As){var z=n.As;z.cleanup(),n.As=null}else if(n.ln){var I=n.ln,O=I.calendar;if(!I.moved){n.ln=null;var j=O.Gm.Hm(I.start.x,I.start.y,1,1),U=j.length>0;return void(O.Tc(O.coords)||U||O.jw(e))}var W=I.x,Y=I.y,q=I.width,F=I.height,V=!1,J=O.Gm.Hm(W,Y,q,F),G=function(){setTimeout(function(){O.Ll.clear(),n.ln=null,O.ib()},0),O.ls()};if("function"==typeof O.onRectangleEventSelect||"function"==typeof O.onRectangleSelect){var X=O.gi(I.y),Z=X.i,K=O.gi(I.y+I.height),Q=K.i,$={"start":{"y":Z},"end":{"y":Q}},ee=O.Mo($),te=X.element.start.getTime()-O.Ub().getTime(),ne=K.element.start.getTime()-O.Ub().getTime(),ie={};if(ie.events=J,ie.append=!1,ie.start=O.getDate(I.x,!0).addTime(te),ie.end=O.getDate(I.x+I.width,!0).addTime(ne),ie.resources=ee,ie.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof O.onRectangleEventSelect&&O.onRectangleEventSelect(ie),"function"==typeof O.onRectangleSelect&&O.onRectangleSelect(ie),ie.preventDefault.value)return O.Ll.clear(),n.ln=null,void G();V=ie.append}if("EventSelect"===O.Ba.Vw()&&(V||O.multiselect.clear(!0),J.forEach(function(e){O.multiselect.add(e,!0)}),O.multiselect.redraw()),G(),"function"==typeof O.onRectangleEventSelected||"function"==typeof O.onRectangleSelected){var ie={};ie.events=J,"function"==typeof O.onRectangleEventSelected&&O.onRectangleEventSelected(ie),"function"==typeof O.onRectangleSelected&&O.onRectangleSelected(ie)}}var ae=y.drag;if(ae&&(ae.event&&ae.event.part&&delete ae.event.part.external,n.Vh(),y.drag=null,r().style.cursor=""),n.Ct){var re=n.Ct.cu;re&&re.sourceCalendar&&re.sourceCalendar.Il.Jt(re.row),n.Ct=null,r().style.cursor=""}if(n.Wv){if(n.Wv.source){var m=n.Wv.source;if(m.event){var o=n.Wv.source.event.calendar;s(n.Wv.source,o.ca(o.Jl.eventMovingSource))}else i()}r().removeChild(n.Wv),n.Wv=null}n.rq=null,n.xq=null},n.jx=function(e){e=e||{};var t=o();return t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.zIndex=101,t.style.pointerEvents="none",t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.overflow="hidden",t.className=e.externalCssClass,e.externalHtml&&(t.innerHTML=e.externalHtml),r().appendChild(t),t},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotScheduler=function(e){var t=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Scheduler(this.id||this,e);n.init(),this.daypilot=n,t||(t=n)}});return 1===this.length?t:n}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotScheduler",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,n){return t[0].removeAttribute("id"),t[0].innerHTML=this["template"].replace("{{id}}",n["id"]),function(t,n,i){var a=new DayPilot.Scheduler(n[0].firstChild);a.nh.scope=t;var r=i["id"];r&&(t[r]=a);var o=i["publishAs"];if(o){(0,e(o).assign)(t,a)}for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(n){a[n]=function(a){var r=e(i[n]);DayPilot.Util.safeApply(t,function(){r(t,{"args":a})})}}(l):!function(n){a[n]=function(a){e(i[n])(t,{"args":a})}}(l)}var d=t["$watch"],c=i["config"]||i["daypilotConfig"],u=i["events"]||i["daypilotEvents"];c||a.init(),d.call(t,c,function(e){a.wh(e),a.za?(a.update(),a.Nh()):a.init()},!0),u&&d.call(t,u,function(e){a.events.list=e,a.Od({"eventsOnly":!0})},!0),t.$on("$destroy",function(){a.dispose()})}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot);
